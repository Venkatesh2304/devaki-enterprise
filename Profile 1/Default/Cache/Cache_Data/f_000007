<!DOCTYPE html>
<html>

	<head>

		<meta charset="utf-8">	
		<meta name="HandheldFriendly" content="True">
		<meta name="MobileOptimized" content="320">
		<meta name="viewport" content="width=device-width,initial-scale=1,user-scalable=no"/>
		
		<title>LeverEDGE R22.3.1 - U1</title>
		
		<link rel="shortcut icon" href="/rsunify/resources/imgs/favico.png" />
		<link rel="stylesheet" type="text/css" href="/rsunify/resources/easyui/themes/default/easyui.css?v=R22.3.1_20220329081806">
		<link rel="stylesheet" type="text/css" href="/rsunify/resources/easyui/themes/icon.css?v=R22.3.1_20220329081806">
		<link rel="stylesheet" type="text/css" href="/rsunify/resources/easyui/index.css?v=R22.3.1_20220329081806">
		<link rel="stylesheet" type="text/css" href="/rsunify/resources/easyui/customStyle.css?v=R22.3.1_20220329081806">
		<link rel="stylesheet" type="text/css" href="/rsunify/resources/easyui/productMaintainceCategory.css?v=R22.3.1_20220329081806">
		<link rel="stylesheet" type="text/css" href="/rsunify/resources/CSS/Index.css?v=R22.3.1_20220329081806">
		<link rel="stylesheet" type="text/css" href="/rsunify/resources/CSS/app-styles.css?v=R22.3.1_20220329081806">
 		<link rel="stylesheet" type="text/css" href="/rsunify/resources/CSS/app-styles1.css">
 		<link rel="stylesheet" type="text/css" href="/rsunify/resources/CSS/jquery.datepicker.css?v=R22.3.1_20220329081806">	
		<link href="/rsunify/resources/CSS/ui.tree-view.css?v=R22.3.1_20220329081806" rel="stylesheet" type="text/css" id="skinSheet">
		<link href="/rsunify/resources/CSS/dashboard.css?v=R22.3.1_20220329081806" rel="stylesheet" type="text/css">

		<script type="text/javascript" src="/rsunify/resources/js/jquery-1.10.2.js?v=R22.3.1_20220329081806"></script> 
        <script src="/rsunify/resources/js/jquery-ui-treeview.js?v=R22.3.1_20220329081806" type="text/javascript"></script> 
        <script type="text/javascript" src="/rsunify/resources/easyui/jquery.easyui.min.js?v=R22.3.1_20220329081806"></script>
        
		<script type="text/javascript" src="/rsunify/resources/easyui/datagrid-cellediting.js?v=R22.3.1_20220329081806"></script>
		<script type="text/javascript" src="/rsunify/resources/easyui/datagrid-filter.js?v=R22.3.1_20220329081806"></script>
		<script type="text/javascript" src="/rsunify/resources/js/moment.min.js?v=R22.3.1_20220329081806"></script>
		<script type="text/javascript" src="/rsunify/resources/js/custom-ui.js?v=R22.3.1_20220329081806"></script>
		<script type="text/javascript" src="/rsunify/resources/js/jquery.datebox.js?v=R22.3.1_20220329081806"></script>
		<script type="text/javascript" src="/rsunify/resources/js/vscontext.jquery.js?v=R22.3.1_20220329081806"></script>	
		<script type="text/javascript" src="/rsunify/resources/js/reportapi/appJsFile.js?v=R22.3.1_20220329081806"></script>
		<script type="text/javascript" src="/rsunify/resources/js/date.js?v=R22.3.1_20220329081806"></script>	
		<script type="text/javascript" src="/rsunify/resources/js/jquery.datepicker.js?v=R22.3.1_20220329081806"></script>
		<script type="text/javascript" src="/rsunify/resources/js/tablenav.js?v=R22.3.1_20220329081806"></script>
		<script type="text/javascript" src="/rsunify/resources/js/jquery.hotkeys.js?v=R22.3.1_20220329081806"></script>		
		<script type="text/javascript" src="/rsunify/resources/js/jquery.floatThead.js?v=R22.3.1_20220329081806"></script>
		<script type="text/javascript" src="/rsunify/resources/js/jquery.blockUI.js?v=R22.3.1_20220329081806"></script>		
		<script type="text/javascript" src="/rsunify/resources/js/jquery.maskedinput.min.js?v=R22.3.1_20220329081806"></script> 
		<script type="text/javascript" src="/rsunify/resources/js/cookiesUtils.js?v=R22.3.1_20220329081806"></script>
  		<script type="text/javascript" src="/rsunify/resources/js/keymenu-navigation.js?v=R22.3.1_20220329081806"></script>
  		<script type="text/javascript" src="/rsunify/resources/js/jquery-ui.min.js?v=R22.3.1_20220329081806"></script>
  		
  		
		<link rel="stylesheet" type="text/css" href="/rsunify/resources/CSS/reportapi/theme1.css?v=R22.3.1_20220329081806">
 		<link href="/rsunify/resources/CSS/jquery-ui-1.10.4.custom.min.css?v=R22.3.1_20220329081806" rel="stylesheet" type="text/css">
 		<link rel="stylesheet" type="text/css" href="/rsunify/resources/CSS/chatbot-css.css?v=R22.3.1_20220329081806">
 		<script src="https://cdn.botframework.com/botframework-webchat/latest/webchat.js?v=R22.3.1_20220329081806"></script> 
		<style type="text/css">
			.minim-main-tab{
				display: block !important;
			}
			.windows-item span{
			display:none !important;
			}
			#browser-message {
				width: 80%;
				max-width: 767px;
				font-size: 16px;
				padding: 60px 40px;
				margin: 40px auto;
				border-radius: 8px;
				background: #fff;
				box-shadow: 2px 2px 8px rgba(0, 0, 0, 0.4);
				box-sizing: border-box;
			}
			.messager-body{
				width: auto !important;
			}
			
			.appLog-table-fixed-header-container {
				width: 100%;
				overflow: hidden;
			}
			
			#appLog-table-fixed-wrapper {
				overflow: hidden;
			}
			
			#appLog-table {
				margin-top: -20px;
			}
			
			#appLog-table thead {
				visibility: hidden;
			}
			
			.rsu-username{
			    color: #000 !important;
			    float: right;
			}
			.rsu-username label{
				font-weight: BOLD;
			    text-transform: uppercase;
	         }
	         #databse-info-div{
	         	   position: fixed;
				   bottom: 0;
				   width: 100%;
				   background: #edeff1;
				   height: 20px;
				   text-align: center;
				   color: #000;
				   font-family: sans-serif;
				   font-weight: bold;
				   text-shadow: 0 1px 0 #84BAFF;
				   box-shadow: 0 0 13px #00214B;
				   text-transform: uppercase;
	         }
	         #databse-info-div div{
	         	font-size: 10px !important;
	         	font-family: sans-serif;
	         	padding-right: 20px;
	         	text-align: right;
         	    padding-top: 4px;
	         }
	         .chat-img{
		    	float: right;
		    	cursor: pointer !important;
		    	margin-right: 2px;
		    }
		</style>
	</head>
	
	<body oncontextmenu="return false" onload="noBack();" onpageshow="if (event.persisted) noBack();" onunload="" onload="JavaScript:Document.body.focus();" onkeydown="return showKeyCode(event)">
		<!-- ikea dashboard messanger start -->
		<div class="ikea-acm-info-marquee dfault"><marquee></marquee></div>
		<!-- ikea dashboard messanger end -->
		<!-- Updated by Sark -->
		
		
		
		
		
		<!-- Draggable Message box ( Updated version from Transaction Module ) -->
		<!-- Still compatible with existing Master Modules -->
		<div class="rsu-probe-container rsu-box-shadow">
			<table>
				<tr>
					<td><i class="fa fa-lightbulb-o"></i></td>
					<td>
						<div id="display-message">Welcome.!</div>
					</td>
				</tr>
			</table>
		</div>
		
		
		
		<div class="menu-top menu" id="search_menu_item_container" style="display: none;" ></div>
		
		<!-- Draggable Message box ends here -->
		<!-- Primary Navigation container starts here -->
		<div class="header-nav-wrapper">
			<!-- Top Level Main menu starts here -->
			<div class="easyui-panel">
				<a href="#" class="easyui-menubutton moc-partial-close" data-options="menu:'#mm1'">System</a>
					<a href="#" class="easyui-menubutton moc-partial-close" data-options="menu:'#mm2'">Configuration</a>
					<a href="#" class="easyui-menubutton financialMOC moc-partial-close" data-options="menu:'#mm3'">Transactions</a>
					<a href="#" class="easyui-menubutton" data-options="menu:'#mm7'">HUL Programs</a>
					<a href="#" class="easyui-menubutton" data-options="menu:'#mm10'">Financials</a> 
					<a href="#" class="easyui-menubutton" data-options="menu:'#mm11'">Views</a>
					<a href="#" class="easyui-menubutton" data-options="menu:'#mm4'">Reports</a>
					<!-- 
				<a href="#" class="easyui-menubutton" data-options="menu:'#mm8'">Tools</a>
					
				-->
				<a href="#" class="easyui-menubutton" data-options="menu:'#mm6'">Utilities</a>
					<a href="#" class="easyui-menubutton" data-options="menu:'#mm12'">Help</a>
					<a href="#" class="easyui-menubutton disabled">Limen</a>
						<!-- data-options attr updated from `activeDiv` to `mm6` ( Update by Sark ) --> 
				<a href="#" class="easyui-menubutton disabled" data-options="menu:'#mm9'" id="rsu-window-menu-item">Window</a> 
					<!-- Dashboard menu entry - Added by Sark -->
				<a href="#" onclick="rSuControllerObj.handleMenuClick(this)" class="easyui-menubutton" data-context="reload" id="rsu-dashboard-menu-item">Dashboard</a>
				
				
				<!-- Todo/Log menu entry - Added by Jegath -->
				<a href="#" onclick="rSuControllerObj.handleMenuClick(this)" class="easyui-menubutton" data-context="logtodo" id="rsu-logtodo-menu-item">Log/To do</a>
				
				<!-- Salesman Maintenance Screen menu entry - Added by Anjaneya -->
				<a href="#" class="easyui-menubutton" onclick="salesForceManagement();" id="sfm" >iTeams</a>
					<a href="#" class="easyui-menubutton" data-options="menu:'#mm15'">Quick Links</a>
						<a href="#" class="easyui-menubutton disabled">Optimus</a>
					<a href="#"  class="easyui-menubutton easyui-linkbutton" onclick="logout()" data-options="plain:true">Logout</a>
		
					<div class="rsu-probe-searchmenu easyui-menubutton easyui-linkbutton l-btn l-btn-small l-btn-plain m-btn m-btn-small">
					<input autocomplete="off" type="text" data-target-type="field" data-field-type="text" id="ikea_home_menu_search"  tabindex="1" class="edited" curreference="" data-mandatory="false" data-behaviour="alphanumeric"  value="" placeholder="Search Menu..." maxlength="35">
					</div>
		
		
		
	
				<a href="#"  class="easyui-menubutton disabled rsu-username" onclick="javascript:void(0)" data-options="plain:true">User Name: <label>VEN</label></a>
				<a href="#" onclick="ikeaDashboardManagerObj.toggleEditMode(this)" id="rsu-dashboard-edit-btn" class="easyui-menubutton l-btn l-btn-small l-btn-plain m-btn m-btn-small"><i class="fa fa-gear"></i></a>
				<a href="#" onclick="ikeaDashboardManagerObj.prepareSurvey(this)" id="ikea-take-survey-btn" class="easyui-menubutton l-btn l-btn-small l-btn-plain m-btn m-btn-small"><i class="fa fa-file-text"></i></A>
				
					</div>
			<!-- Top Level Main menu ends here -->
			<!-- Added a custom attr called `data-parent` to all submenu containers ( by Sark ) -->
			<!-- Sub Menus items of System Main Menu starts here -->
			<div id="mm1" style="width: 250px;">
					<div data-context="userMaintenance" onclick="displayScreenUrl('userMaintenanceController/index', 'userMaintenance' , 'User Maintenance')">User Maintenance</div>
						<div class="menu-sep"></div>
					
					<div class='disabled'>CBMS User Maintenance</div>
						<div onclick="javascript:displayScreenUrl('masterPasswordController/index','masterPassword', 'Masters Password' )">Masters Password</div>
						<div class="menu-sep"></div>
					<div onclick="displayScreen('syncwithCentralUnify','loadSyncwithCentralUnify','Sync with Central Unify')">Sync with Central Unify</div>
						<!--<div class='disabled'>Time Sync with Central Unify</div>
						 -->
					<div class="menu-sep"></div>
					<div>
						<span>Import Data</span>
								<div>
									<div onclick="displayScreen('systemImportData','loadSystemImportData','Import Data')">Import Data</div>
										</div>
							</div>
					<div class="menu-sep"></div>
					<div>
						<span>NewsPage</span>
								<div>
									<div onclick="javascript:displayScreenUrl('quantumExport/', 'quantumExport' , 'Beat Export')" >Beat Export</div>
										<!--<div  onclick="trigger_transaction(this)" data-context="quantum_import">Market order & Collection</div>
										<div class='disabled'>Trade Damages / Shortages Import</div>
										<div class='disabled'>Trade Returns Import (DSE/Sales Return)</div>
										-->
									<div onclick="displayScreen('fileUploadId','loadFileUploadId','NewsPage Sync')">NewsPage Sync</div>
									</div>
							</div>
					<div class="menu-sep"></div>
					<div onclick="displayScreen('businessSummary','loadBusinessSummary','Business Summary')">Business Summary</div>
						<!-- 
					<div class="menu-sep"></div>
					<div class="disabled">View limit for DB-size warning</div>
				 -->
				 </div>
			<!-- Sub Menus items of `System` Main Menu ends here -->
			<!-- Sub Menus items of `Configuration` Main Menu starts here -->
			<div id="mm2" style="width: 250px;">
					<div>
						<span>Distributor Maintenance</span>
								<div>
									<div data-context="loadRsInforamtion" onclick="javascript:displayScreenUrl('rsInforamtion/index',  'loadRsInforamtion', 'RS Information')">RS Information</div>
										<!-- Added for Samadhaan -->
									<div class='disabled'>Cross Dock Information</div>
										<!-- End of Samadhaan Changes -->
									
									<!-- Added by Govind .. -->
									<div onclick="displayScreen('zoneMaster',  'index', 'Zone Master')">Zone Master</div>
										<div onclick="javascript:displayScreenUrl('territoryMaster/',  'territoryMaster', 'Territory Master')">Territory Master</div>
										<!-- Ended by Govind -->
								
									<!-- Added by Sathishkumar Veeramani .. -->
									<!--<div onclick="displayScreen('pretaxposttaxDiscount','loadPretaxPosttaxDiscount','Pre Tax/Post Tax Discount')">Pre Tax/Post Tax Discount</div>
										-->
									<!-- Ended by Sathishkumar Veeramani ... -->
									<div data-context="counters" onclick="javascript:displayScreenUrl('counters/index', 'counters', 'Counters')">Counters</div>
										<!-- Added by Sathishkumar Veeramani .. -->
									<div onclick="displayScreen('tSOAEInformation','loadTSOAEInformation','TSO/KAE Information')">TSO/KAE Information</div>
										<!-- Ended by Sathishkumar Veeramani -->
									<div onclick="trigger_transaction(this)" data-context="smsmailconfig">SMS & MAIL Configuration</div>
										</div>
							</div>
					<div onclick="displayScreen('distributorMaintenanceSettings','loadDistributorMaintenanceSettings', 'Settings')">Settings</div>
						<div onclick="displayScreen('mocOperatingMaster','loadMocOperatingMaster','Monthly Operating Cycle')">Monthly Operating Cycle</div>
						<div onclick="javascript:displayScreen('stateMaintenanceSettings','loadStateMaintenanceSettings','State Maintenance')">State Maintenance</div>
						<div data-context="supplierMaintenance" onclick="javascript:displayScreenUrl('suppliemaintenance/index','supplierMaintenance','Supplier Maintenance' )">Supplier Maintenance</div>
						<div data-context="loadVendorMaster" onclick="displayScreen('vendorMaster','loadVendorMaster','Vendor Master')">Vendor Master</div>
						<div onclick="javascript:displayScreenUrl('bankMaintenance/',  'bankMaintenance', 'Bank Maintenance')">Bank Maintenance</div>
						<div onclick="displayScreen('locationMaintenance','loadLocationMaintenance','Location Maintaince')">Location Maintenance</div>
						<!--added by Pramod start...-->
					<div class="menu-sep"></div>
					<!-- Updated by Bhagyashri -->
					<!--<div>
						<span>Outlet Classification</span>
								<div>
									<div class='disabled'>Primary Channel</div>
										<div class='disabled'>Channel</div>
										<div class='disabled'>Classification</div>
										<div class='disabled'>Category</div>
										<div class='disabled'>Type</div>
										</div>
							</div> -->
					<!-- Ends here... -->
					<div>
						<span>Route Master</span>
								<div>
									<div data-context="loadBeatMaster" onclick="displayScreen('beatMaster','loadBeatMaster','Beat Master')">Beat Master</div>
										<!--  Added by Nanda -->
									<div class='disabled'>Custom Beat Master</div>
										<div onclick="displayScreen('localitymaster','loadLocalities','Locality Master')">Locality Master</div>
										<!-- End By Nanda -->		
								</div>
							</div>
					<div data-context="loadSalesmanMaintenance" onclick="displayScreen('salesmanMaintenance','loadSalesmanMaintenance','Salesman Maintenance')">Salesman Maintenance</div>
						<div onclick="displayScreen('salesmanBeatLink','loadSalesmanBeatLink','Salesman Beat Link')">Salesman Beat Link</div>
						<div data-context="loadRssmBeatPlgLink" onclick="displayScreen('rssmBeatPlgLink','loadRssmBeatPlgLink','RSSM Beat PLG Link - New')">RSSM Beat PLG Link - New</div>
						<div data-context="index" onclick="javascript:displayScreen( 'vehicalmaintenance','index','Vehicle Maintenance')">Vehicle Maintenance</div>
							 <div class="menu-sep"></div>
			<!-- 		<div>
						<span>Product Maintenance</span>
								<div>
									<div onclick="javascript:displayScreenUrl('productMaintenance/getProfitCenter','profitCenter', 'Profit Center')">Profit Center</div>
										<div onclick="javascript:displayScreenUrl( 'productMaintenanceDivision/index','productMaintenanceDivision','Division')">Division</div>
										<div onclick="displayScreen('category','loadCategory','Category')">Category</div>
										<div onclick="displayScreen('subCategory','loadSubCategory','SubCategory')">SubCategory</div>
										<div onclick="displayScreen('brand','loadBrand','Brand')">Brand</div>
										<!-- Added by Sathishkumar Veeramani .. -->						
											<!-- <div onclick="displayScreen('itemVarient','loadItemVarient','Item Varient')">Item Varient</div>-->	
											<!-- Ended by Sathishkumar Veeramani -->
										<!--<div class="menu-sep"></div>
									<div onclick="javascript:displayScreenUrl('productMaintenance/getProductGroup','productGroup', 'Group')">Group</div>
										</div>
							</div> -->
					<!-- Added by Tikesh -->
					
					<div onclick="displayScreen('standard_discount','loadRsDiscount','RS Discount Maintenance')">RS Discount Maintenance</div>
							<div class="menu-sep"></div>
					<div onclick="displayScreen('claimGroupMaintenance',  'claimGroupMaintenanceTest','Claim Group Maintenance')">Claim Group Maintenance</div>
						<!-- End by Tikesh -->
					<!--added by Pramod end...-->
					<div onclick="displayScreen('damageTypeMaintenance','loadDamageTypeMaintenance', 'Damage Type Maintenance')">Damage Type Maintenance</div>
						<div onclick="displayScreen('transactionTypeMaintenance','loadTransactionTypeMaintenance', 'Transaction Type Maintenance')">Transaction Type Maintenance</div>
						<!-- update end by premday -->
					<!-- added by jegadish.manoharan -->
					<div class='disabled'>Gift Maintenance</div>
						<div class="menu-sep"></div>
					<div class='disabled'>Vijeta Packs</div>
						<!-- Added By bhagyashri -->
					<div onclick="displayScreen('skuShadeMapping','loadSkuShadeMappingPage','SKU Shade Mapping')">SKU Shade Mapping</div>
						<div>
						<span>Asset Master Detail</span>
								<div>
									<div onclick="displayScreen('assetTypeMaster','loadAssetTypeMasterPage','Asset Type Master')">Asset Type Master</div>
										<div onclick="displayScreen('partyAssetMaster','loadPartyAssetMasterPage','Party Asset Master')">Party Asset Master</div>
										</div>
							</div>
					<!-- end -->
					<!--  added for reports setup screen -->
					<div
								onclick="trigger_fired_first(event, this);trigger_transaction(this)"
								data-context="report_configurations">Bill Print Template Setup</div>
						<!-- end of report setup changes -->				
				</div>
			<!-- Sub Menus items of `Configuration` Main Menu ends here -->
			<!-- Sub Menus items of `Distribution` Main Menu starts here -->
			<div id="mm3" style="width: 250px;">
					<div>
						<span>Masters</span>
								<div>
									<div data-context="validateAndLoadProductMastersScreen" onclick="displayScreen('productMasters','validateAndLoadProductMastersScreen', 'Product')">Product</div>
										<div>
										<span>Party Master</span>
												<div>
													<div data-context="loadPartyMasterScreen" onclick="displayScreen('partyMasterScreen','loadPartyMasterScreen','Party Master Screen')">Party Master Screen</div>
														<div onclick="displayScreen('partyRequestPropasalSubmission','loadPartyRequestPropasalSubmission','Party Request Propasal Submission')">Party Request Proposal Submission</div>
														<!-- Start Party Request Proposal Status Report is added -->
												  <div onclick="displayScreen_reports('reportsControllers	',  'reportScreen','Party Request Proposal Status Report','partyMaster/partyrequestproposalStatusReport')">Party Request Proposal Status Report</div>
  													 <!-- Ends -->
													
													
													
												</div>
											</div>
								<!-- <div onclick="displayScreen('ssOutletMaster','loadSSOutletMaster','SS Outlet Master')">SS Outlet Master</div>
										 -->
									<div onclick="displayScreen('basepackInformation','loadBasepackInformation','Basepack Information')">Basepack Information</div>
										</div>
							</div>
					<div>
						<span>Schemes</span>
								<div>
									<div onclick="displayScreen('hulScheme','loadHulScheme','Hul Scheme')">HUL Scheme</div>
										<div onclick="displayScreen('pecomScheme', 'openPecomSchemeScreen', 'PE/COM Scheme')">PE/COM Scheme</div>
										<div class='disabled'>Party Scheme</div>
										<!-- added by sumant -->
											<div onclick="displayScreen('consumerCoupon','loadConsumerCoupon','Consumer Coupon')">Consumer Coupon</div>
										<div onclick="displayScreen('hulBundlePackScheme','loadBundlePackScheme','HUL Bundle Pack Scheme')">HUL Bundle Pack Scheme</div>
										<div data-context="hulBundleTPRScheme" onclick="javascript:displayScreenUrl('hulBundleTPRScheme/','hulBundleTPRScheme', 'HUL Bundle TPR Scheme')">HUL Bundle TPR Scheme</div>
										<!-- Added By Rajesh -->
									<div>
										<span>iQ Schemes</span>
												<div>
													<div data-context="loadIqShcemesIndex" onclick="displayScreen('IQSchemes','loadIqShcemesIndex', 'iQ Outlet Incentive Scheme');">iQ Outlet Incentive Scheme</div>
														</div>
											</div>
									<div class="menu-sep"></div>
									<div onclick="displayScreen('hulClaim','loadHulClaimIndex', 'HUL Claim')">HUL Claim</div>
										<div onclick="displayScreen('hulClaimMaintenance','loadHulClaimMaintenanceindex', 'HUL Claim Maintenance')">HUL Claim Maintenance</div>
										<div class='disabled'>HUL E-Claim Generation</div>
										<div class="menu-sep"></div>
									<div onclick="displayScreen('rsScheme','loadRsScheme', 'RS Scheme')">RS Scheme</div>
										<div onclick="displayScreen('rsClaim','loadRsClaim','RS Claim')">RS Claims</div>
										<div class='disabled'>Qps</div>
										</div>
							</div>
					
					
					
					
					<!-- Transaction Modules Menu Items ( Updated by Sark ) -->
					<div class="rsu-transaction-menus transcation-Div">
						<span>Purchase</span>
								<div>
								
									<div onclick="trigger_transaction(this)" data-context="gir_purchase_receipt">Purchase Receipt</div>
										<div onclick="trigger_transaction(this)" data-context="purchase_return">Purchase Return</div>
										<div onclick="trigger_transaction(this)" data-context="payment">Payment</div>
										</div>
							</div>
					
					
					
					
					
					<div class="rsu-transaction-menus transcation-Div">
						<span>Sales</span>
								<div>
									<div onclick="trigger_fired_first(event, this);trigger_transaction(this)" data-context="billing">Billing</div>
										<div  onclick="trigger_transaction(this)" data-context="quantum_import">Market order & Collection</div>
										<div onclick="trigger_transaction(this)" data-context="deliveryprocess">Delivery Process</div>
										<div onclick="trigger_transaction(this)" data-context="loading_sheet">Loading Sheet</div>
										<div onclick="trigger_transaction(this)" data-context="bill_printing">Bill Printing</div>
										<div onclick="displayScreen_reports('reportsController','reportScreen','E-Way Bill', 'Utility/eWayBillGeneration')">E-Way Bill</div>
										<div onclick="displayScreen_reports('reportsController','reportScreen','E-Invoice', 'Utility/eInvoiceGeneration')" id="e-invoice">E-Invoice</div>
										<div onclick="displayScreen_reports('reportsController','reportScreen','E-Invoice IRN Upload', 'Utility/eInvoiceIRNUpload')" id="e-invoiceIRN">E-Invoice IRN Upload</div>
										<div onclick="trigger_transaction(this)" data-context=emailbill>Email Bill</div>
										<div onclick="trigger_transaction(this)" data-context="permanent_posting">Permanent Posting</div>
										<!-- <div class='disabled'>IRD Republish Bill</div>  -->
											
											
										</div>
							</div>
					
					
					<div class="rsu-transaction-menus transcation-Div">
						<span>Collection</span>
								<div>
									<div class='disabled'>Market Collection</div>
										<div onclick="trigger_transaction(this)" data-context="cheque_maintenance">Cheque Maintenance</div>
										<div onclick="javascript:displayScreenUrl( 'beatSequenceMaster/indexclsu','uploadCreditLimitSetting','Credit Locking')">Credit Locking</div>
										</div>
							</div>
					
		
		
				
					
					
					<div class="rsu-transaction-menus transcation-Div">
						<span class="disabled">Return</span>
							</div>
					
					<div class="rsu-transaction-menus transcation-Div">
						<span>Claims</span>
								<div>
								
									<div onclick="displayScreen('damageClaimConfig','loadDamageClaimConfig', 'Damage Claim Config', 1)">Damage Claim Config</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Claim Status Report','claims/pncc/claimsStatusReport')">Claim Status Report</div>
										<!-- Added By Kesava -->
									
									<div>
										<span>PNCC/CNCC Report</span>
												<div>
													<!--<div onclick="displayScreen_reports('reportsController',  'reportScreen','Claims Status Report','claims/pncc/claimsStatusReport')">Claims Status Report</div>
														
													 Added By Kesava -->
													<div onclick="javascript:displayScreen_reports( '', '', 'View/Submit PNCC/CNCC','claims/pncc/generatePnCnCC')">View/Submit PNCC/CNCC</div>
														<!-- End By Kesava -->
													<!--<div class='disabled'>Depot Claims Acknowledgement Report</div>
														 -->
												</div>
											</div>
									
									
									<div>
									<span>Goods & Service Tax (GST) Report</span>
												<div>
													<div onclick="trigger_transaction(this)"
															data-context="service_invoice">Service Invoice</div>
														<div onclick="trigger_transaction(this)"
															data-context="debit_credit_note">Debit/Credit Note</div>
														</div>
											</div>
									
									
									<!-- Gst report 
									<div onclick="trigger_transaction(this)"
											data-context="service_invoice">Service Invoice</div>
										<div onclick="trigger_transaction(this)"
											data-context="debit_credit_note">Debit/Credit Note</div>
										<!-- Gst report
									<div class="disabled">GST Report</div>
										-->
									<div onclick="displayScreen('CCSFController','CCSFreport', 'Customer Claim Summary Form (CCSF)', 1)"><span>Customer Claim Summary Form (CCSF)</span></div>
										<div onclick="trigger_transaction(this)"
												data-context="other_claims">Other Claims</div>
										<div class='disabled'>Other Claims-Approval</div>
										<div onclick="trigger_transaction(this)"
												data-context="other_claims_closure">Other Claims-Closure</div>
										<!-- End By Sathish.N -->	
									<div class="menu-sep"></div>
									<!-- Added By Anjaneya -->
									<div onclick="displayScreen('others3PGiftsController','loadothers3PGifts', 'Other Issues / 3P Gifts')">Other Issues / 3P Gifts</div>
										</div>
							</div>
					
					
					
					<!-- Promotions Modules Menu Items ( Updated by Sark ) -->
					<div class="rsu-transaction-menus">
						<span>Promotions</span>
								<div>
									<div onclick="trigger_transaction(this)" data-context="pecomBudget">PE/COM-Budget by RS</div>
										<div class='disabled'>PE/COM-Budget Approval</div>
										<div onclick="trigger_transaction(this)" data-context="pecomClosure">PE/COM-Payout Closure</div>
										<div class="menu-sep"></div>
									<div onclick="trigger_transaction(this)" data-context="non_trade_payout">Non Trade - Payout</div>
										<div class='disabled'>Non Trade - Approval</div>
										<div class="menu-sep"></div>
									<div onclick="trigger_transaction(this)" data-context="hul_qps_monitor">Quantity Purchase Scheme (QPS) Monitor</div>
										<div onclick="trigger_transaction(this)" data-context="hul_qps_approval">Quantity Purchase Scheme (QPS) - Approval</div>
										<div onclick="trigger_transaction(this)" data-context="hul_qps_payout_closure">Quantity Purchase Scheme (QPS) - Payout Status</div>
										<div class="menu-sep"></div>
									<!--<div onclick="trigger_transaction(this)"
												data-context="consumer_coupon_submission">Consumer Coupon Submission</div>
										<div class='disabled'>Consumer Coupon Approval</div>
										<div class="menu-sep"></div>-->
									<!--<div onclick="trigger_transaction(this)"
												data-context="trade_coupon_status">Trade Coupon Status</div>
										<div onclick="trigger_transaction(this)"
												data-context="trade_coupon_submission">Trade Coupon Submission</div>
										<div class='disabled'>Trade Coupon Approval</div>
										<div onclick="trigger_transaction(this)"
												data-context="trade_coupon_closure">Trade Coupon Closure</div>
										<div class="menu-sep"></div>-->
									<div class='disabled'>TSI Approval</div>
										<div class="menu-sep"></div>
									<div onclick="trigger_transaction(this)"
												data-context="bundle_pack_budget">HUL Bundle Pack Budget</div>
										<div class="menu-sep"></div>
								</div>
							</div>
					<!-- Promotions Modules Menu Items ends here -->
					
					
					<div class="rsu-transaction-menus transcation-Div">
						<span>Stock Management</span>
								<div>
									<div onclick="displayScreen('stockAdjustmentProposal', 'loadStockAdjProposal', 'Stock Adjustment (Good Stock) - Proposal', 1)">Stock Adjustment(Good Stock) - Proposal</div>
										<div class='disabled'>Stock Adjustment(Good Stock) - Approval</div>
										<div onclick="trigger_transaction(this)" data-context="saleablereturnproposal">Saleable Stock Movement (Expiry to Main) - Proposal</div>
										<div class='disabled'>Saleable Stock Movement (Expiry to Main) - Approval</div>
										<div onclick="trigger_transaction(this)" data-context="source_rs_stock_transfer">Source RS Stock Transfer</div>
										</div>
							</div>
					
					
					<div>
						<span class="disabled">Month Operating Cycle (MOC) Close</span>
							</div>
				</div>
			<!-- Sub Menus items of `Distribution` Main Menu ends here -->
			<!-- Sub Menus items of `HUL Programs` Main Menu starts here -->
			<div  id="mm7" style="width: 250px;">
					<div>
						<span>QOC/Unistar</span>
								<div>
									<div>
										<span>Business Config</span>
												<div>
													<div class='disabled'>Business Setup</div>
														</div>
											</div>
									<div>
										<span>Target Settings</span>
												<div>
													<div onclick="displayScreen('mocSalesTarget','mocLoadIndex', 'MOC Sales Target(Non IQ)', 1)">MOC Sales Target</div>
														<div class='disabled'>RS Width Pack Target</div>
														<div class='disabled'>RS Depth Pack Target</div>
														<div class='disabled'>RS Assortment Target</div>
														<div onclick="displayScreen_reports('', '', 'TSI Changes Report', 'qoc/targetsettings/tsiChangesReport')">TSI Changes Report</div>
														</div>
											</div>
									<div>
										<span>Unistar Reports</span>
												<div>
													<div onclick="displayScreen_reports('', '', 'Unistar Achievement Report', 'qoc/unistarReports/unistarAchievementReport')">Unistar Achievement Report</div>
														<div onclick="javascript:displayScreen_reports( '', '', 'FCS Report','qoc/tsoReviewReports/rssmPerformanceReview/fcsReport')">FCS Report</div>
															<div onclick="javascript:displayScreen_reports( '', '', 'FCS Balance To Do Report','qoc/tsoReviewReports/rssmPerformanceReview/fcsBalToDoReport')">FCS Balance To Do Report</div>
															<div onclick="displayScreen_reports('', '', 'Unistar Trend Report', 'qoc/unistarReports/unistarTrendReport')">Unistar Trend Report</div>
															</div>
											</div>
									<div>
										<span>QOC</span>
												<div>
													<div class='disabled'>RSSM Width Pack Target</div>
														<div class='disabled'>RSSM Depth Pack Target</div>
														<div class='disabled'>RSSM Assortment Target</div>
														<div onclick="displayScreen_reports('',  '','QOC Tracker Report', 'qoc/qoc/qocTrackerReport')">QOC Tracker Report</div>
														<div onclick="javascript:displayScreen_reports( '', '', 'FCS Report','qoc/tsoReviewReports/rssmPerformanceReview/fcsReport')">FCS Report</div>
															<div onclick="javascript:displayScreen_reports( '', '', 'FCS Balance To Do Report','qoc/tsoReviewReports/rssmPerformanceReview/fcsBalToDoReport')">FCS Balance To Do Report</div>
															<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM Action Report', 'qoc/qoc/rssmActionReport')">RSSM Action Report</div>
														<div onclick="displayScreen_reports('',  '','QOC Achievement Report', 'qoc/qoc/qocAchievementReport')">QOC Achievement Report</div>
														<div onclick="displayScreen_reports('reportsController',  'reportScreen','QOC Items Report', 'qoc/qoc/qocItemsReport')">QOC Items Report</div>
														</div>
											</div>
									<div>
										<span>TSO Review Reports</span>
												<div>
													<div>
																<span>RS Performance Review</span>
																<div>
																	<div onclick="displayScreen_reports('reportsController',  'reportScreen','QOC - Sales Report', 'qoc/tsoReviewReports/rsPerformanceReview/salesReport')">Sales Report</div>
																		<div onclick="displayScreen_reports('reportsController',  'reportScreen','Promo Pack Sales Report', 'qoc/tsoReviewReports/rsPerformanceReview/promoPackSalesReport')">Promo Pack Sales Report</div>
																		<div onclick="displayScreen_reports('reportsController',  'reportScreen','Channel Sales Summary Report', 'qoc/tsoReviewReports/rsPerformanceReview/channelSalesSummaryReport')">Channel Sales Summary Report</div>
																		<div onclick="displayScreen_reports('reportsController',  'reportScreen','Channel Wise Top 20 SKU Report', 'qoc/tsoReviewReports/rsPerformanceReview/channelWiseTop20SkuReport')">Channel Wise Top 20 SKU's Report</div>
																		<div onclick="displayScreen_reports('reportsController',  'reportScreen','RS Infrastructure Report', 'qoc/tsoReviewReports/rsPerformanceReview/rsInfrastructureReport')">RS Infrastructure Report</div>
																		</div>
															</div>
														<div>
																<span>RSSM Performance Review</span>
																<div>
																	<div onclick="displayScreen_reports('', '', 'RSSM QOC Tracker','qoc/tsoReviewReports/rssmPerformanceReview/rssmQocTracker')">RSSM QOC Tracker</div>
																		<div onclick="javascript:displayScreen_reports( '', '', 'FCS Report','qoc/tsoReviewReports/rssmPerformanceReview/fcsReport')">FCS Report</div>
																		<div onclick="javascript:displayScreen_reports( '', '', 'FCS Balance To Do Report','qoc/tsoReviewReports/rssmPerformanceReview/fcsBalToDoReport')">FCS Balance To Do Report</div>
																		</div>
															</div>
														</div>
											</div>
									<div onclick="displayScreen('infraParametersController','loadInfrakundliIndex', 'Infrakundli Parameters', 1)">Infrakundli Parameters</div>
										<div>
										<span>U1 Performance Reports</span>
												<div>
													<div class='disabled'>RS & RSSM QOC Summary</div>
														<div>
														<span>Perfect Store Status By RSSM - MOC</span>
																<div>
																	<div class='disabled'>RSSM View</div>
																		</div>
															</div>
												</div>
											</div>
								</div>
							</div>
					<div onclick="javascript:displayScreenUrl( 'fcsIoQocDashboardController/index','FCS+ / IQ+ /QOC+','FCS+ / IQ+ /QOC+')">FCS+ / IQ+ /QOC+</div>
						<div class='disabled'>Shakti QOC+</div>
						</div>
			<!-- Sub Menus items of `HUL Programs` Main Menu ends here -->
			<!-- Sub Menus items of `Views` Main Menu started here -->
			<div id="mm11" style="width: 250px;">
					<div onclick="displayScreen('partyMaster', 'displayMasterPassword', 'Views Party Master')">Party Master</div>
						<div onclick="displayScreen('viewsProductMaster', 'displayViewsProductMaster', 'Views Product Master')">Product Master</div>
						<div onclick="javascript:displayScreenUrl('lowSalesBOM/index', 'lowSalesBOMId', 'Low Sales BOM')">Low Sales BOM</div>
							<div class="menu-sep"></div>
					<div class='disabled'>RS QPS Monitor</div>
						</div>
			<!-- Sub Menus items of `Views` Main Menu ends here -->
			<!-- Sub Menus items of `Reports` Main Menu starts here -->
			<div id="mm4" style="width: 250px;">
					<div>
						<span>Masters</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Product Master Report','report/productMaster')">Product Master Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Service Accounting Code ( SAC) Master','report/sacTaxMaster')">Service Accounting Code ( SAC) Master</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Price Master','report/priceMaster')">Price Master</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Party Master Report','report/partyMaster')">Party Master Report</div>
										<div onclick="displayScreen_reports('', '', 'Party Discount Master', 'reports/masters/partyDiscountMasterReport')">Party Discount Master</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','PartyWise Asset Master','report/partywise_asset_master_report')">PartyWise Asset Master</div>
										<div class='disabled'>Outlet Product Listing</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Chanel Product Listing','report/channelProductListing')">Channel Product Listing</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Salesman Master Report','report/salesmanMasterReport')">Salesman Master Report</div>
										<!-- <div class='disabled'>Reports Salesman Master</div> -->
									<div class='disabled'>Bill Cap Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Outlet Transfer Report (OTR)', 'report/outletTransferReport')">Outlet Transfer Report (OTR)</div>
										</div>
							</div>
					<div onclick="displayScreen_reports('reportsController',  'reportScreen','User Log Report','report/userLogReport')">User Log Report</div>
										<div>
						<span class='disabled'>IRD Reports</span>
							</div>
					<div>
						<span>Scheme Master</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','HUL Scheme Master','report/hulSchemeMaster')">HUL Scheme Master</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','RS Scheme Master','report/rsSchemeMaster')">RS Scheme Master</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','TOT Scheme Master','report/totSchemeMaster')">TOT Scheme Master</div>
										</div>
							</div>
					<div class="menu-sep"></div>
					<div>
						<span>Sales Analysis</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Sales Pivot','report/salespivot')">Sales Pivot</div>
										<div class="menu-sep"></div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Daily Sales','report/dailySales')">Daily Sales</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Party wise Sales','report/partyWiseSales')">Party wise Sales</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','MOC Wise Sales','report/mocWiseSales')">MOC Wise Sales</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Product Wise Sales','report/productWiseSales')">Product Wise Sales</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Bill Wise Sales','report/billWiseSales')">Bill Wise Sales</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Cumulative Sales Report','report/cumulativeSalesReport')">Cumulative Sales Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Outlet Category Wise Sales','report/outletCategoryWiseSales')">Outlet Category Wise Sales</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Sales Register','report/salesRegister')">Sales Register</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Sales Summary','report/salesSummary')">Sales Summary</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Channel Wise Sales Summary','report/channelWiseSalesSummary')">Channel Wise Sales Summary</div>
										<div class="menu-sep"></div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Item Wise Sales','report/itemWiseSales')">Item Wise Sales</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Trend Analysis','report/trendAnalysis')">Trend Analysis</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Party Wise Average Sales','report/partyWiseAverageSales')">Party Wise Average Sales</div>
										<div class='disabled'>Damages Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Undelivered Bills Report','report/undeliveredBills')">Undelivered Bills Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','OTR Sales Report','report/otrSalesReport')">OTR Sales Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Daily Sales - SS Serviced','report/dailySalesSSServiced')">Daily Sales - SS Serviced</div>
										</div>
							</div>
					<div>
						<span>Stock Analysis</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Stock N Sales','report/stockNsales')">Stock 'n' Sales</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Current Stock','report/currentStockReport')">Current Stock</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Stock Ledger','report/stockLedger')">Stock Ledger</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Daily Stock','report/dailyStock')">Daily Stock</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Trans1 Report', 'report/trans1Report')">Trans1 Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Saleable Stock Movement Report','report/salableStockReturnReport')">Saleable Stock Movement Report</div>
										</div>
							</div>
					<!-- Added by Sark [ Loading Sheet ] -->
					
					<div>
						<span>Delivery Reports</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Shogun Report','report/shogunReport')">Shogun Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Delivery Status Report','report/deliveryStatusReport')">Delivery Status Report</div>
										</div>
							</div>
					<div>
						<span>Collection Analysis</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Collection Summary','report/collectionSummary')">Collection Summary</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Salesman Wise Collection','report/salesmanWiseCollection')">Salesman Wise Collection</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Party Wise Collection','report/partywisecollection')">Party Wise Collection</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Date Wise Collection','report/datewisecollection')">Date Wise Collection</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Ageing Analysis Report','report/ageinganalysis')">Ageing Analysis </div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Bank Statement','report/bankStatement')">Bank Statement</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Outstanding Report','report/outstanding')">Outstanding Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Pay In Slip Report','report/payinSlip')">Pay In Slip </div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Cheque Status Report','report/chequereport')">Cheque Status Report</div>
										<div class='disabled'>Party Opening Balance</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Pending statement','report/pendingstatement')">Pending Statement</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Pending Bill','report/pendingbill')">Pending Bills</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Bill Ageing Analysis Report','report/billageinganalysis')">Bill Ageing Analysis Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','UPI/Online Payment Details','report/upiPaymentDetails')">UPI/Online Payment Details</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Credit Line Status','report/creditLineStatus')">Credit Line Status</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Retailer Credit Tracker','report/retailerCreditTracker')">Retailer Credit Tracker</div>
										</div>
							</div>
					<div>
						<span>Purchase Analysis</span>
								<div>
									<div onclick="displayScreen_reports('', '', 'Purchase Register', 'report/purchaseRegister')">Purchase Register</div>
										<div onclick="displayScreen_reports('', '', 'Product Wise Purchase', 'report/productwisePurchase')">Product Wise Purchase</div>
										<div class='disabled'>e-GIR Exceptions</div>
										<div class='disabled'>e-GIR VS m-GIR Report</div>
										<div class='disabled'>Octroi Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','DSE/Truck Acknowledgement Report','report/dsetTruckaAcknowledgementReport')">DSE/Truck Acknowledgement Report</div>
										</div>
							</div>
					<div>
						<span>Purchase Return Analysis</span>
								<div>
									<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Purchase Return Register', 'report/purchasereturnRegister')">Purchase Return Register</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Product wise Purchase Return', 'report/productWiseReturn')">Product Wise Purchase Return</div>
										</div>
							</div>
					<div>
						<span>Sales Return Analysis</span>
								<div>
									<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Sales Return Register', 'report/salesReturnRegister')">Sales Return Register</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Sales Return Detail', 'report/salesReturnDetail')">Sales Return Detail</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'DateWise SalesReturn Report', 'report/datewisesalesvsReturnreport')">Date Wise Sales vs Return Report</div>
										</div>
							</div>
					<div class="menu-sep"></div>
					<div>
						<span>Scheme Analysis</span>
								<div>
									<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Slab wise Scheme Analysis Report', 'report/slabwiseSchemeAnalysisReport')">Slab wise Scheme Analysis Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Bill Wise Scheme Analysis', 'report/billWiseSchemeAnalysis')">Bill Wise Scheme Analysis</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'HUL Scheme Report ', 'report/HulSchemeReport')">HUL Scheme Report </div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'RS Claim Actual Report', 'report/rsClaimActualReport')">RS Claim Actual Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'PECOM Budget Report', 'report/pcomBudgetReport')">PECOM Budget Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Current Scheme Status Report', 'report/currentSchemeStatusReport')">Current Scheme Status Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Payout Report', 'report/payoutReport')">Payout Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'IQ Incentive Payout Report', 'report/IQIncentivePayoutReport')">IQ Incentive Payout Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Outlet Payout Report', 'report/outletPayoutReport')">Outlet Payout Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Current MOC Pending Payout Report', 'report/currentMocPendingPayoutReport')">Current MOC Pending Payout Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Reversed Payouts', 'report/reversedPayout')">Reversed Payouts</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'TOT Scheme Discount Report', 'report/totSchemeDiscountReport')">TOT Scheme Discount Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'RS Product Discount Report', 'report/rsProductDiscountReport')">RS Product Discount Report</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Shikhar Scheme Discount Report', 'report/shikharSchemeDiscReport')">Shikhar Scheme Discount Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','RS Operated Discount','report/nonClaimDiscRpt')">RS Operated Discount</div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','BTPR Scheme Report','report/btprSchmeRpt')">BTPR Scheme Report</div>
									</div>
							</div>
					<div class="menu-sep"></div>
					<div>
						<span>MIS Reports</span>
								<div>
									<div>
										<span>ABC Analysis</span>
												<div>
													<div onclick="displayScreen_reports('reportsController',  'reportScreen','Product Wise','report/productWiseABCAnalysis')">Product Wise</div>
														<div onclick="displayScreen_reports('reportsController',  'reportScreen','Beat Wise','report/beatWiseABCAnalysis')">Beat Wise</div>
														<div onclick="displayScreen_reports('reportsController',  'reportScreen','Party Wise','report/partyWiseABCAnalysis')">Party Wise</div>
														</div>
											</div>
									<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Productivity Analysis', 'report/productivityAnalysis')">Productivity Analysis</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Distribution Width', 'report/distributionwidth')">Distribution Width</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Effective Coverage Outlets (ECO) Monitor', 'report/ecomonitor')">Effective Coverage Outlets (ECO) Monitor</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Non Effective Coverage Outlets (ECO) Monitor', 'report/nonecomonitor')">Non Effective Coverage Outlets (ECO) Monitor</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Top Outlets', 'report/topoutlets')">Top Outlets</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Beat Wise Productive Outlet Listing', 'report/betawiseproductivity')">Beat Wise Productive Outlet Listing</div>
										<div onclick="displayScreen_reports('reportsController', 'reportScreen', 'Vijeta Sales Analysis Old', 'report/vijetaSalesAnalysisOld')">Vijeta Sales Analysis Old</div>
										<div>
										<span>TSI(SalesMan)-Analysis</span>
												<div>
													<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM-Area-Product Sales Qty And Value','report/rssmAreaProductSalesQty')">RSSM-Area-Product Sales Qty And Value</div>
														<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM-Area-Party Wise Sales Value with Scheme','report/rssmAreaPartyWiseSalesValueWithScheme')">RSSM-Area-Party Wise Sales Value with Scheme</div>
														<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM-Area-Partywise Product Sales Qty And Value','report/RSSM-partwise-product-sales-qty-and-Value')">RSSM-Area-Partywise Product Sales Qty And Value</div>
														<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM-Area-Product-Party Sales Qty And Value With Scheme','report/rssmAreaProductpartysalesQtynValuewtScheme')">RSSM-Area-Product-Party Sales Qty And Value With Scheme</div>
														<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM-Area-Sales Value With No Of Bills and TLSD','report/rssmAreasalesvaluewithNoofbillsandTLSD')">RSSM-Area-Sales Value With No Of Bills and TLSD</div>
														<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM-Sales Value With No Of Bills and TLSD','report/rssmSalesvaluewithNoofbillsandTLSD')">RSSM-Sales Value - No Of Bills and TLSD</div>
														<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM Sales Value With Sales Return','report/rssmSalesvaluewithSalesReturn')">RSSM Sales Value With Sales Return</div>
														</div>
											</div>
								</div>
							</div>
					<div class="menu-sep"></div>
					<div>
						<span>Stock Movements</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Stock Adjustment','report/stockAdjustments')">Stock Adjustment</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Stock Transfer','report/stockTransfer')">Stock Transfer</div>
										</div>
							</div>
					<div class="menu-sep"></div>
					<div onclick="displayScreen('CreditDebitNoteController','creditDebitNoteRpt', 'Credit / Debit Note Report', 1)"><span>Credit / Debit Note</span></div>
						<div onclick="displayScreen('CreditDebitNoteController','creditDebitNoteAdjRpt', 'Credit/Debit Adjustment', 1)"><span>Credit / Debit Adjustments</span></div>
						<div class="menu-sep"></div>
					<div>
						<span>Tax Analysis</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Itemwise Tax/GST Summary','report/itemWiseTaxVatSummary')">Itemwise Tax/GST Summary</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Goods & Service Tax (GST) Summary','report/salesTaxVatSummary')">Goods & Service Tax (GST) Summary</div>
										<div onclick="displayScreen('taxAnalysisController',  'salesTaxOrVatLedgerRpt','salesTaxOrVatLedger')">Goods & Service Tax (GST) Ledger</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Daywise Tax Summary','report/dayWiseTaxSummary')">Daywise Tax Summary</div>
										<div onclick="displayScreen('taxAnalysisController',  'slabwisesalesTaxOrVatLedgerRpt','slabwisesalesTaxOrVatLedgerRpt')">Slab wise GST Ledger</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Party wise Slab wise GST Report','report/partyWiseSlabWiseVatReport')">Party wise Slab wise GST Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Bill-wise TIN-wise Tax Reports','report/billwiseTinwiseTaxReport')">Bill-Wise GSTIN-Wise Tax Reports</div>
										<div class='disabled'>STPR VAT Loss Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','TCS Eligibility/TDS report','report/tcsReport')">TCS Eligibility/TDS report</div>
										</div>
							</div>
					<div class="menu-sep"></div>
				<!-- 	<div class='disabled'>CCSF</div>
						
					 -->
					<div>
						<span>Damage Claim</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Damage/Shortage Proposal Status Report','report/damageshortageproposalstatusReport')">Damage/Shortage Proposal Status Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Godown Wise Proposal Stock Value Report','report/godownWiseproposalstockvalueReport')">Godown Wise Proposal Stock Value Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','SAP Acknowledgement Report','report/sapAcknowledgementReport')">SAP Acknowledgement Report</div>
										<!-- This Menu added for 17.3.0 -->
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Damage - Debit Note Report','report/damageDebiteNoteReport')">Damage - Debit Note Report</div>
										<!-- This Menu added for 20.6.0 -->
									</div>
							</div>
					<div onclick="displayScreen_reports('reportsController',  'reportScreen','TOT Discount Report','report/totdiscountreport')">TOT Discount Report</div>
						<div class="menu-sep"></div>
					<div onclick="displayScreen_reports('reportsController',  'reportScreen','Outlet Target Vs Achievement Report','report/outletTargetVSachievementReport')">Outlet Target Vs Achievement Report</div>
						<div onclick="displayScreen_reports('reportsController',  'reportScreen','Booster Pack Target Vs Achievement Report','report/BoosterPackTargetVsAchievementReport')">Booster Pack Target Vs Achievement Report</div>
						<div>
						<span>Vijeta Reports</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Value Achievement Report','report/valueAchievementReport')">Value Achievement Report</div>
										</div>
							</div>
					<div>
						<span>StreamLine Reports</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Order Fulfillment Report','report/orderFulfillmentReport')">Order Fulfillment Report</div>
										</div>
							</div>
					<div>
						<span>NewsPage Reports</span>
								<div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','Customer Case Fill On Time (CCFOT)', 'report/CCFOTreport')">Customer Case Fill On Time (CCFOT)</div>
										<div class="menu-sep"></div>
									<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM GPS FOS REPORT', 'report/rssmGpsFosReport')">RSSM GPS FOS Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Visibility Packs Report','report/VisibilityPacksReports')">Visibility Packs Report</div>
										<div class='disabled'>Trade Service Card</div>
										<div onclick="displayScreen_reports('', '', 'RS Basepack OTIF', 'reports/quantumReport/rsBasepackOtif')">RS Basepack OTIF</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Usage Tracker', 'report/usageTracker')">Usage Tracker</div>
										<div class='disabled'>Channel Basepack List</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','RSSM Call Time Analysis', 'report/rssmCallTimeAnalysis')">RSSM Call Time Analysis</div>
										<div class='disabled'>Purchase Order Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Telecalling Report', 'report/telecallingReports')">Telecalling Report</div>
										<div class='disabled'>Merchandising Report</div>
										<div class='disabled'>GPS Status Report</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','Effective Feet On Street (EFOS)', 'report/efosReport')">Effective Feet On Street (EFOS)</div>
										<div class='disabled'>RSP/MT Failed Orders</div>
										<div onclick="displayScreen_reports('reportsController',  'reportScreen','New Outlet - Proposal vs Order Report', 'report/newOutletProposalvsOrderReport')">New Outlet - Proposal vs Order Report</div>
										</div>
							</div>
					<div onclick="displayScreen_reports('reportsController',  'reportScreen','LeverEDGE Sync Report','report/LeverEdge_syncReport')">LeverEDGE Sync Report</div>
						<!-- <div class="menu-sep"></div>
					<div>
						<span>iQ</span>
								<div>
									<div class='disabled'>iQ Packs Import Status Report</div>
										</div>
							</div> -->
					<div class="menu-sep"></div>
					<div id="disablekey">
						<span class='disabled'>ICD</span>
							</div>
					<div class='disabled'>Better Stores Budget / BA Target Report</div>
						<div onclick="displayScreen_reports('reportsController',  'reportScreen','Stock Adjustment Workflow Report','report/stockadjestmentworkflow')">Stock Adjustment Workflow Report</div>
						<div>
						<span class='disabled'>TSO Reports</span>
							</div>
					<div onclick="displayScreen_reports('reportsController',  'reportScreen','Goods & Service Tax (GST) Returns','report/gstReturnsReport')">Goods & Service Tax (GST) Returns</div>
						<div onclick="displayScreen_reports('reportsController',  'reportScreen','Ushop Points Ledger','report/UnipayPointsLedgerReport')">Ushop Points Ledger</div>
						</div>
			<!-- Sub Menus items of `Reports` Main Menu ends here -->
			<!-- Sub Menus items of `Shakti` Main Menu starts here -->
			<!-- Sub Menus items of `Financials` Main Menu starts here -->
			<div id="mm10" style="width: 250px;">
					<div onclick="javascript:displayScreenUrl( 'accountsCounterMaintaince/index','loadAccountsCounterMaintenance','Accounts Counter Maintenance')">Accounts Counter Maintenance</div>
						<div onclick="javascript:displayScreenUrl( 'fincialCalenderId/index','loadFincialCalender','Financial Calendar')">Financial Calendar</div>
						<div onclick="javascript:displayScreenUrl( 'chartOfAccountsPageID/index','chartOfAccounts','Chart of Accounts')">Chart of Accounts</div>
						<div onclick="javascript:displayScreenUrl( 'openingBalancefincail/index','loadOpeningBalance','Opening Balance')">Opening Balance</div>
						<div class="menu-sep"></div>
					<div onclick="javascript:displayScreenUrl( 'accountsGroupMaintaince/index','loadAccountsGroupMaintenance','Accounts Group Maintenance')">Accounts Group Maintenance</div>
						<div onclick="javascript:displayScreenUrl( 'voucherMaintennanceFincial/index','loadVoucherMaintennance','Voucher Maintenance')">Voucher Maintenance</div>
						<div data-context="loadcrediDebitNoteFincial" onclick="javascript:displayScreenUrl( 'crediDebitNoteFincial/index','loadcrediDebitNoteFincial','Credit Debit Note')">Credit / Debit Note</div>
						<div class="menu-sep"></div>
					<div onclick="javascript:displayScreen_reports( '', '', 'Day Book','financials/dayBookReport')">Day Book</div>
						<div onclick="javascript:displayScreen_reports( '', '', 'GL Listing','financials/glListingReport')">GL Listing</div>
						<div onclick="javascript:displayScreen_reports( '', '', 'Book Listing','financials/bookListingReport')">Book Listing</div>
						<div class="menu-sep"></div>
					<div onclick="javascript:displayScreen_reports( '', '', 'Trial Balance','financials/trialBalanceReport')">Trial Balance</div>
						<div onclick="javascript:displayScreen_reports( '', '', 'Profit And Loss','financials/profitAndLossReport')">Profit And Loss</div>
						<div onclick="javascript:displayScreen_reports( '', '', 'Balance Sheet','financials/balanceSheet')">Balance Sheet</div>
						<div class="menu-sep"></div>
					<div onclick="javascript:validateExportToTallyForFinancialYear( 'exportToTally/index','exportToTally','Export To Tally')">Export To Tally</div>
						</div>
				<!-- Sub Menus items of `Financials` Main Menu ends here -->
			<!-- Added by Sark -->
			<!-- Sub Menus items of `Tools` Main Menu starts here -->
			<!-- Sub Menus items of `Tools` Main Menu ends here                  
			<div id="mm8" style="width: 250px;">
					-->    
					<!-- Sub Menus items of `Shakti` Main Menu ends here -->
					
					
					<!--		</div>
			-->
			<!-- Sub Menus items of `Tools` Main Menu ends here -->
			<!-- Sub Menus items of `Utilities` Main Menu starts here -->
			<div id="mm6" style="width: 250px;">
				
					<div class='disabled'>Fresh Supply- Tax Invoice</div>
						<div class='disabled'>Backup Database</div>
						<div class='disabled'>Compact DataBase</div>
						<div onclick="javascript:displayScreen('alarm','loadDBSize','Database Size Details')">DB Size Check</div>
						<div class='disabled'>DB Corruption Check</div>
						<div onclick="javascript:displayScreen('alarm','loadRefreshDatabase','Referesh Database', '0')">Refresh Database</div>
						<div onclick="javascript:displayScreensamewindow('alarm','loadBillLevelLock','Release Bill Level Lock')">Release Bill Level Lock</div>
						<div onclick="javascript:displayScreen('alarm','loadReleaseUserCon','Release User Connection')">Release User Connection</div>
						<div class="menu-sep"></div>
					<div onclick="javascript:displayScreenUrl('serchMaintance/index','loadSerchMaintance','Search Maintenance')">Search Maintenance</div>
						<div onclick="javascript:displayScreen('alarm','loadAlarm','Alarm')">Alarm</div>
						<div onclick="javascript:displayScreenUrl('schemeCheckController/index','schemeCheck','Scheme Check')">Scheme Check</div>
						<div class="menu-sep"></div>
					<div onclick="javascript:displayScreen('alarm','loadServerConfig','Sync Server Configuration')">Sync Server Configuration</div>
						<div class="menu-sep"></div>
					<div onclick="displayScreenUrl('syncMasterPasswordController/index', 'syncMasterPassword','Unlock Mandate Sync')">Unlock Mandate Sync</div>
						<div class="menu-sep"></div>
					<div class='disabled'>Release Active Screens</div>
						<!-- Added for Cygnet Invoice Upload Changes -->
					<div onclick="displayScreen_reports('gstInvoiceUpload', 'GSTInvUpload', 'Service Invoice Upload', 'gstInvoiceUpload/GST_ServiceInvoiceUpload')">Service Invoice Upload</div>
						<!-- End of Cygnet Invoice Upload Changes -->
					<div class="menu-sep"></div>
					<div onclick="javascript:displayScreenUrl('zeroInventoryUtilityController/index','ZeroInventory','Zero Inventoy ')">Zero Inventory</div>
						<div onclick="javascript:displayScreenUrl('ikeaPatchController/index','screen1Stockyfix','StockFix Patch')">StockFix Patch</div>
						<div class='disabled'>LSBOMUpdate Patch</div>
						<div onclick="javascript:displayScreenUrl('ikeaPatchController/indexsqlPatch','screen1QueryPatch','SQL Patch')">SQL Patch</div>
						<div class='disabled'>NewsPage User</div>
						<div class="disabled">DB Restoration Patch</div>
						<div data-context="loadPrinterDashboard" onclick="javascript:displayScreen('alarm','loadPrinterDashboard', 'Printer Configurations', 1)">Printer Configurations</div>
						<div onclick="displayScreen_reports('reportsController','reportScreen','Online Log Viewer', 'Utility/onlineLogger')">Online Log Viewer</div>
						<div onclick="displayScreen('outletBeatPlgLinkage','loadIndexScreen','Beat Mapping Utility')">Beat Mapping Utility</div>
						<!-- <div onclick="javascript:displayScreen('ikeaAdmin','loadConfigurationDashboard','Configuration Dashboard')">Configuration Dashboard</div> -->
					<div onclick="javascript:displayScreenUrl('reportBug/index','reportBug', 'Report Bug' )">Report Bug</div>
						<div onclick="javascript:displayScreenUrl('stockmigration/index','stockmigration', 'Stock Migration' )">Stock Migration</div>
						<div id="beat_mapping_utility_backUp_report"  onclick="displayScreen_reports('reportsController','reportScreen','Beat Mapping Utility Backup Report', 'Utility/beatmapUtilityBackUpReport')">Beat Mapping Utility Backup Report</div>
						</div>
			<!-- Sub Menus items of `Utilities` Main Menu ends here -->
			<!-- Added by Sark -->
			<!-- Sub Menus items of `Limen` Main Menu Starts here -->
			<div id="mm15" style="width: 250px;">
					<div class='disabled'>Digi Pay</div>
						<div onclick="javascript:displayScreen_reports( 'reportsController', 'reportScreen', 'Cyber Security','report/security')">Cyber Security</div>
							<!-- Sub Menus items of `Shakti` Main Menu ends here -->
					
					
				</div>
			<!-- optimus sub menu -->
			
			<!-- Sub Menus items of `Limen` Main Menu ends here -->
			<!-- Sub Menus items of `Window` Main Menu starts here -->
			<div class="rsu-dropdown-submenu-bar" id="mm9" style="width: 250px;" data-parent="window">
					<!-- All Minimized windows ( Transactions ) willbe added here as menu items -->	
				</div>
			<div id="mm12" style="width: 250px;">
					<div onclick="javascript:showLeverEdgeHelp()">LeverEDGE Help</div>
					
					<div onclick="trigger_transaction(this)" data-context="release_note">Release Notes</div>
					</div>
			<!-- <div id="mm13" style="width: 250px;">
				<div onclick="runBatchFile();">Upload Log Files</div>
			</div> -->
			<!-- Sub Menus items of `Window` Main Menu ends here -->
		</div>
		<!-- Primary Navigation container ends here -->
		<!-- Target container for Master Modules starts here -->
		<div style="padding-left: 0px; height: 100%; width: 100%;" id='loadPage'>
			<div id="quantumImport" class="targetDiv"></div>
			<div id="purchaseReceipt" class="targetDiv"></div>
			<div id="monthlyCycle" class="targetDiv"></div>
			<!-- Added by premday -->
			<div id="loadDistributorMaintenanceSettings" class="targetDiv"></div>
			<div id="loadDamageTypeMaintenance" class="targetDiv"></div>
			<div id="loadTransactionTypeMaintenance" class="targetDiv"></div>
			<div id="validateAndLoadProductMastersScreen" class="targetDiv"></div>
			<div id="openPecomSchemeScreen" class="targetDiv"></div>
			<div id="loadSalesmanMaintenance" class="targetDiv"></div>
			<div id="loadSalesmanBeatLink" class="targetDiv"></div>
			<div id="loadRssmBeatPlgLink" class="targetDiv"></div>
			<!-- Update ended by premday -->
			<!-- Added by pramod -->
			<div id="loadLocationMaintenance" class="targetDiv"></div>
			<div id="counters" class="targetDiv" ></div>
			<div id="loadBeatMaster" class="targetDiv" ></div>
			<div id="loadCategory" class="targetDiv"></div>
			<div id="loadSubCategory" class="targetDiv"></div>
			<div id="loadHulScheme" class="targetDiv"></div>
			<div id="loadBundlePackScheme" class="targetDiv"></div>
			<div id="loadPartyRequestPropasalSubmission" class="targetDiv"></div>
			<div id="loadPartyRequestPropasalApproval" class="targetDiv"></div>
			<div id="loadRsInforamtion" class="targetDiv"></div>
			<div id="loadMocOperatingMaster" class="targetDiv"></div>
			<div id="loadHulEClaimGeneration" class="targetDiv"></div>
			<div id="loadAccountsCounterMaintenance" class="targetDiv"></div>
			<div id="loadFincialCalender" class="targetDiv"></div>
			<div id="chartOfAccounts" class="targetDiv"></div>
			<div id="loadVoucherMaintennance" class="targetDiv"></div>
			<div id="loadcrediDebitNoteFincial" class="targetDiv"></div>
			<div id="loadAccountsGroupMaintenance" class="targetDiv"></div>
			<div id="loadOpeningBalance" class="targetDiv"></div>
			<div id="screen1Stockyfix" class="targetDiv"></div>
			  <div id="screen2LsbomUpdate" class="targetDiv"></div>
 			<div id="screen1QueryPatch" class="targetDiv"></div>
 			<div id="quantumPatch" class="targetDiv"></div>
 			<div id="loadPartySchmeIcd" class="targetDiv"></div>
			<div id="loadSerchMaintance" class="targetDiv"></div>
			<!-- Ended by pramod -->
			<!-- Added by Govind -->
			<div id="index" class="targetDiv"></div>
			<div id="loadBrand" class="targetDiv"></div>
			<div id="loadTotDiscountMasterScreen" class="targetDiv"></div>
			<div id="reportScreen" class="targetDiv"></div>
			<!-- Ended by Govind -->
			<!-- Added by Sathishkumar Veeramani -->
			      	
			<div id="loadVendorMaster" class="targetDiv"></div>
			        
			<div id="loadPretaxPosttaxDiscount" class="targetDiv"></div>
			        
			<div id="loadTSOAEInformation" class="targetDiv"></div>
			        
			<div id="loadItemVarient" class="targetDiv"></div>
			        
			<div id="loadBasepackInformation" class="targetDiv"></div>
			        
			<div id="loadSSOutletMaster" class="targetDiv"></div>
			<div id="loadPartyMasterScreen" class="targetDiv"></div>
			<div id="loadSystemImportData" class="targetDiv"></div>
			<div id="loadSyncwithCentralUnify" class="targetDiv"></div>
			<div id="loadTimeSyncwithCentralUnify" class="targetDiv"></div>
			<div id="loadBusinessSummary" class="targetDiv"></div>
			        <!-- Ended by Sathishkumar Veeramani -->
			<!-- added by anji start -->	
			<div id="vehicalMaintenance" class="targetDiv" ></div>
			<div id="supplierMaintenance" class="targetDiv"></div>
			<div id="masterPassword" class="targetDiv" ></div>
			<div id="userMaintenance" class="targetDiv" ></div>
			<div id="ipAddressWhitelist" class="targetDiv" ></div>
			<div id="cbmsUserMaintenance" class="targetDiv" ></div>
			<div id="syncMasterPassword" class="targetDiv" ></div>
			<div id="shakthiOrderImport" class="targetDiv" ></div>
			<div id="productMaintenanceDivision" class="targetDiv" ></div>
			<div id="loadothers3PGifts" class="targetDiv" ></div>
			<div id="loadBeatSequenceMaster" class="targetDiv" ></div>
			<div id="uploadCreditLimitSetting" class="targetDiv" ></div>
			<!-- added by anji end -->	
			<!-- ....Addesd By bhagyashri..... -->
			<div id="loadOutletClassificationPrimaryChannelPage" class="targetDiv"></div>
			<div id="loadOutletClassificationChannelPage" class="targetDiv"></div>
			<div id="loadOutlateClassificationPage" class="targetDiv"></div>
			<div id="loadOutlateClassificationCategoryPage" class="targetDiv"></div>
			<div id="loadOutletClassificationTypePage" class="targetDiv"></div>
			<div id="loadPartyAssetMasterPage" class="targetDiv"></div>
			<div id="loadAssetTypeMasterPage" class="targetDiv"></div>
			<div id="loadSkuShadeMappingPage" class="targetDiv"></div>
			<div id="loadPartyWiseAssetMasterScreen" class="targetDiv"></div>
			<div id="loadDailyStockPage" class="targetDiv"></div>
			<div id="loadDailyOutletProductListningPage" class="targetDiv"></div>
			<div id="loadBillWiswSalesPage" class="targetDiv"></div>
			<div id="loadOctrioReportPage" class="targetDiv"></div>
			<div id="loadEgirException" class="targetDiv"></div>
			<div id="loadRsSchemMaster" class="targetDiv"></div>
			<div id="loadHulSchemeMaster" class="targetDiv"></div>
			<div id="loadRsBasepackOtif" class="targetDiv"></div>
			<!-- Ends here -->		
			<!-- added by jeg start... -->
			<div id="bankMaintenance" class="targetDiv"></div>
			<div id="territoryMaster" class="targetDiv"></div>
			<div id="profitCenter" class="targetDiv"></div>
			<div id="productGroup" class="targetDiv"></div>
			<div id="giftMaintenance" class="targetDiv"></div>
			<div id="vijetaPack" class="targetDiv"></div>
			<div id="hulBundleTPRScheme" class="targetDiv"></div>
			<div id="quantumExport" class="targetDiv"></div>
			<div id="reportView" class="targetDiv"></div>
			<!-- added by jeg end... -->
			<!-- Added by Rajesh -->
			<div id="loadRsScheme" class="targetDiv"></div>
			<div id="loadIqShcemesIndex" class="targetDiv"></div>
			<div id="loadHulClaimIndex" class="targetDiv"></div>
			<div id="loadHulClaimMaintenanceindex" class="targetDiv"></div>
			<div id="loadDamageClaimConfig" class="targetDiv"></div>
			<div id="loadDamageClaimProposalPlg" class="targetDiv"></div>
			<div id="loadDamageClaimApprovalPlg" class="targetDiv"></div>
			<div id="loadDamageClaimStatus" class="targetDiv"></div>
			<div id="loadStockAdjProposal" class="targetDiv"></div>
			<!-- Added by Rajesh End -->
			<!-- Added by Sumant -->
			<div id="loadConsumerCoupon" class="targetDiv"></div>
			<div id="loadRsClaim" class="targetDiv" style='background:none;border:none'></div>
			<div id="loadAlarm" class="targetDiv"></div>
			<div id="loadDBSize" class="targetDiv"></div>
			<div id="loadServerConfig" class="targetDiv"></div>
			<div id="loadReleaseUserCon" class="targetDiv"></div>
			<div id="loadCompactDataBase" class="targetDiv"></div>
			<div id="loadBillLevelLock" class="targetDiv"></div>
			<div id="loadDBCorruptionCheck" class="targetDiv"></div>
			<div id="loadRefreshDatabase" class="targetDiv"></div>
			<!-- Ended by Sumant -->
			<!-- Added by Tikesh -->
			<div id="partyDiscountcall" class="targetDiv"></div>
			<div id="claimGroupMaintenanceTest" class="targetDiv"></div>
			<div id="qpsScreen" class="targetDiv"></div>
			<!-- End by Tikesh -->
			<!-- Added by Nanda -->
			<div id="loadcustomBeatMasterpage" class="targetDiv" ></div>
			<div id="loadLocalities" class="targetDiv" ></div>
			<div id="loadStandardDiscount" class="targetDiv" ></div>
			<div id="loadStateMaintenanceSettings" class="targetDiv"></div>
			<!-- End by Nanda -->
			<!--  Abhijit Changes Starts -->
			<div id="moccloseeclaimgeneration" class="targetDiv" ></div>
			<div id="TSIPAR" class="targetDiv" ></div>
			<!--  Abhijit Changes Ends -->
			<div id="activeDiv" style="width: 250px;cursor: pointer;"></div>
		</div>
		<!-- Target container for Master Modules end -->
		
		<!-- Added by Sark -->
		<!-- Transaction container starts here -->
		<!-- 
****************************************************************************************
****************************************************************************************
**	RSUnify		: Transaction base container									      **
**	Author 		: Saravana Kumar K													  **
**  Author URL  : http://iamsark.com												  **
**  Version 	: 1.0.0																  **
****************************************************************************************
****************************************************************************************
-->

<!-- Transaction base container starts here -->
<div ondrag="return false;" ondragover="return false;" ondrop="return false;" id="rsu-transaction-body-wrapper">	

	<link rel="stylesheet" type="text/css" href="/rsunify/resources/transactions/css/font-awesome.min.css">
	<link rel="stylesheet" type="text/css" href="/rsunify/resources/transactions/css/jquery-ui.css">
	<link rel="stylesheet" type="text/css" href="/rsunify/resources/transactions/css/style.css">		
	
	<script type="text/javascript">
		// This will be used by the docker handler ( The one and only handler which is communicating with the controllers )
		var docker_path = "/rsunify";
		var currentUser=null;
		var userType = null;
		var version_info = "R22.3.1_20220329081806";		
		
		var ikeaTransactionGstFlag = true;
		var ikeaRsName = "DEVAKI ENTERPRISES";
		</script>
	<style>
		
		.transaction_is_gst_fields {
			display: block;
		}
		.transaction_is_non_gst_fields {
			display: none;
		}
		</style>
	
	<!-- 	
	<script type="text/javascript" src="/rsunify/resources/transactions/js/libs/jquery-1.11.3.js"></script>
	<script type="text/javascript" src="/rsunify/resources/transactions/js/libs/jquery-ui.min.js"></script> -->
	
	<script type="text/javascript" src="/rsunify/resources/transactions/js/libs/shortcut.js"></script>
	<script type="text/javascript" src="/rsunify/resources/transactions/js/libs/jquery.mask.min.js"></script>	
	<script type="text/javascript" src="/rsunify/resources/transactions/js/libs/jquery.tabbable.min.js"></script>	
	<script type="text/javascript" src="/rsunify/resources/transactions/js/libs/option-selector.js?v=R22.3.1_20220329081806"></script>
	<script type="text/javascript" src="/rsunify/resources/transactions/js/configs/rsu-dependencies-config.js?v=R22.3.1_20220329081806"></script> 
	<script type="text/javascript" src="/rsunify/resources/transactions/js/utils/rsu-grid.js?v=R22.3.1_20220329081806"></script>	
	<script type="text/javascript" src="/rsunify/resources/transactions/js/utils/rsu-behaviours.js?v=R22.3.1_20220329081806"></script>
	<script type="text/javascript" src="/rsunify/resources/transactions/js/utils/rsu-popup.js?v=R22.3.1_20220329081806"></script>			
	<script type="text/javascript" src="/rsunify/resources/transactions/js/utils/rsu-date-behaviour.js?v=R22.3.1_20220329081806"></script>			
	<script type="text/javascript" src="/rsunify/resources/transactions/js/controller.js?v=R22.3.1_20220329081806"></script>

	<div class="rsu-transaction-app-container">			
		<table>
			<tr>
				<td id="rsu-transaction-app-container">
				
					<!-- Application main container ( all windows, pop ups, alerts everything goes here ) -->
					
				</td>
			</tr>
		</table>
		<div class="rsu-secondary-popup-list-holder">
			<div id="rsu-secondary-popup-minimize-bar"></div>
		</div>			
	</div>	
	
	<div id="rsu-confirm-box" style="display:none;">Save Changes before Exiting ?</div>

	<ul id='rsu-context-menu-box'>
		<!-- Context specific menus will be loaded here -->
	</ul>

	<script type="text/javascript">
		$( document ).ready( function(){
			 
		
		$('div.rsu-probe-container').draggable({
			 onDrag	: 	function(e){
	                constrain(e);
	            	},
	      	onStopDrag: function(e){
	                constrain(e);
	                $(this).css(e.data);
	            }
		});

	
		function constrain(e){
		    var d = e.data;
		    var offset = $( d.target ).offset();
		    
		    if ( d.left < 320 ){
		    	d.left = 320;
		    }
		    if ( d.top < 25 ){
		    	d.top = 25;
		    }
		    if ( ( d.left + 325 )  > $( document ).width() ){
		        d.left =  $(document).width() - 325;
		    }
		    if ( d.top  + $(d.target).outerHeight() > $(d.parent).height()){
		        d.top = $(document).height() - $(d.target).outerHeight();
		    }
		}
		$("#rsu-transaction-app-container").height( $(window).height() - 50);});
		$(window).on( "resize", function() { $("#rsu-transaction-app-container").height( $(window).height() - 50); });
	</script>
		
</div>
<!-- Transaction base container ends here -->
<!-- Transaction container ends here -->
		
		<!-- Added by Sark -->
		<!-- Dashboard container starts here -->
		<link rel="stylesheet" type="text/css" href="/rsunify/resources/dashboard/css/dashboard.css" >

<script type="text/javascript">
	var ikeaOpt = {
		docker: "/rsunify/app"
	};
</script>

<script type="text/javascript" src="/rsunify/resources/dashboard/js/highcharts/highcharts.js"></script>
<script type="text/javascript" src="/rsunify/resources/dashboard/js/highcharts/highcharts-more.js"></script>		
<script type="text/javascript" src="/rsunify/resources/dashboard/js/highcharts/modules/map.js"></script>
<script type="text/javascript" src="/rsunify/resources/dashboard/js/highcharts/modules/funnel.js"></script>
<script type="text/javascript" src="/rsunify/resources/dashboard/js/highcharts/modules/heatmap.js"></script>
<script type="text/javascript" src="/rsunify/resources/dashboard/js/highcharts/modules/annotations.js"></script>		
<script type="text/javascript" src="/rsunify/resources/dashboard/js/highcharts/modules/solid-gauge.js"></script>
<script type="text/javascript" src="/rsunify/resources/dashboard/js/highcharts/modules/drilldown.js"></script>
<script type="text/javascript" src="/rsunify/resources/dashboard/js/highcharts/in-states-geo.js"></script>	
<script type="text/javascript" src="/rsunify/resources/dashboard/js/dashboard.js"></script>

<div id="rsu-dashboard-container">		
	
	<div id="rsu-dashboard-viewer-pad">
	
	</div>		
	
	<div class="ikea-dashboard-widget-list-holder">
		<div class="ikea-dashboard-widget-list-header">
			<h3>Widgets 
				<a href="#" id="ikea-dashboard-reset-btn"><i class="fa fa-magic"></i></a>
				<a href="#" id="ikea-widget-list-close-btn"><i class="fa fa-times"></i></a>
			</h3>
		</div>
		<div class="ikea-dashboard-widget-list-content">
			<!-- <div id="ikea-dashboard-widget-type-wrapper">
				<a href="#" data-type="chart" title="Show only Chart Widgets"><i class="fa fa-pie-chart"></i></a>
				<a href="#" data-type="status" title="Show only Status Widgets"><i class="fa fa-line-chart"></i></a>
				<a href="#" data-type="top_items" title="Show only Top Items Widgets"><i class="fa fa-list-ol"></i></a>
				<a href="#" data-type="pending_items" title="Show only Pending Items Widgets"><i class="fa fa-tasks"></i></a>
				<a href="#" data-type="scheduled_alert" title="Show only Scheduled Alert Widgets"><i class="fa fa-clock-o"></i></a>
			</div> -->
			<div id="ikea-dashboard-widget-list">
							
			</div>
		</div>
	</div>	
		
</div><!-- Dashboard container ends here -->
	
		<script type="text/javascript">
		var opimus_win;
		// for optimus sync
		var op_trans_screens = ["Month Operating Cycle (MOC) - Closing and E-claim submission", "Market order & Collection", "MOC Sales Target(IQ)", "RSSM Beat PLG Link - New", "Beat Export", "Sync with Central Unify", "HUL E-Claim Generation", "Backup Database", "DB Corruption Check"];
		function validateOptimusScreen(){
			var scrName = "";
			displayLoadingImage_new();
    		showDiaplyAlertMessages("Optimus sync is processing please wait.....", "info");
		    $.ajax({
		        method: "GET",
		        url: "/rsunify/app/ikeaCommonUtilController/getActiveScreensList",
		        async: false,
		        success: function(data) {
		        	hideLoadingImage_new();
		        	if(data != undefined && data.length > 0){
		        		$.each(op_trans_screens, function(k,v){
		        			if($.inArray(v, data) >= 0){
		        				scrName = v;
		        				return false;
		        			}
		        		});
		        	}
		        }, error: function(e) {
		        	hideLoadingImage_new();
		        	scrName = "";
		        }
		    });
		    if(scrName != undefined && scrName.length > 0){
				dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: "User Can't open Optimus screen When "+scrName+" opened. Please close the screen.",width: "550px",
					buttons:[{
				        text: 'OK',
				        onClick: function(){
				        	dlgMain.dialog('destroy');
				        	mainConfirmMsg = 0;
							return false;
				        }
				    }]
				});
			}
		    return scrName;
		}
		var globalDeliveryOptimusScreenFlag = false;
		function optimusManualSyncProcessInitiation(screenToOpen){
			$("#rsu-logtodo-menu-item").trigger("click");
			var validation = validateOptimusScreen();
			if(validation != undefined && validation.length > 0){
				return false;
			}
			displayLoadingImage_new();
    		showDiaplyAlertMessages("Optimus sync is processing please wait.....", "info");
		    $.ajax({
		        method: "GET",
		        url: "/rsunify/app/optimusSync",
		        async: true,
		        success: function(respData) {
		        	hideLoadingImage_new();
		        	if(respData.includes("url")){
			        	data = JSON.parse(respData);
			        	if($.trim(data.url)!="" && $.trim(data.url)!="null" && data.sync_status !="userSignup"){
			        		if(data.sync_status=="Success")
			        			if(globalDeliveryOptimusScreenFlag){
			        				globalDeliveryOptimusScreenFlag = false;
			        				optimusSyncAndRedirectToCenterUrl(screenToOpen);
			        			}else{
			        				showDiaplyAlertMessages("Optimus Sync is completed successfully.", "info");
			        			}
			        			
			        		else 
			        			showDiaplyAlertMessages("Optimus Sync is Failed", "error");
			        			if(globalDeliveryOptimusScreenFlag){
		        					globalDeliveryOptimusScreenFlag = false;
		        					optimusSyncAndRedirectToCenterUrl(screenToOpen);
			        			}
			        		//window.open($.trim(data.url), '_blank');
			        		return true;
			        	}else if($.trim(data.url)!="" && $.trim(data.url)!="null" && data.sync_status =="userSignup"){
			        			showDiaplyAlertMessages("User is not registered in Optimus. Please complete registration to proceed Further.", "error");
			        			window.open($.trim(data.url), '_blank');
			        	}else {
			        		showDiaplyAlertMessages("Optimus Sync is failed.. please contact help desk for more information.", "error");
			        		return false;
			        	}
		         	}else if(respData=="USER_SYNC_IS_PROCESSING"){
		        		showDiaplyAlertMessages("Please wait some time, User registration information is syncing from Authorization server", "info");
		        		return false;	
		        	}else if(respData=="SYNC_IS_PROCESSING"){
	        			showDiaplyAlertMessages("Sync is already instated and running. please wait and try again after some time.", "info");
		        		return false;	
	        		}else if(respData=="INVALID_OPTIMUS_USER") {
	        			showDiaplyAlertMessages("User is not registered in Optimus. Please complete registration with SA user to proceed Further.", "error");
	        			return false;
	        		}else {
		        		showDiaplyAlertMessages("Optimus Sync is failed.. please contact help desk for more information.", "error");
		        		return false;
		        	}
		        	
		        	/* if(data=="Success"){
		        		showDiaplyAlertMessages("Optimus Sync is completed successfully.", "info");
		        		return true;
		        	}else if(data.startsWith("redirect:")){
		        			showDiaplyAlertMessages("Optimus Sync is failed. Authorized user is not available, please do register and try again.", "error");
		        			window.open(data.replace("redirect:"," "), '_blank');
		        	}else {
		        		 //displayScreenUrl('oauthuserValidation', 'oauthuserValidation' , 'optimus')"
		        		showDiaplyAlertMessages("Optimus Sync is failed.. please contact help desk for more information.", "error");
		        		return false;
		        	} */
		        	
		        },
		        error: function(e) {
		        	hideLoadingImage_new();
		           return false;
		        }
		    }); 
		} 
		
		var globalOptimusAppSiteUrl = "";
		function optimusSyncAndRedirectToCenterUrl(screenToOpen){
			$("#rsu-logtodo-menu-item").trigger("click");
			var validation = validateOptimusScreen();
			if(validation != undefined && validation.length > 0){
				return false;
			}
			displayLoadingImage_new();
    		showDiaplyAlertMessages("Optimus sync is processing please wait.....", "info");
		    $.ajax({
		        method: "GET",
		        url: "/rsunify/app/oauthuserValidation",
		        async: true,
		        success: function(respData) {
		        	hideLoadingImage_new();
		        	if(respData == "oauth_login_page"){
		        		showDiaplyAlertMessages("User Token is not available, please login", "info");
		        		window.open("/rsunify/app/oauthLoginPage",respData);
		        		return true;
		        	}else if(respData.includes("url")){
			        	data = JSON.parse(respData);
			        	if($.trim(data.url)!="" && $.trim(data.url)!="null" && data.sync_status !="userSignup"){
			        		if(data.sync_status=="Success")
			        			showDiaplyAlertMessages("Optimus Sync is completed successfully.", "info");
			        		else 
			        			showDiaplyAlertMessages("Optimus Sync is Failed", "error");
			        		if(opimus_win == undefined || opimus_win.closed){
			        			
			        			globalOptimusAppSiteUrl = data.url;
			        			if(typeof screenToOpen != "undefined" ){
			        				data.url += "&scrn="+screenToOpen;
			        			}
				        		opimus_win = window.open($.trim(data.url), 'optimus');
			        		} else {
			        			//opimus_win.focus();
			        			dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: "Optimus is already open. Please use the opened tab.", width: "400px",
			    					buttons:[{
			    				        text: 'OK',
			    				        onClick: function(){
			    				        	dlgMain.dialog('destroy');
			    				        	importConfirmMsg = 0;
			    							return false;
			    				        }
			    				    }]
			    				});
			        		}
			        		//return true;
			        	}else if($.trim(data.url)!="" && $.trim(data.url)!="null" && data.sync_status =="userSignup"){
			        			showDiaplyAlertMessages("User is not registered in Optimus. Please complete registration to proceed Further.", "error");
			        			window.open($.trim(data.url), '_blank');
			        	}else {
			        		showDiaplyAlertMessages("Optimus Sync is failed.. please contact help desk for more information.", "error");
			        		return false;
			        	}
		         	}else if(respData=="USER_SYNC_IS_PROCESSING"){
		        		showDiaplyAlertMessages("Please wait some time, User registration information is syncing from Authorization server", "info");
		        		return false;	
		        	}else if(respData=="SYNC_IS_PROCESSING"){
	        			showDiaplyAlertMessages("Sync is already instated and running. please wait and try again after some time.", "info");
		        		return false;	
	        		}else if(respData=="INVALID_OPTIMUS_USER") {
	        			showDiaplyAlertMessages("User is not registered in Optimus. Please complete registration with SA user to proceed Further.", "error");
	        		}else if(respData.indexOf("SESSION_EXISTS") == 0){
	        			if( typeof screenToOpen != "undefined" && screenToOpen != "" ){
							if(opimus_win == undefined || opimus_win.closed){
								clearOptimusSession(true, 1,screenToOpen);
			        		}else{
			        			var optUrl = globalOptimusAppSiteUrl;
			        			if(typeof screenToOpen != "undefined" ){
			        				optUrl += "&scrn="+screenToOpen;
			        			}
				        		window.open($.trim(optUrl), 'optimus_new');
			        		}
	        			}else{
	        				var usr = respData.split("___")[1];
		        			showDiaplyAlertMessages("Optimus is already opend by \""+usr+"\", Please close it before Open.", "error");
		        			return false;
	        			}
	        			
	        		}else {
		        		showDiaplyAlertMessages("Optimus Sync is failed.. please contact help desk for more information.", "error");
		        		return false;
		        	}
		        },
		        error: function(e) {
		        	hideLoadingImage_new();
		        	showDiaplyAlertMessages("Optimus Sync is failed.. please contact help desk for more information.", "error");
		           return false;
		        }
		    }); 
		} 
		
		function optimusClearConfirm(){
			var confirmMessage = "It will force logout and any unsaved changes will be lost. <br />Are you sure you want to Clear session?";
			dlgMain = $.messager.confirm({title: 'Confirm', msg: confirmMessage,
				width: '450px',
				buttons:[{
					text: 'Yes',
					onClick: function(){
						dlgMain.dialog('destroy');
						clearOptimusSession(false, 0);
					}
				},{
					text: 'No',
					onClick: function(){
						dlgMain.dialog('destroy');
					}
				}]
			});
		}
		
		var clearOptimusSessionFromIkea = false;
		function clearOptimusSession(silent, flag,screenName){
			if(!silent)
				displayLoadingImage_new();
    		showDiaplyAlertMessages("Optimus sync is processing please wait.....", "info");
		    $.ajax({
		        method: "GET",
		        url: "/rsunify/app/clearOptimusSession",
        		data: {"flag": flag},
		        async: true,
		        success: function(respData) {
		        	if(!silent)
		        		hideLoadingImage_new();
		        	showDiaplyAlertMessages("Optimus session cleared succesfully!..", "info");
		        	if(!silent){
		        		dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: "Optimus session cleared succesfully!", width: "400px",
	    					buttons:[{
	    				        text: 'OK',
	    				        onClick: function(){
	    				        	dlgMain.dialog('destroy');
	    				        	importConfirmMsg = 0;
	    							return false;
	    				        }
	    				    }]
	    				});
		        	}
		        	if(typeof screenName != "undefined" && screenName != "" ){
		        		optimusSyncAndRedirectToCenterUrl(screenName);
		        	}
		        	
		        	
		        },
		        error: function(e) {
		        	if(!silent)
		        		hideLoadingImage_new();
		           return false;
		        }
		    }); 
		}
		
		function syncTodoLogTableheaderWidth(){
			$( "#appLog-table-fixed-header" ).width( $( "#appLog-table" ).width() + "px" );
			$( "#appLog-table-fixed-wrapper" ).width( ( $( '.appLog-table-fixed-header-container' ).width() - 17 ) + "px" )
		}
			var opendWindowObjects = {};
			var enfSyncFlag = {
					"status": 0,
					"message": ""
			};
			var mainTablFlags = {
					"isCloseTriggered": 0,
					"isForeceLogout": 0,
					"masterScreenOpened": 0,
					"debugEnabled": 0
			}
			var cloudInfo = "true";
			var isCrossDock_User="false";
			var currentLoggedInUserId = "16";
			
			var tr_block_bill_edit = "" == "16";
			var tr_enable_today_collection = "" == "16";
			var block_payment_type = "" == "16" || "VEN" == "SA";
			var docRefArray = [];
			var importConfirmMsg = 0;
			var dlgMain;
			var alaramTime, impInterval;
			var finance_MOC = 0;
			//doVersionCheck();
			optimusDeliveryEnableAlert();
			validateSyncCounter();
			
			/* Added for RSCR:2016/02 by Pramod */
			/* $('.transcation-Div').on('mouseenter', function(event){
				validateSyncImport();
			});
			 */
			 //MOC Partial close validation start here.
			 if("" === "1" || "" === "2"){
				 showVersionErroAlert(("" === "1") ? "Previous MOC Closed Partially. Please contact Help Desk." : "DB split failed, Please restore the correct backup/Contact Help Desk.");
			 }
			//MOC Partial close validation ends here.
			 
			function validateSyncCounter(){
			    $.ajax({
			        method: "POST",
			        url: "/rsunify/app/user/limenSyncValidation",
			        async: false,
			        success: function(data) {
			        	if (data != undefined && $.trim(data.length) != 0) {
				        	mainConfirmMsg = 1;
							dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: data,width: "730px",
								buttons:[{
							        text: 'OK',
							        onClick: function(){
							        	dlgMain.dialog('destroy');
							        	mainConfirmMsg = 0;
										return false;
						        	}
						    	}]
							});
			        	}
			        },
			        error: function(e) {
			            //alert(e);
			        }
			    }); 
			}
			function validateSyncImport() {
				var returnFlagOntrue=false;
				var d = new Date();
				var month = d.getMonth()+1;
				var day = d.getDate();
				var output = d.getFullYear() + '/' +
				    (month<10 ? '0' : '') + month + '/' +
				    (day<10 ? '0' : '') + day;
				
				var urlVal = "/rsunify/app/user/validateSyncImport";
			    $.ajax({
			        method: "POST",
			        url: urlVal,
			        async: false,
			        data:{
			        	currentDate: JSON.stringify(output)
					},
			        success: function(data) {
			        	console.log(data);
			        	if (data=='SyncImportHappend') {
			        		returnFlagOntrue=true;
			        		return false;
			        	}
			        	else if(data=='Please Sync with central Unify and do Import to continue with all transaction.<br> Contact Helpdesk if you are not able to do Sync or import.'){
			        		$(".transcation-Div").addClass("disabled");
			        		mainConfirmMsg = 1;
							dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: data,width: "730px",
								buttons:[{
						        text: 'OK',
						        onClick: function(){
						        	dlgMain.dialog('destroy');
						        	$(".transcation-Div").removeClass("disabled");
						        	mainConfirmMsg = 0;
									return false;
						        }
						    }]
							});
							//Confirmation Messages Direct Close
							 $(".panel-tool").on('click', function(event){
								event.preventDefault();
								event.stopPropagation();
								mainConfirmMsg = 0;
							 });
							 returnFlagOntrue=false;
							return false;
			        	}
			        	else if(data=='Please do Import to continue with all transaction.<br> Contact Helpdesk if you are not able to do Import.'){
			        		$(".transcation-Div").addClass("disabled");
			        		mainConfirmMsg = 1;
							dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: data,width: "730px",
								buttons:[{
						        text: 'OK',
						        onClick: function(){
						        	dlgMain.dialog('destroy');
						        	$(".transcation-Div").removeClass("disabled");
						        	mainConfirmMsg = 0;
									return false;
						        }
						    }]
							});
							//Confirmation Messages Direct Close
							 $(".panel-tool").on('click', function(event){
								event.preventDefault();
								event.stopPropagation();
								mainConfirmMsg = 0;
							 });
							 returnFlagOntrue=false;
							return false;
			        	}
			        },
			        error: function(e) {
			        }
			    });
			    return returnFlagOntrue;
			}
			
			//Optimus Master complete alert checking
			function optimusDeliveryEnableAlert(){
				if( "VEN" == "SA" && "0" == 1 && "0" == 1 ){
					dlgMain = $.messager.confirm({title: 'LeverEDGE', 
						msg: "Delivery plan by Optimus is Enable, Please correct the MASTER in Optimus",
						width: "530px",
						onClose : function(){
							optimusSyncAndRedirectToCenterUrl();
							doVersionCheck();
						},
						buttons:[{
					        text: 'OK',
					        onClick: function(){
					        	dlgMain.dialog('destroy');
					        	optimusSyncAndRedirectToCenterUrl();
					        	doVersionCheck();
				        	}
				    	}]
					});
				} else{
					doVersionCheck();
				}
			}
			
			/* Added for RSCR:2016/02 by Pramod */
			
			function doVersionCheck() {
				//var urlVal = "/rsunify/app/user/versionCheck.do";
			    var urlVal = "/rsunify/app/user/versionCheckNew.do";
			    // alert("sum");
			    $.ajax({
			        method: "POST",
			        url: urlVal,
			        async: false,
			        success: function(data) {
			        	//validateVersionCheckOld(data);
			        	validateVersionCheckNew(data);
			        },
			        error: function(e) {
			            alert(e);
			        }
			    });
			}
			function validateVersionCheckNew(data){
				if(!jQuery.isEmptyObject(data)){
					var upgradeFlag = data['upgradeFlag'];
					if(data.success === "MATCHING" && upgradeFlag['upgradeFlag'] !== true && upgradeFlag['partialDownload'] !== true){
						if ((('false') == 'false') && (('0') != "1")) {
							//If all versiso matching and no updates available
							doAutoMocCheck();
						}
					} else if(upgradeFlag['upgradeFlag'] === true || upgradeFlag['partialDownload'] === true){
						//If all versions matching and updates are avilable
						showVersionCheckUpdates(upgradeFlag);
					} else if(data.error === "NO_RECORDS"){
						var configAppVersion = data.versionInfo.configAppVersion;
						var configDbVersion = data.versionInfo.configDbVersion;
						var applicaitonMsg = "Version info not available in database.<br />";
						applicaitonMsg += "You have restored a database. <br />";
						applicaitonMsg += "Please contact Branch Anchors or Help Desk for upgrading to the latest version.<br />"
						showVersionErroAlert(applicaitonMsg);
					} else if(data.error === "CHECKSUM_MISMATCH") {
						var applicaitonMsg = "Checksum mismatch.<br />";
						applicaitonMsg += "You have restored a database or You have replaced/modified the war file. <br />";
						applicaitonMsg += "Please contact Branch Anchors or Help Desk for upgrading to the latest version.<br />"
						showVersionErroAlert(applicaitonMsg);
					} else {
						showVersionCheckValidation(data);
					}
				} else if ((('false') == 'false') && (('0') != "1")) {
		            doAutoMocCheck();
		        }
			}
			
			//distribution MOC Financial Calendar Validation
			$('.financialMOC').on('mouseenter click', function(event){
				financial_moc_validation();
			});
			
			var window_doc_path = null;
			$( document ).on( "click", ".help:visible", function(){
				var context = $( this ).attr( "data-context" )
				if( window_doc_path != null ){
					window_doc_path.close();
				}
				if( context != "" && context != undefined ){			
					window_doc_path = window.open( '/rsunify/views/doc/index.jsp?path_directory='+context, '_blank' );
				} else {
					window_doc_path = window.open( '/rsunify/views/doc/index.jsp', '_blank' );
				}
			});
			
			$( window ).on( "keydown keyup", function(e){
				if( e.keyCode == 112 ){
					e.preventDefault();
					$( ".help" ).click();
				}
			});
			
			function financial_moc_validation(){
				if(finance_MOC == 0){
					var jsonResponse = {};
					$.ajax({
							async: false,
							url: "/rsunify/app/ikeaCommonUtilController/validateMOCFinancialCalendar",
							method: 'POST',
							cache: false,
							async: false,
							 success: function(data) {
								 if($.trim(data).length > 0){
									 if( !$( ".panel.window.messager-window" ).is( ":visible" ) ){
										 dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: $.trim(data),width: "650px",
												buttons:[{
										        text: 'OK',
										        onClick: function(){
										           dlgMain.dialog('destroy');
										           finance_MOC = 0;
										           //return false;
										        }
										    }],
										    onDestroy:function(){
										    	finance_MOC = 0;
										    	//return false;
										    }
										 });
									 }
								 }else{
									 finance_MOC = 1;
									 //return true;
								 }
							 },
							 error: function(e) {
								 //return false;
							 }
					});
					if(finance_MOC == 0){
						event.preventDefault();
						event.stopPropagation();
					}
				}		
			}
			
			//verion validations
			function showVersionCheckValidation(verResponse){
				var applicaitonMsg = "";
				var dbAppVersion = verResponse.versionInfo.databaseAppVersionNo;
				var dbVersion = verResponse.versionInfo.databaseDbVersionNo;
				var configAppVersion = verResponse.versionInfo.configAppVersion;
				var configDbVersion = verResponse.versionInfo.configDbVersion;
				var compareResult = verResponse.result;
				var nextLine = "<br />";
				var tempHigherVersion = "This is NOT allowed."+nextLine;
				tempHigherVersion += "Please contact Branch Anchors or Help Desk for upgrading to the latest version.";
				var tempLowerVersion = "You have to upgrade to latest Version.\n";
				tempLowerVersion += "Please contact Branch Anchors or Help Desk for upgrading.";
				switch(verResponse.error){
					case "DB_VER_NOT_MATCHING":	//Check 1: Database Db and App version
						applicaitonMsg = "Application Version: "+dbAppVersion+", DB Version: "+dbVersion+"."+nextLine;
						if(compareResult === "HIGHER"){
							applicaitonMsg += "You have restored a database which is of a higher version than the Application version."+nextLine;
							applicaitonMsg += tempHigherVersion;
						} else {
							applicaitonMsg += "You have restored a database which is more than one version lower than the Application version."+nextLine;
							applicaitonMsg += tempLowerVersion;
						}
						showVersionErroAlert(applicaitonMsg);
						break;
					case "DB_CONFIG_NOT_MATCHING":	//Db vs xml not matching - db
						applicaitonMsg = "Configuration DB Version: "+configDbVersion+", DB Version: "+dbVersion+"."+nextLine;
						if(compareResult === "HIGHER"){
							applicaitonMsg += "You have restored a database which is of a higher version than the Configured version."+nextLine;
							applicaitonMsg += tempHigherVersion;
						} else {
							applicaitonMsg += "You have restored a database which is more than one version lower than the Configured version."+nextLine;
							applicaitonMsg += tempLowerVersion;
						}
						showVersionErroAlert(applicaitonMsg);
						break;
					case "APP_CONFIG_NOT_MATCHING":	//Db vs xml not matching - app
						applicaitonMsg = "Configuration App Version: "+configAppVersion+", App Version: "+dbAppVersion+"."+nextLine;
						if(compareResult === "HIGHER"){
							applicaitonMsg += "You have restored a Application which is of a higher version than the Configured version."+nextLine;
							applicaitonMsg += tempHigherVersion;
						} else {
							applicaitonMsg += "You have restored a Application which is more than one version lower than the Configured version."+nextLine;
							applicaitonMsg += tempLowerVersion;
						}
						showVersionErroAlert(applicaitonMsg);
						break;
				}
			}
			
			function showVersionCheckUpdates(upgradeFlag){
				var message = (upgradeFlag['upgradeFlag'] !== true) ? "New LeverEDGE version [ "+upgradeFlag['version']+" ] is available. Kindly Sync & Import to proceed Upgrade." :
					"Latest version [ "+upgradeFlag['version']+" ] update is available. Click Update to Upgrade LeverEDGE.";
				var btnName = (upgradeFlag['upgradeFlag'] !== true) ? "Ok" : "Update";
				var dlgVersionChk = $.messager.alert({
	                title: 'LeverEDGE',
	                msg: message,
	                width: "550px",
	                icon: 'info',
	                buttons: [{
	                    text: btnName,
	                    onClick: function() {
	                    	dlgVersionChk.dialog("destroy");
	                    	//logOutUSer();
	                    }
	                }],
	                onDestroy: function() {
	                	if(upgradeFlag['upgradeFlag'] !== true){
	                		if ((('false') == 'false') && (('0') != "1")) {
					            doAutoMocCheck();
					        }
	                	} else {
	                		executeAutoUpdate();
                		}
	                }
	            });
			}
			
			function showVersionErroAlert(errorMessage){
				var dlgVersionChk = $.messager.alert({
	                title: 'LeverEDGE',
	                msg: errorMessage,
	                icon: 'error',
	                width: '600px',
	                buttons: [{
	                    text: 'OK',
	                    onClick: function() {
	                        dlgVersionChk.dialog("destroy");
	                    }
	                }],
	                onDestroy: function() {
	                    //logOutUSer();
	                }
	            });
			}
			
			function validateVersionCheckOld(data){
				if ($.trim(data.length) != 0) {
		            var dlgVersionChk = $.messager.confirm({
		                title: 'LeverEDGE',
		                msg: data,
		                buttons: [{
		                    text: 'OK',
		                    onClick: function() {
		                        dlgVersionChk.dialog("destroy");
		                    }
		                }],
		                onDestroy: function() {
		                    //window.location.href='/rsunify';
		                    logOutUSer();
		                }
		            });
				} else if ((('false') == 'false') && (('0') != "1")) {
		            doAutoMocCheck();
		        }
			}

		    //AutoMOc Close check start
			function doAutoMocCheck() {
			    var urlVal = "/rsunify/app/user/autoMOCCheck.do";
			    var autoMocMsg = "";
			    $.ajax({
			        method: "POST",
			        url: urlVal,
			        async: false,
			        success: function(data) {
			            autoMocMsg = data;
			            if ($.trim(data.length) != 0 && "" !== "1" && "" !== "2") {
			                var dlgVersionChk = $.messager.alert({
			                    title: 'LeverEDGE',
			                    msg: data,
			                    width: '400px',
			                    buttons: [{
			                        text: 'OK',
			                        onClick: function() {
			                            dlgVersionChk.dialog("destroy");
			                            if (('false') == 'true') {
			                            	vlidateAndLoadSyncScreen();
			                            }
			                        }
			                    }]
			                });
			            }
			        },
			        error: function(e) {}
			    });
			    //Sync with central unify validation
			    if (('false') == 'true' && ($.trim(autoMocMsg.length) == 0)) {
			    	vlidateAndLoadSyncScreen();
			    }
			}
		    //Auto Moc Close check end
		    
		    function vlidateAndLoadSyncScreen(){
		    	var url = "/rsunify/app/" + "syncwithCentralUnify/loadSyncwithCentralUnify";
		        validateSyncwithCentralUnify(url, "Sync with Central Unify");
		    }
	      	function logOutUSer(){
	      		//clearOptimusSession(true, 1);
	      		var dataurl = "/rsunify/app/user/logoutwithCloseSession.do";
	    		$.ajax({
	    			type : "POST",
	    			contentType : "application/json; charset=utf-8",
	    			url : dataurl,
	    			dataType : 'json',
	    			cache: false,
	    			contentType : 'application/text',
	    			success : function(responseJSON) {
	    				if (responseJSON=='Session Invalidated') {
	    					mainTablFlags.isCloseTriggered = 1;
	    					window.location.href='/rsunify';
	    				}
	    			},
	    			error : function(result) {
	    				//mainTablFlags.isForeceLogout = 1;
	    				redirectUserToErrorPage("/rsunify");
	    			}
	    		});
	    	}
			//Version Check End
			//Sync with Central Unify Validations
			function validateSyncwithCentralUnify(loadPageURL, screenName){
				var rsWindow;
				var targetURL = "/rsunify/app/syncwithCentralUnify/validateSyncwithCentralUnify";
			    $.ajax({
					type: 'GET',
					url: targetURL,
					contentType: "text",
					data: {'paramId' :  1},
					cache: false,
					success: function(data) {
						if( !$( ".panel.window.messager-window" ).is( ":visible" ) ){
						if(data.length > 0){
							var syncEnforceFlag = data.split('#');
							if($.trim(syncEnforceFlag[0]) == "SYNC1" || $.trim(syncEnforceFlag[0]) == "SYNC2" || $.trim(syncEnforceFlag[0]) == "SYNC3"){
								dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: $.trim(syncEnforceFlag[1]),width: "600px",
									buttons:[{
							        text: 'OK',
							        onClick: function(){
							           dlgMain.dialog('destroy');
							        }
							    }],
							    onDestroy:function(){
							       if($.trim(syncEnforceFlag[0]) == "SYNC2" || $.trim(syncEnforceFlag[0]) == "SYNC3"){
							    	   var targetURL = "/rsunify/app/syncwithCentralUnify/updatePBAYINLastSyncFlag";
								       $.ajax({
											type: 'GET',
											url: targetURL,
											contentType: "text",
											cache: false,
											success: function(data){
												if(parseInt(data) == 1){
													rsWindow = window.open(loadPageURL, screenName);
													docRefArray.push(screenName);
													return false;
												}else{
													$('#display-message').text("Last Sync Flag Updation Failed.");
													$('#display-message').removeClass("txt-black");
													return false;
												}												
											},
											error: function (e) {
												/* console.log(e)
												alert('Error: ' + e); */
												return false;			
											}
									    });
							       }else{
							    	   /* rsWindow = window.open(loadPageURL, screenName);
									   docRefArray.push(screenName); */
									   updateScreenNameIntoSession(screenName, "1", loadPageURL);
									   return false;
							       }	
							    }
								});
							}else{
								mainConfirmMsg = 1;
								dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: data,width: "630px",
									buttons:[{
							        text: 'OK',
							        onClick: function(){
							        	dlgMain.dialog('destroy');
							        	mainConfirmMsg = 0;
										return false;
							        }
							    }]
								});
								//Confirmation Messages Direct Close
								 $(".panel-tool").on('click', function(event){
									event.preventDefault();
									event.stopPropagation();
									mainConfirmMsg = 0;
								 });
								return false;
							}
						}else{
							/* rsWindow = window.open(loadPageURL, screenName);
							docRefArray.push(screenName); */
							updateScreenNameIntoSession(screenName, "1", loadPageURL);
							return false;
						}
					}
					},
					error: function (e) {
						/* console.log(e)
						alert('Error: ' + e); */
						return false;			
					}
			    });
			}
			
			//Import Data MultiUsers Validations
			function validateImportDataMultiUsers(loadPageURL, screenName){
				var rsWindow;
				var targetURL = "/rsunify/app/systemImportData/validateImportDataMultiusers";
			    $.ajax({
					type: 'GET',
					url: targetURL,
					contentType: "text",
					data: {"loggedStatus": 1, "screenName" : screenName},
					cache: false,
					async: false,
					success: function(data) {
						if($.trim(data).length > 0){
							importConfirmMsg = 1;
							//var importMsg = screenName+" processing can't be allowed for multiple users. Currently processing by user: '"+data+"'";
							dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: $.trim(data),width: "600px",
								buttons:[{
							        text: 'OK',
							        onClick: function(){
							        	dlgMain.dialog('destroy');
							        	importConfirmMsg = 0;
										return false;
							        }
							    }]
							});
							//Confirmation Messages Direct Close
							 $(".panel-tool").on('click', function(event){
								event.preventDefault();
								event.stopPropagation();
								importConfirmMsg = 0;
							 });
							return false;
						}else{
							/* rsWindow = window.open(loadPageURL, screenName);
							docRefArray.push(screenName); */
							updateScreenNameIntoSession(screenName, "1", loadPageURL);
							return false;
						}
					},
					error: function (e) {
						/* console.log(e)
						alert('Error: ' + e); */
						return false;			
					}
			    });
			}
	
			function openScreenValidation(msgId,screenName){
				importConfirmMsg = 1;
				if(msgId == 2){
					var importMsg = "User can't open any other screen as "+screenName+" Screen is already Opened.";
					var widthVal = "500px";
				}else if(screenName == "Import Data" || screenName == "Business Summary"){
					var importMsg = "Screens Are Opened... Close it Before Import";
					var widthVal = "350px";
				}else if(screenName == "Sync with Central Unify"){
					var importMsg = "Screens Are Opened... Close it Before Sync With Central Unify";
					var widthVal = "400px";
				}else if(screenName == "Month Operating Cycle (MOC) - Closing and E-claim submission"){
					var importMsg = "Screens Are Opened... Close it Before Month Operating Cycle (MOC) - Closing and E-claim submission";
					var widthVal = "350px";
				}else if(screenName == "Beat Export"){
					var importMsg = "Screens Are Opened... Close it Before Beat Export";
					var widthVal = "350px";
				}else if(screenName == "Release User Connection"){
					var importMsg = "Screens Are Opened... Close it Before Release User Connection";
					var widthVal = "350px";
				}else if(screenName == "Compact DataBase"){
					var importMsg = "Screens Are Opened... Close it Before Compact DataBase";
					var widthVal = "350px";
				}else if(screenName == "Referesh Database"){
					var importMsg = "Screens Are Opened... Close it Before Referesh Database";
					var widthVal = "350px";
				}else if(screenName == "Database Size Details"){
					var importMsg = "Screens Are Opened... Close it Before Database Size Details";
					var widthVal = "350px";
				}else if(screenName == "Sync Server Configuration"){
					var importMsg = "Screens Are Opened... Close it Before Sync Server Configuration";
					var widthVal = "350px";
				}else if(screenName == "DB Corruption Check"){
					var importMsg = "Screens Are Opened... Close it Before DB Corruption Check";
					var widthVal = "350px";
				}else if(screenName == "Backup Database"){
					var importMsg = "Screens Are Opened... Close it Before Backup Database";
					var widthVal = "350px";
				}else if(screenName == "Release Bill Level Lock"){
					var importMsg = "Screens Are Opened... Close it Before Release Bill Level Lock";
					var widthVal = "350px";
				}else if(screenName == "HUL E-Claim Generation"){
					var importMsg = "Screens Are Opened... Close it Before HUL E-Claim Generation";
					var widthVal = "350px";
				} else {
					var importMsg = "Screens Are Opened... Close it Before "+screenName;
					var widthVal = "350px";
				}
				
				dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: importMsg,width: widthVal,
					buttons:[{
				        text: 'OK',
				        onClick: function(){
				        	dlgMain.dialog('destroy');
				        	importConfirmMsg = 0;
							return false;
				        }
				    }]
				});
				//Confirmation Messages Direct Close
				$(".panel-tool").on('click', function(event){
					event.preventDefault();
					event.stopPropagation();
					importConfirmMsg = 0;
				});
			}
			
			function displayScreen_reports(rootURL, activeTab, screenName,viewpage){ 
	                var loadPageURL = "/rsunify/views/"+viewpage+".jsp"; 
	                //alert(loadPageURL); 
	                //window.open(loadPageURL);
	                if (screenName == "Beat Mapping Utility Backup Report" && optimusEnabled == true) {
 					var dlg = $.messager.confirm({title: 'Information', msg: screenName+' is Disabled in LeverEDGE, to generate the report please login to Optimus Central.',width:'550px',
						buttons:[
							     {
				        		text: 'Close',
				        		onClick: function(){
				        			dlg.dialog('destroy');
				            		return false;
				        		}
				        	 }],
						});
 					return;
 				}
	                updateScreenNameIntoSession(screenName, "1", loadPageURL); 
			}
 			
 			/* Modified for Multi user screen validaitons - Rajesh*/
 			function displayScreen(rootURL, activeTab, screenName, isTrackRequired){
 				if (screenName == "RSSM Beat PLG Link - New" && optimusEnabled == true) {
 					doOptimusSilentSync();
 					var dlg = $.messager.confirm({title: 'Information', msg: screenName+' screen is Disabled in LeverEDGE, to do any change please login to Optimus Central.<br>Click Export to see the current Salesman Beat Linkage.',width:'650px',
						buttons:[
							     {
				        		text: 'Close',
				        		onClick: function(){
				        			dlg.dialog('destroy');
				            		return false;
				        		}
				        	 },{
				            	 text: 'Export',
				            	 onClick: function(){
				            		 generateReport();
				            		 dlg.dialog('destroy');
				            		 return false;
				        	    }
				    		}],
						});
 					return;
 				}
				if(isTrackRequired == undefined || isTrackRequired == null)
					isTrackRequired = 1;
		
				/* Added by Sark */
				/* Hide the Transaction section, as master related menu item has been clicked */
				if( rSuControllerObj && rSuControllerObj.contextObj && rSuControllerObj.contextObj.popup ) {
					if( rSuControllerObj.contextObj.popup.window.is( ":visible" ) ) {			
						rSuControllerObj.minimizePopup( null );
					}
				}	
				$( "#rsu-transaction-body-wrapper" ).hide();
							
				/* Show the Master section container */
				//	$( "#loadPage" ).show();
				//$( ".middle-content" ).show();
					
				$('.targetDiv').hide();
				var loadPageURL = "/rsunify/app/"+rootURL+"/"+activeTab;
				//var rsWindow;
				//rsWindow = window.open(loadPageURL, screenName);
				if(screenName == "Import Data" || screenName == "Business Summary"){
					validateImportDataMultiUsers(loadPageURL, screenName);
				}else if(screenName == 'Sync with Central Unify'){
					validateSyncwithCentralUnify(loadPageURL, screenName);
					return false;
				}else{
					updateScreenNameIntoSession(screenName, isTrackRequired, loadPageURL);
				}
			}
			
 			/* Modified for Multi user screen validaitons - Rajesh*/
 			function displayScreenUrl(rootURL, activeTab, screenName, isTrackRequired){
 				/* Added by Sark */
				if( rSuControllerObj && rSuControllerObj.contextObj && rSuControllerObj.contextObj.popup ) {
					if( rSuControllerObj.contextObj.popup.window.is( ":visible" ) ) {			
						rSuControllerObj.minimizePopup( null );
					}
				}		
 				
 				if(isTrackRequired == undefined || isTrackRequired == null)
					isTrackRequired = 1;
 				
				$('.targetDiv').hide();
				var loadPageURL = "/rsunify/app/"+rootURL;
				//var rsWindow;
				//rsWindow = window.open(loadPageURL, screenName); 
				if(screenName == "Import Data" || screenName == "Business Summary"){
					validateImportDataMultiUsers(loadPageURL, screenName);
				}else if(screenName == 'Sync with Central Unify'){
					validateSyncwithCentralUnify(loadPageURL, screenName);
					return false;
				}else{
					updateScreenNameIntoSession(screenName, isTrackRequired, loadPageURL);
				}		
			} 
 			function updateScreenStatus(screenName, msgId,msg){
 				removeScreenNameFromSession(screenName, "0");
				removeScreeNameFromLocalStorage(screenName);
				if(msgId === 1 || typeof msgId === 'undefined'){
					if(screenName === 'Alarm'){
						clearTimeout(alaramTime);
						alarm_GetAlarmMsg();
					} else if(screenName === "Salesman Beat Link"){
						checkTradeServiceCardOpened();
					}
					alert("Press Ok to go back to homepage from '"+screenName+"' page.");
				} else if(msgId === 2 && screenName === 'Import Data'){
					displayScreen_reports('gstInvoiceUpload', 'GSTInvUpload', 'Service Invoice Upload', 'gstInvoiceUpload/GST_ServiceInvoiceUpload');
					alert("Press Ok to go to Service Invoice Upload from '"+screenName+"' page.");
				} else if(msgId === 2 && screenName === 'Service Invoice Upload'){
					displayScreen('syncwithCentralUnify','loadSyncwithCentralUnify','Sync with Central Unify');
					alert("Press Ok to go to Sync with Central Unify from '"+screenName+"' page.");
				}
			}
			
			function closeAndLogout(){
				
				/* Check if any pending survey that has to be shown on logout event */
				if (typeof ikeaDashboardManagerObj != "undefined" && ikeaDashboardManagerObj != null && ikeaDashboardManagerObj.surveyor && ikeaDashboardManagerObj.surveyor.survey && ikeaDashboardManagerObj.surveyor.survey.WHEN_TO_SHOW == "logout") {
					ikeaDashboardManagerObj.callLogout = true;
					$("#ikea-take-survey-btn").trigger("click");
					return;	
				}	
				
				mainTablFlags.isCloseTriggered = 1;
				window.location.href='/rsunify';
				
			}
			function redirectToLogin(){
				mainTablFlags.isForeceLogout = 1;
				//window.location.href = "/rsunify?errorMessage=Session Expired";	//if parent window
				redirectUserToErrorPage("/rsunify/views/errorPages/ikeaSessionExpired.jsp");
			}
			
			function updateScreenNameIntoSession(screenName, isTrackUpdate, loadPageURL){
				var serverResp = "";
				var jsonData = {};
				jsonData.screenName = screenName;
				jsonData.pbayoutUpdate = ""+isTrackUpdate;
				jsonData.mainTabFlag = "1";
				jsonData.enfSyncFlag = ""+enfSyncFlag["status"];
				$.ajax({
					type: "POST",
					url: "/rsunify/app/ikeaCommonUtilController/updateScreenNameIntoSession",
					data: {"strJsonParams":JSON.stringify(jsonData)},
			    	dataType: "",
					async: false,
			    	success: function (jsonResponse) {
			    		if(screenName === "Release Active Screens")
			    			jsonResponse.status = "SUCCESS";
		    			/*reset enf sync falg*/
		    			try{
		    				var enfStatus = jsonResponse['enfSyncFlag'];
			    			enfSyncFlag["status"] = (enfStatus == undefined || isNaN(enfStatus)) ? 0 : parseInt(enfStatus);
			    			enfStatus = jsonResponse['enfSyncMessage'];
			    			enfSyncFlag["message"] = (enfStatus == undefined) ? "" : enfStatus;
			    			if(enfSyncFlag["status"] == 1){
			    				finance_MOC = 0;
			    			}
		    			} catch (e) {
							
						}
			    		validateRepsonseAndContinue(jsonResponse, loadPageURL, screenName);
					},
					error: function (jsonResponse) {
						//do nothing
					}
			   	});
				return serverResp;
			}
			
			function validateRepsonseAndContinue(jsonResponse, loadPageURL, screenName){
				if( !$( ".panel.window.messager-window" ).is( ":visible" ) ){
				if(jsonResponse.status === "SUCCESS"){
					var popupWindow = window.open(loadPageURL, screenName);
					opendWindowObjects[screenName] = popupWindow;
					addScreeNameInLocalStorage(screenName);
					if (popupWindow == null || typeof(popupWindow)=='undefined') { 	
						removeScreenNameFromSession(screenName, "0");
						removeScreeNameFromLocalStorage(screenName);
						alert("Popup's are blocked please enable..");	
					}
				} else if(jsonResponse.status === "OPENED"){
					if(jsonResponse.message === screenName){
						/* var windowRef = window.open('', screenName);
						if(windowRef.closed || windowRef.location.href.indexOf(loadPageURL) <= -1){
							window.open(loadPageURL, screenName).focus();
						} else{
							windowRef.focus();
						} */
						var importMsg = screenName+" is already open. Please use the opened tab.";
						var widthVal = "500px";
						dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: importMsg,width: widthVal,
							buttons:[{
						        text: 'OK',
						        onClick: function(){
						        	dlgMain.dialog('destroy');
						        	importConfirmMsg = 0;
									return false;
						        }
						    }]
						});
					} else {
						openScreenValidation(1, screenName);
					}
				} else if(jsonResponse.status === "EXISTS"){
					/* var windowRef = window.open('', screenName);
					if(windowRef.closed || windowRef.location.href.indexOf(loadPageURL) <= -1){
						window.open(loadPageURL, screenName).focus();
					} else
						windowRef.focus(); */
					var importMsg = screenName+" is already open. Please use the opened tab.";
					var widthVal = "500px";
					dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: importMsg,width: widthVal,
						buttons:[{
					        text: 'OK',
					        onClick: function(){
					        	dlgMain.dialog('destroy');
					        	importConfirmMsg = 0;
								return false;
					        }
					    }]
					});
				} else {
					var msgResponse = ""
					var msgWidth = 400;
					switch(jsonResponse.status){
						case "EXISTS":
							msgResponse = "Screen is Already opened by User";
							msgWidth = 380;
							break;
						case "OPENED":
							msgResponse = "Screens Are Opened... Close it before process.";
							break;
						case "BLOCKED":
							msgResponse = "User doesn't have permission to access. Please contact Admin!..";
							msgWidth = 430;
							break;
						case "OPNEDIMP":
							msgResponse = "User can't open any other screen as "+jsonResponse.message+" Screen is already Opened";
							if(screenName == "Beat Mapping Utility"){
								msgResponse = "Beat Mapping utility is opened by some other User. The Utility can be used in one system at a time.";
							}
							//msgResponse = jsonResponse.message+" is Running...";
							msgWidth = 500;
							break;
						case "LIMITEXCEEDED":
							msgResponse = "Maximum no of active tabs are limited to "+jsonResponse.message+". Please close any active tabs to continue.";
							msgWidth = 550;
							break;
						case "ERROR":
							msgResponse = jsonResponse.message;
							msgWidth = 500;
							break;
					}
					var dlg = $.messager.confirm({title: 'Confirm', msg: msgResponse, width: msgWidth+'px',
						buttons:[{
				        	text: 'OK',
				        	onClick: function(){	
				           		dlg.dialog('destroy');
				           		return false;
				        	}
				    	}]
					});
				}
				}
			}
			
			function removeScreenNameFromSession(screenName, multiUserCheck){
				var serverResp = "";
				var jsonData = {};
				jsonData.screenName = screenName;
				var data = new FormData();
				data.append( "strJsonParams", JSON.stringify( jsonData ) );
				
				//var data = JSON.stringify({"strJsonParams":jsonData});
				 var url= "/rsunify/app/ikeaCommonUtilController/removeScreenNameFromSession";
				fetch(url, {
				    method: 'POST',
				    /* headers: {
				        'Accept': 'application/json',
				        'Content-Type': 'application/json'
				      }, */
				    body: data,
				    keepalive: true
				  }); 
				
				/* setTimeout(function(){
					$.ajax({
						type: "POST",
						url: "/rsunify/app/ikeaCommonUtilController/removeScreenNameFromSession",
						data: {"strJsonParams":JSON.stringify(jsonData)},
				    	dataType: "",
				    	async: false,
				    	success: function (jsonResponse) {
				    		serverResp = jsonResponse;
						},
						error: function (jsonResponse) {
							//do nothing
						}
				   	});
	
				},10);
	 */ 	return serverResp;
			}
			
			$(document).ajaxError(function(event, jqxhr, settings, thrownError) {
				//console.log("Triggered ajaxError handler." + jqxhr.status);
				if(jqxhr.status === 750){
					mainTablFlags.isForeceLogout = 1;
					//window.location.href = "/rsunify?errorMessage=Session Expired";	//if parent window
					redirectUserToErrorPage("/rsunify/views/errorPages/ikeaSessionExpired.jsp");
				} else {
					//console.log("Failed to load: " + jqxhr.status);
				}
			});
 
 		// for db corruption screen	
	 	function displayScreenDBCorruption(rootURL, activeTab, screenName){
			$('.targetDiv').hide();
			var loadPageURL = "/rsunify/app/"+rootURL+"/"+activeTab;    
				showDiaplyAlertMessagesAndImg("Checking for Database Corruption Please Wait", "info");
				$.ajax({
					url: loadPageURL,
					method: 'POST',
					cache: false,
					success: function(data) {
						var flag;
						flag=data;
						if(flag==='true'){
							msg1="DB check is done, You may process now";
						}else{
							msg1="The database is corrupt. It is not recommended to continue operations with rectifying the problem. Contact HD immediately";
						}
						showDiaplyAlertMessagesAndImg(" ", "info");						
						$("#imgid").empty();
						var dlg = $.messager.confirm({title: 'Confirm', msg: msg1,
							buttons:[{
					        	text: 'OK',
					        	onClick: function(){	
					           		dlg.dialog('destroy');
					        	}
					    	}]
						});						
					}
				});
				$('#'+activeTab).css('display', 'table');
				$('#activeDiv').append('<div><p class="windows-item">'+'<span onclick=showSessionPage("'+activeTab+'") >'+screenName+'</span></p></div>');}
 
  		function showDiaplyAlertMessagesAndImg(message, msgType){
    		var imageSrc = "<img id='imgid' src='/rsunify/resources/imgs/ajax-loader.gif' height='5px'/>";
			//$(".txt-cont-are").text(message);
			if(message != " "){		
				$( "#display-message" ).append("<div id='checkdataimg' style='float:left'>"+message+"&nbsp;"+imageSrc+"</div>"); 
			   	
			}
			else{
				
				$( "#checkdataimg").remove();
			}
			if(msgType == "info"){
				$(".txt-cont-are").css({"color":"maroon", "text-align":"left"});
			} else {
				$(".txt-cont-are").css({"color":"red", "text-align":"right"});				
			}
		}
 
 	 	function displayScreensamewindow(rootURL, activeTab, screenName){
 	 		var servResp = preValidateScreenOpen("Release Bill Level Lock", "0");
 	 		if(servResp.status === "SUCCESS"){
	 	 		$('.targetDiv').hide();
				var loadPageURL = "/rsunify/app/"+rootURL+"/"+activeTab;
					$.ajax({
						url: loadPageURL,
						method: 'POST',
						cache: false,
						success: function(data) {
						var dlg = $.messager.confirm({title: 'Confirm', msg: 'Are You sure to Release the Bill Level Lock',
							buttons:[
								     {
					        		text: 'Yes',
					        		onClick: function(){
					        			dlg.dialog('destroy');
					        			updateBillLevelLock();          		
					            		return false;
					        		}
					        	 },{
					            	 text: 'Cancel',
					            	 onClick: function(){
					            		 dlg.dialog('destroy');
					            		 return false;
					        	    }
					    		}],
					    		onDestroy:function(){
					    			removeScreenNameFromSession("Release Bill Level Lock", "0");
					    		}
							});
					}
				});
 	 		} else {
 	 			servResp.status = "OPNEDIMP";
 	 			validateRepsonseAndContinue(servResp, "", "Release Bill Level Lock");
 	 		}
			function updateBillLevelLock(){
				var targetURL = "/rsunify/app/alarm/releaseBillLevelLock";
			    $.ajax({ 
			    type: 'POST',
				url: targetURL,
				contentType: "text/plain",
			    success: function(data){
			    }
			    });
			}
			$('#'+activeTab).css('display', 'table');
			$('#activeDiv').append('<div><p class="windows-item">'+'<span onclick=showSessionPage("'+activeTab+'") >'+screenName+'</span></p></div>');
		} 
 	 	
		function preValidateScreenOpen(screenName, isTrackUpdate){
			var serverResp = "";
			var jsonData = {};
			jsonData.screenName = screenName;
			jsonData.pbayoutUpdate = ""+isTrackUpdate;
			$.ajax({
				type: "POST",
				url: "/rsunify/app/ikeaCommonUtilController/updateScreenNameIntoSession",
				data: {"strJsonParams":JSON.stringify(jsonData)},
		    	dataType: "",
				async: false,
		    	success: function (jsonResponse) {
		    		//validateRepsonseAndContinue(jsonResponse, loadPageURL, screenName);
		    		serverResp = jsonResponse;
				},
				error: function (jsonResponse) {
					//do nothing
				}
		   	});
			return serverResp;
		}
 
		(function($){
			function getParentMenu(rootMenu, menu){
				return findParent(rootMenu);
				function findParent(pmenu){
					var p = undefined;
					$(pmenu).find('.menu-item').each(function(){
						if (!p && this.submenu){
							if ($(this.submenu)[0] == $(menu)[0]){
								p = pmenu;
							} else {
								p = findParent(this.submenu);
							}
						}
					});
					return p;
				}
			}

			$( document ).on( "keydown", ".messager-window .messager-button a.l-btn", function(e){
				var target = $( this );
				if( e.keyCode == 39  ){
					if( target.next().length != 0 ){
						target.next().focus();
					} else {
						target.parent().find( "a.l-btn-small:first" ).focus()
					}
				} else if( e.keyCode == 37 ){
					if( target.prev().length != 0 ){
						target.prev().focus();
					} else {
						target.parent().find( "a.l-btn-small:last" ).focus()
					}
				}
			});
			
 			$.extend($.fn.menubutton.methods, {
				enableNav: function(enabled){
					var curr;
					$(document).unbind('.menubutton');
					if (enabled == undefined){enabled = true;}
					if (enabled){
						$(document).bind('keydown.menubutton', function(e){
							var currButton = $(this).find('.m-btn-active,.m-btn-plain-active,.l-btn:focus');
							if (!currButton.length){
								return;
							}

							if (!curr || curr.button != currButton[0]){
								curr = {
									menu: currButton.data('menubutton') ? $(currButton.menubutton('options').menu) : $(),
									button: currButton[0]
								};
							}
							var item = curr.menu.find('.menu-active');

							switch(e.keyCode){
								case 13:  // enter
									item.trigger('click');
									break;
								case 27:  // esc
									currButton.trigger('mouseleave');
									break;
								case 38:  // up
									var prev = !item.length ? curr.menu.find('.menu-item:last') : item.prevAll('.menu-item:first');
									prev.trigger('mouseenter');
									return false;
								case 40:  // down
									var next = !item.length ? curr.menu.find('.menu-item:first') : item.nextAll('.menu-item:first');
									next.trigger('mouseenter');
									return false;
								case 37:  // left
									var pmenu = getParentMenu(currButton.data('menubutton') ? $(currButton.menubutton('options').menu) : $(), curr.menu);
									if (pmenu){
										curr.menu = pmenu;
										item.triggerHandler('mouseleave');
									} else {
										var prev = currButton.prevAll('.l-btn:first');
										if (prev.length){
											currButton.trigger('mouseleave');
											prev.focus();
										}
									}
									return false;
								case 39:  // right
									if (item.length && item[0].submenu){
										curr.menu = $(item[0].submenu);
										curr.button = currButton[0];
										curr.menu.find('.menu-item:first').trigger('mouseenter');
									} else {
										var next = currButton.nextAll('.l-btn:first');
										if (next.length){
											currButton.trigger('mouseleave');
											next.focus();
										}
									}
									return false;
							}
						});						
					}
				}
			}); 
		})(jQuery);

		$(function(){
			//$.fn.menubutton.methods.enableNav(); blocked for keynavigation bug id:12123
			$(document).keydown(function(e){
				if (e.altKey && e.keyCode == 87){
					$('#btn-home').focus();
				}
			})
		});
		
		function logout() {
			
			/* Check if any pending survey that has to be shown on logout event */
			if (typeof ikeaDashboardManagerObj != "undefined" && ikeaDashboardManagerObj != null && ikeaDashboardManagerObj.surveyor && ikeaDashboardManagerObj.surveyor.survey && ikeaDashboardManagerObj.surveyor.survey.WHEN_TO_SHOW == "logout") {
				ikeaDashboardManagerObj.callLogout = true;
				$("#ikea-take-survey-btn").trigger("click");
				return;	
			}	
			
			$("body").append($('<div class="ikea-logout-ghost-back"></div>'));
			//check screens are opened for current session
			if($('.messager-window').is(':visible')){return false;}
			$('#logoutScr').hide();
			if(cloudInfo == "true"){
				$("#databaseBackup").prop("checked", false);
				$("#databaseBackup").attr("disabled", "disabled");
				$("#databaseBackup").next("span").addClass("disabled");
			}
			/*$('.easyui-menubutton').each(function(){
	    		$(this).addClass('disabled');
	   		});*/
	   		disable();
	   		var backupAdvice = '';
			$.ajax({
					async: false,
					url: "/rsunify/app/user/backupAdvice.do",
					method: 'POST',
					cache: false,
					 success: function(data) {
						 backupAdvice = data;
						 $('#logoutScr').show();
					 },
					 error: function(e) {
						 redirectToLogin();
					 }
			});
			var jsonResponse = {};
			$.ajax({
					async: false,
					url: "/rsunify/app/ikeaCommonUtilController/preValidateUserLogout",
					method: 'POST',
					cache: false,
					 success: function(data) {
						 jsonResponse = data;
					 },
					 error: function(e) {
						 redirectToLogin();
					 }
			});
			if(jsonResponse.status == "SUCCESS"){
				if(cloudInfo == "true"){
					backupAdvice = "";
					$('#loginDetails').focus();$('#loginDetails').prop('checked', true);
				} else {
					$('#databaseBackup').focus();$('#databaseBackup,#loginDetails').prop('checked', true);
				}
				if(backupAdvice != ''){
					 var dlg = $.messager.confirm({title: 'Alert', msg: backupAdvice, width: '400px',
							buttons:[{
						        text: 'Ok',
						        onClick: function(){
						       		//$('.easyui-linkbutton').show();
						       		$('#logoutScreen').show();	$('#databaseBackup').focus();
						            dlg.dialog('destroy');
						        }
						    }],
						    onClose: function() {
						    	$('#logoutScreen').show();	$('#databaseBackup').focus();
					            dlg.dialog('destroy');
			                }
						});
				 } else {
				 	if(cloudInfo == "true"){
					 	$('#logoutScreen').show();	$('#loginDetails').focus();
					} else {
						$('#logoutScreen').show();	$('#databaseBackup').focus();
					}
				 }
			} else if(jsonResponse.status == "SESS_EXPIRED"){
				redirectToLogin();
			} else if(jsonResponse){
				reEnabaleTsiMenus();
				var dlgMessage = "Error occured Try Again!..";
				if(jsonResponse.status == "OPENED"){
					dlgMessage = jsonResponse.message+" Screens Are Opened... Close it Before Logout..";
					var dlg = $.messager.confirm({title: 'Confirm', msg: dlgMessage, width: '400px',
				        onClose: function() {
				        	$(".ikea-logout-ghost-back").remove();
				        },
						buttons:[{
					        text: 'Ok',
					        onClick: function(){
					        	$(".ikea-logout-ghost-back").remove();
					            dlg.dialog('destroy');
					        }
					    }]
					});	
				}
				
				
			}
		}

		</script>
		
		<script type="text/javascript">
		var activeMenu = null;
		var clickHistory = new Array();
		var activeMenuArray = new Array();
		var clickHistoryCount = -1;

		function showPage(activeTab) {
			pageReload(activeTab);
		}
		
		function pageReload(activeTab) {
			$('#searchBox').dialog('destroy');
			$('.targetDiv').hide();
			 rsunifyLoadPage(activeTab, '/rsunify/app/adminconfig/' + activeTab + '/loadpage.do?d=' + Math.random(),
				function() {
			});
		}

		function rsunifyLoadPage(activeTab, loadPageURL, callback, mainTab) {
			
			/* $('#loadPage').empty();
			$("#loadPage").html("");
			$("#loadPage").contents().remove();
			$("#loadPage *").remove();
			$('#loadPage').children().remove();
			alert(loadPageURL); */

			$('#' + activeTab).panel({
				href : loadPageURL,
				onLoad : function() {
					$("html, body").animate({
						scrollTop : 0
					}, "slow");
				}
			});
			$('#' + activeTab).css('display','table');
			$('#activeDiv').append(
					'<br><div onclick=showSessionPage("' + activeTab + '") >'
							+ activeTab + '</div>');
			//$('#loadPage').panel({href:loadPageURL,onLoad:function(){$("html, body").animate({ scrollTop: 0 }, "slow");}} );

		}

		function showSessionPage(divVal) {
			$('#display-message').text("").addClass("txt-black");
			$('.targetDiv').hide();
			$('#' + divVal).show();
		}

		$(window)
				.keydown(
						function(event) {

							if (event.ctrlKey == true
									&& (event.which == '61'
											|| event.which == '107'
											|| event.which == '173'
											|| event.which == '109'
											|| event.which == '187' || event.which == '189')) {
								event.preventDefault();
							}

							if (event.ctrlKey && event.keyCode == 84) {
								event.preventDefault();
							}
							if (event.ctrlKey && event.keyCode == 83) {
								event.preventDefault();
							}
							if (event.keyCode == 38) {
								//alert("up arrow"+row_dataGrid);
							}
							if (event.keyCode == 40) {
								//alert("down arrow"+row_dataGrid);
							}

							if (event.ctrlKey && event.keyCode == 66) {
								event.preventDefault();
							}
							if (event.ctrlKey && event.keyCode == 67) {
								confirmDialog();
								event.preventDefault();
							}
							if (event.ctrlKey && event.keyCode == 68) {
								event.preventDefault();
							}
							if (event.ctrlKey && event.keyCode == 71) {
								event.preventDefault();
							}
							if (event.ctrlKey && event.keyCode == 72) {
								event.preventDefault();
							}
							if (event.ctrlKey && event.keyCode == 76) {
								event.preventDefault();
							}

							if (event.ctrlKey && event.keyCode == 78) {
								newForm();
								event.preventDefault();
							}
							if (event.ctrlKey && event.keyCode == 79) {
								event.preventDefault();
							}

							if (event.ctrlKey && event.keyCode == 81) {
								event.preventDefault();
							}
							if (event.ctrlKey && event.keyCode == 70) {
								//findGrnno();
								event.preventDefault();
							}

							if (event.ctrlKey && event.keyCode == 80) {
								event.preventDefault();
							}
							if (event.ctrlKey && event.keyCode == 90) {
								event.preventDefault();
							}

						});

		/* Preventing Zoom in/out of pages for mouse
		 *
		 */
		$(window).bind('mousewheel DOMMouseScroll', function(event) {
			if (event.ctrlKey == true) {
				event.preventDefault();
			}
		});

		window.history.forward();
		function noBack() {
			window.history.forward();
		}
		
		function disable() {
            $('.easyui-menubutton').each(function(){
                if(!$(this).hasClass('disabled'))  
            		$(this).addClass('disabled').addClass("tsi-disabled");
            });
      }
		// Call dragable message box.
		$(document).ready(function(){
			setTimeout(function(){
				syncTodoLogTableheaderWidth();
			}, 400);
			
			// added by pj - for todo list table header issue
			if( typeof MutationObserver != 'undefined' ){
				  var observer = new MutationObserver(function(mutations) {
					  syncTodoLogTableheaderWidth();
				  });
				  var target = document.querySelector('.middle-content');
				  observer.observe(target, {
				    attributes: true
				  });
			}
			
			$( ".pnl-content.hght-190.ovrf-auto" ).scroll(function(e){
				    $( "#appLog-table-fixed-wrapper" ).scrollLeft( $( this ).scrollLeft()  );
			})
			//$( 'div.header-nav-wrapper' ).css( 'width', screen.width);
			
			
			$(window).bind('beforeunload',function(event){
				if(mainTablFlags.isForeceLogout){
					window.onunload = "";
					window.onbeforeunload = "";
					$(window).off("beforeunload");
					setCookie("maitabOpened", "No");
					return true;
				}
				
				if(mainTablFlags.isForeceLogout == 0){
					if(!$("#firstScreen, #thirdScreen, #logoutScreen, #bsPage, #loadBusinessSummary").is(":visible"))
					{
						logout();
					}
					if(mainTablFlags.isCloseTriggered == 0)
						return false;
				}
			});
			$('div.txt-sms-display').drags();
			if(('false')=='true')
				{
				disable();
				}
			//added for TSI user start
			 /* if(('' != '') && ('' != null))
				{
				
				 var dlgnewForTSI = $.messager.confirm({title: 'Error Message', msg: "Your password will expire in " + '' +" days. To change your password, click TSO password reset",
						buttons:[{
					        text: 'OK',
					        onClick: function(){
					        	dlgnewForTSI.dialog('destroy');
					        }
					    }]
				});
				 
				}  */
			//added for TSI user end
            //Drag & Drop Event Blocked for All the Place
            
            /* Blocked by Sark - Since Dashboard module uses 
               Native dragover, dragleave and drop events 	*/
            /*
			$("html").on("dragover", function(event) {
			    event.preventDefault();  
			    event.stopPropagation();
			    $(this).addClass('dragging');
			});

			$("html").on("dragleave", function(event) {
			    event.preventDefault();  
			    event.stopPropagation();
			    $(this).removeClass('dragging');
			});

			$("html").on("drop", function(event) {
			    event.preventDefault();  
			    event.stopPropagation();
			});
			*/
			
            //Till Here
		});
		</script>
		<!--Backspace func+ by Ashraful   -->
 		<script type="text/javascript">
		(function (global, $) {
		
		    var _hash = "!";
		    var noBackPlease = function () {
		        global.location.href += "#";
		        global.setTimeout(function () {
		            global.location.href += "!";
		        }, 5);
		    };
		
		    global.onhashchange = function () {
		        if (global.location.hash != _hash) {
		            global.location.hash = _hash;
		        }
		    };
		
		    global.onload = function () {
		        noBackPlease();
		        $(document.body).keydown(function (e) {
		            var elm = e.target.nodeName.toLowerCase();
		            if (e.which == 8 && (elm !== 'input' && elm  !== 'textarea' && elm  !== 'div' && elm  !== 'span')) {
		                e.preventDefault();
		            }
		            // stopping event bubbling up the DOM tree..
		            //e.stopPropagation();
		        });
		    };
		
		})(window, jQuery || window.jQuery);
		
		</script> 
		
		<script language="JavaScript">
		
		var version = navigator.appVersion;
		function showKeyCode(e) {
			var flgval= false;
		    var keycode = (window.event) ? event.keyCode : e.keyCode;
		    if ((version.indexOf('MSIE') != -1)) {
		        if (keycode == 116 || (e.ctrlKey && keycode == 116) || (e.ctrlKey && keycode == 82) || (e.ctrlKey && keycode == 73)) {
		            event.keyCode = 0;
		            //alert("Hello");
		            event.returnValue = false;
		            flgval=true;
		            return false;
		        }
		        if (flgval) {
				        if ((e.ctrlKey && keycode == 79)) {
		            //event.keyCode = 71;
		            //alert("Hello");
		            //saveForm();
					$('.vs-context-menu').hide();
					event.preventDefault();
					
		        }
		        }
		    } else {
		        if (keycode == 116 || (e.ctrlKey && keycode == 116) || (e.ctrlKey && keycode == 82) || (e.ctrlKey && keycode == 73) || (e.ctrlKey && keycode == 79)) {
		            return false;
		        }
		    }
		}
		</script>
		
		<!-- On focus keyNav Edit -->
		<!-- <script>
		$(document).keypress(function () { 
		    $('td.active input,td.active div').attr('contenteditable','true'); 
		    $('td.active input,td.active div').focus(); 
		});
		</script> -->
		
		<!-- HTML COPY FROM HERE  -->
		<div class="middle-content" style="display: none;">

			<!-- TO-DO-STARTS -->
<div class="pnl-wrapper pnl-border pnl-wid-4hf marg-right-32" id="todo-content">
  <div class="pnl-header">
    <h4>To Do List</h4>
    <div class="pnl-header-btns-hldr">
    	<a class="minim" title="Minimize" id="cls-todo"></a><a title="Help" class="help"></a> 
    </div>
  </div>
  
  <!-- end of pnl-header --> 
  <div class="pnl-content pnl-content-padd ovrf-auto" style="height: 218px;" id="msglistid">  
	<!-- 1 -->  
<!-- 	<div class="list-view-todo">
	    <input type="checkbox">
		<span class="text" id="msgname">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</span>
		<span class="time-txt" id="msgvalue">11:21</span>		
		<a class="del-ico" title="Delete"></a> 
		<a class="edi-ico" title="Edit"></a>
	</div> -->
	<!-- 2 --> 
	<!-- <div class="list-view-todo">
		<input type="checkbox"><span class="text">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</span>		
		<a class="del-ico" title="Delete"></a>
		<a class="edi-ico" title="Edit"></a>
	</div>
	3 
	<div class="list-view-todo">
		<input type="checkbox"><span class="text">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</span>		
		<a class="del-ico" title="Delete"></a>
		<a class="edi-ico" title="Edit"></a>
	</div>
	4 
	<div class="list-view-todo">
		<input type="checkbox"><span class="text">Lorem Ipsum is simply dummy text of the printing and typesetting industry.</span>		
		<a class="del-ico" title="Delete"></a>
		<a class="edi-ico" title="Edit"></a>
	</div>	 -->
  </div>  
<!-- footer -->  
  <div class="pnl-footer pnl-btn-header">
		<label>
          <input type="checkbox" id="textCheckbox"><span>Select All</span>
        </label>
		<input type="button"  value="Delete" onclick="deletemsg()" class="left">
		<input type="button" value="+ Add" onclick="loadAlarmScreen()">
  </div>
  <!-- footer -->  
</div>
<!-- TO-DO-ENDS -->

			<!-- LOGS-STARTS -->
			<div class="pnl-wrapper pnl-border pnl-wid-4hf" id="log-content">
			  <div class="pnl-header">
			    <h4>Log List</h4>
			    <div class="pnl-header-btns-hldr"><a class="minim minim-main-tab" title="Minimize" id="cls-log"></a><a title="Help" class="help"></a> </div>
			  </div>
			  <!-- end of pnl-header --> 
			  <div class="form-content-area">	
			      <div class="col-2 col-3">
			        <label>Select
			          <select id='appLog-select' >
						<option value='1'>Beat Export</option>
						<option value='1'>Moc Closure</option>
						<option value='1'>Market order & Collection</option>
						<option value='1'>EGIR</option>
						<option value='1'>Purchase Return</option>
						<option value='1'>Stock Management</option>
						<option value='1'>Source RS Stock Transfer</option>
						<option value='1'>Backup Database</option>
						<option value='1'>Sync with Central Unify</option>
						</select>
			        </label>       
			      </div>
				  
			      <div class="col-2 col-3">
			        <label>From Date
			          <input type="text" id='appLog-fromDate' class="date-pick" placeholder="__/__/____" disabled>
			        </label>      
			      </div>
				
				<div class="col-2 col-3">        
			        <label>To Date
			          <input type="text" id='appLog-toDate' class="date-pick" placeholder="__/__/____" disabled>
			        </label>			
			        <!-- <button id="#appLog-go" onclick='appLog_go()'>GO</button> -->
			      </div>
			    </div>
			    <div class="appLog-table-fixed-header-container">
			    <div id="appLog-table-fixed-wrapper">
			    <table class="tbl-fixed-headers" id='appLog-table-fixed-header'>
			          <thead>
			            <tr>
			            	<th>#</th>
			            	<th>Module Name</th>
			            	<th>BATCH ID</th>
			            	<th>STATUS</th>
			            	<th>START TIME</th>
			            	<th>END TIME</th>
			            </tr>
			          </thead>
			    </table> 
			    </div>
			  <div class="pnl-content hght-190 ovrf-auto">  
			       
				<table class="tbl-fixed-headers" id='appLog-table'>
			          <thead>
			            <tr>
			            	<th>#</th>
			            	<th>Module Name</th>
			            	<th>BATCH ID</th>
			            	<th>STATUS</th>
			            	<th>START TIME</th>
			            	<th>END TIME</th>
			            </tr>
			          </thead>
			          <tbody id="paginate">
			          </tbody>
			        </table>	
			  </div>  
			</div>
			<!-- footer -->  
			  <div class="pnl-footer pnl-btn-header" style="height:24px;">	
				<input type='hidden' id='current_page' />
			    <input type='hidden' id='show_per_page' />
			    <div id='page_navigation'>
			    </div>  
			  </div>
			<!-- footer -->  
			</div>
			<!-- LOGS-ENDS -->

			<div class="mi-bottom-holder">
				<div class="minim-bottom-box mi-todo">To Do List<span></span></div>
				<div class="minim-bottom-box mi-log">Log List<span></span></div>
			</div>
			
			</div>
			<div style="width: 1000px;position: absolute;left: 50%;top: 660px;bottom: 0px;margin-left: -500px;font-size: 79px !important;font-weight: bold;color: #ea1e31;">
                <p id="ikea_homepage_bottom_message" style="font-size: 16px;"></p>
            </div>
            <div style="width: 1000px;position: absolute;left: 50%;top: 685px;bottom: 0px;margin-left: -500px;font-size: 79px !important;font-weight: bold;color: #ea1e31;">
                <p id="ikea_homepage_bottom_message_1" style="font-size: 16px;"></p>
            </div>
			<!-- HTML COPY TO HERE  -->
			<script>
			//applog
			$(function (){
				displayPaginationHeader = false;
				displaySearchFooter = false;
				$('div.txt-sms-display').drags();
				$('.date-pick').datePicker({
					 startDate:'01/01/2000'
				});
				//table fixed header
				//$('table').floatThead({
					//position: 'absolute',
					//scrollContainer: true
				//});
				//table td focus and key navigation
			   	
				$('.context-menu-wrapper').vscontext({menuBlock: 'vs-context-menu'});
				//masking fromdate and todate
				$('.date-pick').mask("99/99/9999");
				$("#cls-todo").click(function() {
					$("#todo-content").hide();
					$("#log-content").addClass("log-content-full-width");
				});
				$("#cls-todo").click(function() {
					$("#todo-content").hide();
					$("#log-content").addClass("log-content-full-width");
					$(".mi-todo").show();
				});
				$("#cls-log").click(function() {
					$("#log-content").hide();
					$("#todo-content").addClass("log-content-full-width");
					$(".mi-log").show();
				});
				$(".mi-todo").click(function() {
					$("#todo-content").show();
					$("#log-content").removeClass("log-content-full-width");
					$(".mi-todo").hide();
				});
				$(".mi-log").click(function() {
					$("#log-content").show();
					$("#todo-content").removeClass("log-content-full-width");
					$(".mi-log").hide();
				});
				
				appLog_emptyTable(10);
				$('#appLog-table').tableNav();
				$('#appLog-select').click(function(event) {
					if ($(this).data('clicks') == 1) {
						$(this).data('clicks', 0);
						$(this).trigger("change");
					} else {
						$(this).data('clicks', 1);
					}
				});
				$('#appLog-select').focusout( function() {
					$(this).data('clicks', 0);
				});
				$('#appLog-select, #appLog-fromDate, #appLog-toDate').change(function() {
					$(this).data('clicks', 0);
					/* if(!fromDate.isValid()) {
						$('#appLog-fromDate').focus();
						$('#display-message').text('Enter Or Select From Date').removeClass("txt-black");
						return false;
					}
					
					if(!toDate.isValid()) {
						$('#appLog-toDate').focus();
						$('#display-message').text('Enter Or Select To Date').removeClass("txt-black");
						return false;
					} */
					
					
					if(this.id == 'appLog-fromDate') {
						$('#appLog-toDate').val('');
						$('#appLog-toDate').dpClearSelected();
						return true;
					}
					
					if(this.id == 'appLog-toDate') {
						if($('#appLog-fromDate').val().length == 0 ) {
							$('#display-message').text('Please Select From Date').removeClass("txt-black");
							$('#appLog-toDate').val('');
							$('#appLog-fromDate').focus();
							return false;
						}
					}
					
					
					var toDate_1 = $('#appLog-toDate').val();
					var fromDate_1 = $('#appLog-fromDate').val();
					
					if(toDate_1.length == 0 ) {
						$('#display-message').text('Please Select To Date').removeClass("txt-black");
						$('#appLog-toDate').focus();	
					}
					
					if(fromDate_1.length == 0 ) {
						$('#display-message').text('Please Select From Date').removeClass("txt-black");
						$('#appLog-fromDate').focus();	
					}
					
					var toDate_split = toDate_1.split('/');
					var fromDate_split = fromDate_1.split('/');
					
					
					var toDate = new Date(toDate_split[2], toDate_split[1], toDate_split[0]);
					var fromDate = new Date(fromDate_split[2], fromDate_split[1], fromDate_split[0]);
					
					
					if(fromDate > toDate) {
						$('#display-message').text('To Date cannot be Less then From date').removeClass("txt-black");
						$('#appLog-toDate').val('');
						$('#appLog-fromDate').focus();
						return false;
					}
					
					if($('#appLog-select option:selected').text().length > 0 && $('#appLog-fromDate').val().length > 0 && $('#appLog-toDate').val().length > 0) {
						$('#display-message').text('').addClass("txt-black");
						appLog_go();
					}
				});		
			});

			var pageSize = 7;
			//Pagiation JS Code
			makePager = function(page){
	            var number_of_items = $('#paginate tr').size();
	            var number_of_pages = Math.ceil(number_of_items / pageSize);
	            var number_of_pages_todisplay = 5;
	            var navigation_html = '';
	            var current_page = page;
	            var current_link = (number_of_pages_todisplay >= current_page ? 1 : number_of_pages_todisplay + 1);
	            if (current_page > 1)
	                current_link = current_page;
	            if (current_link != 1) navigation_html += "<a class='nextbutton' href=\"javascript:first();\">« Start&nbsp;</a>&nbsp;<a class='nextbutton' href=\"javascript:previous();\">« Prev&nbsp;</a>&nbsp;";
	            if (current_link == number_of_pages - 1) current_link = current_link - 3;
	            else if (current_link == number_of_pages) current_link = current_link - 4;
	            else if (current_link > 2) current_link = current_link - 2;
	            else current_link = 1;
	            var pages = number_of_pages_todisplay;
	            while (pages != 0) {
	                if (number_of_pages < current_link) { break; }
	                if (current_link >= 1)
	                    navigation_html += "<a class='" + ((current_link == current_page) ? "currentPageButton" : "numericButton") + "' href=\"javascript:showPage(" + current_link + ")\" longdesc='" + current_link + "'>" + (current_link) + "</a>&nbsp;";
	                current_link++;
	                pages--;
	            }
	            if (number_of_pages > current_page){
	                navigation_html += "<a class='nextbutton' href=\"javascript:next()\">Next »</a>&nbsp;<a class='nextbutton' href=\"javascript:last(" + number_of_pages + ");\">Last »</a>";
	            }
                $('#page_navigation').html(navigation_html);
      		}
      		showPage = function (page) {
	            $("#paginate tr").hide();
	            $('#current_page').val(page);
	            $("#paginate tr").each(function (n) {
	                if (n >= pageSize * (page - 1) && n < pageSize * page)
	                    $(this).show();
	            });
        		makePager(page);
       		}
        	//showPage(1);
       		next = function () {
            	new_page = parseInt($('#current_page').val()) + 1;
            	showPage(new_page);
        	}
	        last = function (number_of_pages) {
	            new_page = number_of_pages;
	            $('#current_page').val(new_page);
	            showPage(new_page);
	        }
	        first = function () {
	            var new_page = "1";
	            $('#current_page').val(new_page);
	            showPage(new_page);    
	      	}
	        previous = function () {
	            new_page = parseInt($('#current_page').val()) - 1;
	            $('#current_page').val(new_page);
	            showPage(new_page);
	      	}  
			function appLog_go() {
				
				// validation required
				var appLogData   = {
					'screenName' :$('#appLog-select option:selected').text(),
					'fromDate': moment($('#appLog-fromDate').val(), 'DD/MM/YYYY').format('YYYY-MM-DD'),
					'toDate': moment($('#appLog-toDate').val(), 'DD/MM/YYYY').format('YYYY-MM-DD')
				};
				
				var selectedValue = $('#appLog-select option:selected').text();
				
				var paramsJSON = appLog_targetUrl('APP_LOG_QE_GET_LIST', 1, 200);	
				
				if(selectedValue=='Moc Closure'){
					paramsJSON = appLog_targetUrl('APP_LOG_MOC_GET_LIST', 1, 200);				
				
				} else if(selectedValue=='Market order & Collection') {
					paramsJSON = appLog_targetUrl('APP_LOG_QI_GET_LIST', 1, 200);
					
				} else if(selectedValue=='EGIR') {
					paramsJSON = appLog_targetUrl('APP_LOG_EGIR_GET_LIST', 1, 200);
					
				} else if(selectedValue=='Purchase Return') {
					paramsJSON = appLog_targetUrl('APP_LOG_PR_GET_LIST', 1, 200);
				
				} else if(selectedValue=='Stock Management') {
					paramsJSON = appLog_targetUrl('APP_LOG_StockMgmt_GET_LIST', 1, 200);
					
				} else if(selectedValue=='Source RS Stock Transfer') {
					paramsJSON = appLog_targetUrl('APP_LOG_StockTransfer_GET_LIST', 1, 200);
				} else if(selectedValue=='Backup Database') {
					paramsJSON = appLog_targetUrl('APP_LOG_BACKUP_GET_LIST', 1, 200);
				} else if(selectedValue == 'Sync with Central Unify'){
					paramsJSON = appLog_targetUrl('LOAD_SYNC_DASHBOARD_STATUS', 1, 200);
				}
				
				
				$.ajax({
						async: false,
						url: paramsJSON.targetUrl,
						method: 'POST',
						data: JSON.stringify(paramsJSON),
						cache: false,
						contentType: 'application/json',
						cache: false,
						 success: function(data) {
							 appLog_populateList(data);
							 appLog_emptyTable(10);
						 },
						 error: function(e) {
							 
						 }
				}).always(function() {
					
				});
			}       

			function appLog_emptyTable(minRowSize) {
				var headerCount = $('#appLog-table thead tr th').length;
				var rowCount = $('#appLog-table tbody tr').length;
				var rows = '';
				for(var i=rowCount; i < minRowSize; i++) {
					rows = rows + '<tr>';
					for( var j = 0; j < headerCount; j ++) {
						if(j==0) {
							rows = rows + '<td>'+(i+1)+'</td>';
						}
						else {
							rows = rows + '<td tabindex="0" class="enable"></td>';
						}
					}
					rows = rows + '</tr>';
				}
				if(rowCount == 0){
					$('#appLog-table').append('<tbody>'+rows+'</tbody>');
				}else {
					$('#appLog-table tbody').append(rows);
				}
			}
			function appLog_targetUrl(sqlName,pageNumber, pageSize) {
				var startDate = moment($('#appLog-fromDate').val(), 'DD/MM/YYYY').format('YYYY-MM-DD');
				var toDate = moment($('#appLog-toDate').val(), 'DD/MM/YYYY').format('YYYY-MM-DD');
				var jsonObj = {
					"viewName" : sqlName,
					"pageNumber" : pageNumber, 
					"pageSize" : pageSize, 				
				};
				var paramsJson = {};
				paramsJson.targetUrl = "/rsunify/app/paginationController/getPopScreenData";
				paramsJson.jasonParam = jsonObj;
				var targetUrl = '';
				var jsonObjWhereClause = {":COND1" : "'"+startDate+"'", ":COND2" : "'"+toDate+"'"};
				paramsJson.jsonObjWhereClause = jsonObjWhereClause; 
				if(sqlName != "APP_LOG_QI_GET_LIST" && sqlName != "LOAD_SYNC_DASHBOARD_STATUS") {			
					//targetUrl = "/rsunify/app/paginationController/getPopScreenData?jasonParam="+JSON.stringify(jsonObj)+"&jsonObjWhereClause="+JSON.stringify(jsonObjWhereClause)+"&orderBy=[BATCH ID] desc";
					paramsJson.orderBy="[BATCH ID] desc";
				} else {
					//targetUrl = "/rsunify/app/paginationController/getPopScreenData?jasonParam="+JSON.stringify(jsonObj)+"&jsonObjWhereClause="+JSON.stringify(jsonObjWhereClause)+"&orderBy=[START TIME] desc";
					paramsJson.orderBy="[START TIME] desc";
				}
			 	return paramsJson;
			}

			function appLog_populateList(jsonArray){
				var tableList = jsonArray[0];
				var rows = '';
				$.each(tableList, function(rowIdx, rowObj) {
					if(rowIdx == 0) {
						rows = rows + '<thead><tr>';
						$.each(rowObj, function(columnIdx, columnObj) {	
							if(columnIdx == 0) {
								rows = rows + '<th>#</th>';
							} else {
								rows = rows + '<th>'+columnObj+'</th>';
							}
						});
						
						rows = rows + '</tr></thead>';
					}
					else {
					if(rowIdx == 1) {
						rows = rows + '<tbody id="paginate">';
					} 
						rows = rows + '<tr style="cursor: pointer;" onclick="appLog_getBatchData(this);">';
						$.each(rowObj, function(columnIdx, columnObj) {	
							rows = rows + '<td tabindex="0" class="enable">'+columnObj+'</td>';
						});
					rows = rows + '</tr>';
					if(rowIdx == (tableList.length-1)) {
						rows = rows + '</tbody>';
					} 
					}
					
				});
				$('#appLog-table').html(rows);
				if(tableList != undefined && tableList.length > 11){
					showPage(1);
				} else {
					$("#page_navigation").html("");
				}
			}

			var editAllowed =  true;
			var noOfHiddenColumnsFromFirst = 2;
			var iterator = 0;
			var currentBatchId = '';

			function appLog_getBatchData(obj) {
				//if sync with cetral unify don't trigger
				if($(obj).find('td:eq(1)').text().toLowerCase() == "sync with central unify")
					return;
				currentBatchId = $(obj).find('td:eq(2)').text();
				if(currentBatchId.length > 0) {
					loadPaginationPopup($('#appLog-select option:selected').text());
				}
			}

			/*Add field and table theader, title info here to display in POP screen*/
			function provideFieldAndTableInformation(){
				
				popTableJsonObject = {
						"Beat Export":[{"title" : "List of Module", 'viewName': 'APP_LOG_QE_GET_BATCH_DATA'}],
						"Market order & Collection":[{"title" : "List of Module", 'viewName': 'APP_LOG_QI_GET_BATCH_DATA'}],
						"Moc Closure":[{"title" : "List of Module", 'viewName': 'APP_LOG_MOC_GET_BATCH_DATA'}],
						"EGIR":[{"title" : "List of Module", 'viewName': 'APP_LOG_EGIR_GET_BATCH_DATA'}],
						"Purchase Return":[{"title" : "List of Module", 'viewName': 'APP_LOG_PR_GET_BATCH_DATA'}],
						"Stock Management":[{"title" : "List of Module", 'viewName': 'APP_LOG_StockMgmt_GET_BATCH_DATA'}],
						"Source RS Stock Transfer":[{"title" : "List of Module", 'viewName': 'APP_LOG_StockTransfer_GET_BATCH_DATA'}],
						"Backup Database":[{"title" : "List of Module", 'viewName': 'APP_LOG_BACKUP_GET_BATCH_DATA'}]
				}
				return popTableJsonObject;
			}

			
			// Configure target URL here to call controller
			/* function getTargetURL(attrIdVal, searchText, pageNumber, searchOn, viewName){
				
				var targetUrl = '';
				var jsonObj = {
					"viewName" : viewName,
					"pageNumber" : pageNumber, 
					"pageSize" : pageCount,
					"columnToSearch"  : searchOn,
					"columnSearchText"  : searchText,
					"textSearchType" : $("select#selectTypeId option:selected").val()
				};
				var jsonObjWhereClause = {":COND1" : "WHERE PROCESS_ID ='"+currentBatchId+"'"};
				targetUrl = "/rsunify/app/paginationController/getPopScreenData?jasonParam="+JSON.stringify(jsonObj)+"&jsonObjWhereClause="+JSON.stringify(jsonObjWhereClause);
				if (viewName == "APP_LOG_MOC_GET_BATCH_DATA") {
					targetUrl += "&orderBy=[MODULE ID]"
				}
				return targetUrl;
			} */
			
			function getPaginationParams(paramsJson) {
				noOfHiddenColumnsFromFirst = 1;
				paramsJson.jsonObjWhereClause = {":COND1" : "WHERE PROCESS_ID ='"+currentBatchId+"'"};
				if(paramsJson.jasonParam.viewName === "APP_LOG_MOC_GET_BATCH_DATA"){
					paramsJson.orderBy='[MODULE ID]';
				}
				return paramsJson;
			}

			function populateDataIntoParentTable(obj) {
			}
			
	        
alarm_GetAlarmMsg();
					
function alarm_GetAlarmMsg(){
	var currenttime = moment().format('HH:mm:ss');
	var targetURL = "/rsunify/app/alarm/getAlarmMsg?currenttime="+currenttime; 
  $.ajax({ 
		 url: targetURL,
		 contentType: "text/plain",
	     dataType: 'html',
	     success: function(data){
	    	 data = JSON.parse(data);
	    	 var i=0;
	    	 $('#msglistid').html("");
	  		 if(data != undefined && data["alrams"] != undefined){
	  			 $.each(data["alrams"],function(key, card) {
	  				 i=i+1;
	    			 	$('#msglistid').append('<div class="list-view-todo"><input class="checkboxclass" type="checkbox" id="check'+i+'"value="'+card[1]+'">'+
	  					'<span class="text">'+card[0]+'</span>'+
	  					'<span class="time-txt">'+card[1]+'</span>'+		
	  					'<a class="del-ico" title="Delete" onclick="deletemsg()"></a></div>');
	    			 
	    		 }); 
	  		}
	  		if(data != undefined && data["enforceSync"] != undefined){
    			 enforceSyncMesg(data["enforceSync"][0],data["enforceSync"][1],data["enforceSync"][2],data["enforceSync"][3], data["enforceSync"][4]);
	  			
	  		}
	  		alaramTime = setTimeout(alarm_GetAlarmMsg, (180*1000));
	}
  })
}
var ikea_dashboard_enabled_flag = {};
var sychAlert='';
var interval = null;
var countedSeconds = 0;
var totalSeconds = 0;
var syncAndImport2Mesg='';
var syncAndImportMesg='';
function enforceSyncMesg(enforceSync,enforceSyncMinutes,enforceSyncSeconds,enforceSyncMessage, enfAlert){
	enforceSync = isNaN(enforceSync) ? 0 : parseInt(enforceSync);
	totalSeconds = parseInt(enforceSyncSeconds);
	if( enforceSync > 0 ){
		enfSyncFlag['status'] = parseInt(enforceSync);
		enfSyncFlag['message'] = (enfAlert != undefined) ? enfAlert : "";
		finance_MOC=0;
		$( ".ikea_alert_message_box" ).slideUp(800);
		for( var i in opendWindowObjects ){
			$( opendWindowObjects[i].document  ).find( ".ikea_alert_message_box" ).slideUp();
		}
		return;
	}else if(enforceSync == 0 && enforceSyncMessage!=undefined && totalSeconds > 0 && totalSeconds < 1800){
		var obj=enforceSyncMessage.split("(T)");
		countedSeconds = 0;
		clearInterval(interval);
		interval = setInterval( checkTimer,1000 );
		syncAndImportMesg=obj[0];
		syncAndImport2Mesg=obj[1];
		if(syncAndImport2Mesg == undefined){
			syncAndImport2Mesg="";
		}
		sychAlert=syncAndImportMesg;
	}
}
function checkTimer( ){
	totalSeconds--;
	if( totalSeconds > 0 ){
		countedSeconds++;
		var min = parseInt(totalSeconds / 60);
		var sec = parseInt(totalSeconds % 60);
		var msg = "";
		if( min>=0 && sec>=0  ){
			msg = sychAlert+"<br><h2 style='text-align:center;'>"+min+"  mins "+sec+"  secs</h2>"+syncAndImport2Mesg;
		}
		if($('.ikea_alert_message_box').is(":visible")){
			$("#ikea_limen_alert_content").html(msg);
			$(".ikea_limen_alert_title").text("Sync Alert");
		}else{
			$("#ikea_limen_alert_content").html(msg);
			$( ".ikea_alert_message_box" ).slideDown(800);
		}
		for( var i in opendWindowObjects ){
			 $( opendWindowObjects[i].document  ).find( "#ikea_limen_alert_content" ).html(msg);
			 $( opendWindowObjects[i].document  ).find( ".ikea_limen_alert_title" ).text("Sync Alert");
			 $( opendWindowObjects[i].document  ).find( ".ikea_alert_message_box" ).slideDown()
		}
	}else{
		clearInterval(interval);
		clearTimeout(alaramTime);
		alarm_GetAlarmMsg();
		$( ".ikea_alert_message_box" ).slideUp(800);
		for( var i in opendWindowObjects ){
			$( opendWindowObjects[i].document  ).find( ".ikea_alert_message_box" ).slideUp();
		}
	}
}

function deletemsg(){
	var idcheck="";
	var idvalue="";
	var allmagvalue="";
 	$("input.checkboxclass").each(function(){
	    var $this = $(this);
	    if($this.is(":checked")){
	     	idcheck = $this.attr("id");
	     	idvalue=$this.next().text();
	       if(idvalue.length>0){
	    	   idvalue=idvalue+",";
	       }
	       allmagvalue=allmagvalue+idvalue;
	    }
	 });
	 allmagvalue = allmagvalue.substring(0, allmagvalue.length - 1);
	 if($.trim(allmagvalue) != ""){
		var targetURL = "/rsunify/app/alarm/deleteAlarmMsg"; 
	    $.ajax({ 
			 url: targetURL,
			 contentType: "text/plain",
		     dataType: 'html',
		     data: {"allmagvalue": allmagvalue},
		     success: function(data){
		    	 clearTimeout(alaramTime);
		    	 alarm_GetAlarmMsg();
		    	 $('#textCheckbox').prop('checked',false);
		     }
	    });
	 }
}

$('#textCheckbox').on('change',function()
{
	if(this.checked == true)
	{
		$('input:checkbox').prop('checked',true);
    }else{
		      $('input:checkbox').prop('checked',false);
	}
}); 

function loadAlarmScreen(){
	displayScreen('alarm','loadAlarm','Alarm');
}
	       // for to do list end
		</script>
		
		<!--**
 	 * @Description: Common POP template to display pop screen data.
     * @author  premdayal
     * @version 1.0
     * @since   2016-05-17
     ** -->
<!doctype html>
<html>
<head>
<meta http-equiv="Content-Type" content="text/html; charset=ISO-8859-1">
<title>Common POP Template</title>
</head>
<body>
	<!-- Pop Box with dynamic content -->
	<div class="pop-wrapper rsPopup_div" id="open-pop-up-box" style="display: none;z-index: 9999;" tabindex="-1" >
		<div class="pnl-wrapper pnl-border pnl-wid-4h">
			<div class="pnl-header">
				<h4 id="pop-up-box-title"></h4>
				<div class="pnl-header-btns-hldr">
					<a class="close close-pop-up" title="Close"></a> 
					<a class="minim min-pop-up" title="Minimize"></a> 
					<a class="help" title="Help"></a>
				</div>
			</div>
			<div class="pnl-content">
				<div class="pagination-master">
					<div id="pagination-multi_select_checkbox-all_container" style="float: left;display:none;">
						<label style="position: fixed;padding: 2px;text-align: center;">
							<input id="pagination-multi_select_checkbox-all" type="checkbox" style="" autocomplete="off">
							<span style="position: absolute;top: 4px;font-size: 14px;">All</span>
						</label>
					</div>
					<div class="pagi-center">
						<input type="button" value="&#171;" class="prev-first-p1"> 
						<input type="button" value="&#8249;" class="prev-btn-p1"> 
						<input type="text" style="width: 30px" class="txt-p1" value="1" id="page-no-id" maxlength="4"
						ondrag="dragPagination(event)" ondrop="dropPagination(event)" ondragover="allowDropPagination(event)"> 
						<input type="button" value="&#8250;" class="next-btn-p1"> 
						<input type="button" value="&#187;" class="next-last-p1"> 
						<span class="maxPageCount"> of <span id="maxPageCount"></span></span>
					</div>
				</div>
				<div class="hght-290 ovrf-auto tableArrow" id="parentDivForPopTable">
					<table class="tbl-fixed-headers-pagination tableArrow" id="pop-up-table">
						<thead>
						</thead>
						<tbody>
						</tbody>
					</table>
				</div>
			</div>
			<div class="pnl-footer">
				<div class="search-show-hide">
					<div class="col-2">
						<label>Search Text 
							<input type="text" id="inputSrId" class="inputSr" ondrag="dragPagination(event)" ondrop="dropPagination(event)" 
							ondragover="allowDropPagination(event)">
						</label>
						<label>Search On 
							<select id='selectOnId' class="selectOnId" disabled>
							</select>
						</label>
						<label>Search Type 
							<select id='selectTypeId' class="selectTypeId rsPopup_searchInput">
								<option value="1">Starts With</option>
								<option value="2">Contains</option>
								<option value="3">Ends With</option>
							</select>
							</label>
				   </div>
				   <div class="ftr-btn-right-holder">
						<input type="button" value="Cancel" class="close-pop-up rsPopup_button"> 
						<input type="button" value="Ok" class="populateDataOnOk rsPopup_button">
						<input type="button" value="Load All" id="load-all-button" class="rsPopup_button">
				  </div>
				  <div class="fullrow-scr" id="fullrow-scr-id">
					<label class="focused">Search Criteria</label> 
					<span id="add-img-id"><img src="/rsunify/resources/imgs/add-icon.png" class="add-criteria-scr" id="includeSearchCriteriaId"></span>
					<span id="minus-img-id"><img src="/rsunify/resources/imgs/minus_icon.png" class="add-criteria-scr" style="display: none;" id="excludeSearchCriteriaId"></span>
			 	 </div>
				 <div id="add-search-fields-div" class="col-2" style="display: none;">
				  	<label>Search Text<input type="text" id="add-input-sr-id" class="input_sr_two" ondrag="dragPagination(event)" ondrop="dropPagination(event)" 
						ondragover="allowDropPagination(event)">
					</label>
					<label>Search On 
						<select id='add-select-on-id' class="selectOnId"></select>
					</label>
					<label>Search Type 
						<select id='add-select-type-id' class="selectTypeId rsPopup_searchInput">
							<option value="1">Starts With</option>
							<option value="2">Contains</option>
							<option value="3">Ends With</option>
						</select>
					</label>
				 </div>
			  </div>		
			</div>
		</div>
	</div>
	
	<input type="hidden" id="searchMaintenance-account" value="accode" >
	<input type="hidden" id="searchMaintenance-bank" value="bnk_code" >
	<input type="hidden" id="searchMaintenance-scheme" value="sch_scheme_no" >
	<input type="hidden" id="searchMaintenance-invoice" value="cih_inv_refr" >
	<input type="hidden" id="searchMaintenance-stock adjustments" value="sam_sa_refr" >
	<input type="hidden" id="searchMaintenance-product" value="prod_name" >
	<input type="hidden" id="searchMaintenance-tax" value="tax_code" >
	<input type="hidden" id="searchMaintenance-party" value="par_name" >
	<input type="hidden" id="searchMaintenance-location transfer" value="lth_doc_refr" >
	<input type="hidden" id="searchMaintenance-qps" value="qps_refr" >
	<input type="hidden" id="searchMaintenance-billing" value="blh_refr_no" >
	<input type="hidden" id="searchMaintenance-supplier" value="spm_code" >
	<input type="hidden" id="searchMaintenance-claim" value="clm_refr" >
	<input type="hidden" id="pagination-contextPath" value="/rsunify" />
	
	<!-- Pop Box with dynamic content ended here.-->
	<script type="text/javascript" src="/rsunify/resources/js/pagination.js?v=R22.3.1_20220329081806"></script>
<script type="text/javascript">
//Text box Dragon Drop Event Blocked
function allowDropPagination(event) {
    event.preventDefault();
}
function dragPagination(event) {
	event.preventDefault();
}
function dropPagination(event) {
    event.preventDefault();
}
//Till Here
</script>	
</body>
</html><div id="logoutScreen" style='display: none;top: 30%;left: 40%;position: absolute;'>
			<!DOCTYPE html>

<html>
<meta charset="utf-8">
<title>Logout</title>
<link href="/rsunify/resources/CSS/app-styles.css" rel="stylesheet" type="text/css">
</head>
<body>
<style>
#rightdivlogout div
{
  height: 15px;
}
.divDisplyinline
{
    display:inline-block;
    background:white
}
 

</style>
<div class="app-layout-wrapper" style="position:absolute;top:50%;left:50%;z-index:5999">
<div class="pnl-wrapper pnl-border" style='width:270px;display: none;' id="logoutScr">
  <div class="pnl-header">
    <h4 style='font-size:15px'>Logout</h4>
    <div class="pnl-header-btns-hldr"> <a href="#" class="close" title="Close" onclick="hidelogoutScreen()"></a><a href="#" class="help" title="Help"></a> </div>
  </div>
  <!-- end of pnl-header -->
  
  <div class="pnl-content" style="background: #ccc;padding:2px">
    <div class="form-content-area" style="border:1px solid black">
      <div style="width:53%;vertical-align:top" class='divDisplyinline' >
         <fieldset style="height:37px">
              <legend>Backup</legend>
              <div style="width:117px;margin-top:-2px"><input type='checkbox' id="databaseBackup" checked/><span id="focus1">Database Backup</span></div>
         </fieldset>
      </div>
      <div style="width:45%" class='divDisplyinline' id='rightdivlogout'>
         <fieldset style="height:37px">
              <legend>Purging</legend>
              <!-- <div style="margin-top:-5px"><input type='checkbox'  checked disabled/><span class='disabled' >Palm Order</span></div> -->
              <div><input type='checkbox' id="loginDetails" checked/><span id="focus2">Login Detail</span></div>
         </fieldset>
      </div>
    </div>
  </div>
  <!-- end of pnl-content -->
   <div class="pnl-footer" style="text-align:none">
      <input type="button" value="Cancel" id="cancellogout" style='float: left;margin-left: 15px'>
      <input type="button" value="Ok"  id="okClick" style="float:right;margin-right:15px;width:65px">
    </div>

  <!-- end of pnl-footer --> 
  
</div>
</div>

<script type="text/javascript" src="/rsunify/resources/js/custom-ui.js"></script>

<script>

$(document).ready(function() {
	  $('#okClick').on("click",function() {
		  var lgData = {};
		  displayLoadingImage_new();
		  var url = "/rsunify/app/user/loginDetailsProcessWhileUserLoggingOut.do";	
		  $.ajax({
           type: 'POST',
           url: url,
           async:false,
           success: function(data) {
	        	   lgData = data;
	           	}, error: function(data){
	           		//hideLoadingImage_new();
	           	}
	     	});
		 	hideLoadingImage_new();
		 	if($('#loginDetails').prop('checked')){
	    		   if(lgData["userConnections"] != undefined){
	        		   showConfirmationMessage(lgData["userConnections"]);
	        	   } else if($('#databaseBackup').prop('checked') == false){
	        		   logOutUSer();
	        	   } else {
	        		   showBackupInfoMessage(lgData);  
	        	   }
     	   } else if($('#databaseBackup').prop('checked')){
     		   showBackupInfoMessage(lgData);  
     	   } else {
     		  logOutUSer();
     	   }
		  /* if($('#loginDetails').prop('checked') || $('#databaseBackup').prop('checked')){
			 
			
		 } else if($('#databaseBackup').prop('checked') && $('#loginDetails').prop('checked') == false) {
			  showBackupInfoMessage();
		  } else if(!($('#databaseBackup').prop('checked')) && !($('#loginDetails').prop('checked'))) {
			  displayLoadingImage_new();
			  logOutUSer();
			  
		  } */
	  });
	 
 
});
function showBackupInfoMessage(data){
	if(data != undefined && $.isEmptyObject(data) == false && data['activeScreens'] != undefined){
		var openScrCount = parseInt(data['activeScreens']);
		openScrCount = isNaN(openScrCount) ? 0 : openScrCount;
		if(openScrCount > 0){
			var dpgDlg = $.messager.confirm({title: 'LeverEDGE', msg: 'Screens Are Opened... Close it Before Backup Database',width: '350px',
				buttons:[{
			        text: 'OK',
			        onClick: function(){
			        	dpgDlg.dialog('destroy');
						return false;
			        }
			    }]
			});
			return false;
		}
	} 
	window.open("/rsunify/app/alarm/loadBackupDatabase?exitDbBackup=Y", "Backup Database");
	hidelogoutScreen();
}
function showConfirmationMessage(userValues){
	var importDataMsg = "Profile:"+userValues[2]+"<br/> Server Name: "+userValues[1]+"<br/> Database Name: "+userValues[2]+"" +
	"<br/><br/> "+userValues[0]+" user(s) are connected to the database. Please close LeverEDGE in all Systems and then click OK to Continue the Purge Login Detail Process." +
	"<br/>Click on Cancel to terminate the Purge Login Detail Process.";
	var dpgDlg = $.messager.confirm({title: 'LeverEDGE', msg: importDataMsg, width:'450px', height:'600px',
		buttons:[{
	        text: 'OK',
	        onClick: function(){
	        	dpgDlg.dialog('destroy');
	        	$('#okClick').trigger("click");
	        }
	    },{
	        text: 'Cancel',
	        onClick: function(){
	        	dpgDlg.dialog('destroy');
	        }
		 }]
	});
}
function logOutUSer(){
	setCookie("isUserLoggedOut", "Yes");
	//clearOptimusSession(true, 1);
	var dataurl = "/rsunify/app/user/logoutwithCloseSession.do";
	$.ajax({
		type : "POST",
		contentType : "application/json; charset=utf-8",
		url : dataurl,
		dataType : '',
		cache: false,
		contentType : 'application/text',
		success : function(responseJSON) {
			if (responseJSON=='Session Invalidated') {
				mainTablFlags.isCloseTriggered = 1;
				window.location.href='/rsunify';
			}
		},
		error : function(result) {
			//alert("Error");
			mainTablFlags.isCloseTriggered = 1;
			window.location.href='/rsunify';
		}
		
	});
}
$('#cancellogout').on("click",function() {
	 $(".ikea-logout-ghost-back").remove();
	  $("#logoutScreen").hide();
	  $('.vs-context-menu').hide();
	  /*$('.easyui-menubutton').each(function(){
    	  
  		$(this).removeClass('disabled');
 		});*/
	  reEnabaleTsiMenus();
});

function hidelogoutScreen()
{
  $(".ikea-logout-ghost-back").remove();
  $("#logoutScreen").hide();
  $('.vs-context-menu').hide();
  /*$('.easyui-menubutton').each(function(){
	  
		$(this).removeClass('disabled');
	});*/
	
  reEnabaleTsiMenus();
}

$(document).on("keydown",function(event){
	if (event.keyCode == 27){
		if($( ".panel.window.messager-window" ).is( ":visible" ) == false){
			if($("#rightdivlogout").is(":visible")){
				hidelogoutScreen();
			}
			
		}
	}
});
$('#logoutScr input').on('keydown',function(e){
var get_id=$(this).attr('id');
if(e.keyCode==9 && get_id=="databaseBackup"){
	$('#cancellogout').focus();
}else if(e.keyCode==9 && get_id=="cancellogout"){
	$('#okClick').focus();
}else if(e.keyCode==9 && get_id=="okClick"){
	$('#loginDetails').focus();
}else if(e.keyCode==9 && get_id=="loginDetails"){
	if($('#databaseBackup').is(":disabled")){
		$('#cancellogout').focus();
	} else {
		$('#databaseBackup').focus();
	}
}else if(e.keyCode==32 && (get_id=="databaseBackup"||get_id=="loginDetails")){
	$(this).trigger('click');
}else if(e.keyCode==13 && get_id=="cancellogout"||get_id=="okClick"){
	$(this).trigger('click');
}
});
$('#focus1').on('click',function(){
	if($('#databaseBackup').is(':checked')){
		$('#databaseBackup').prop('checked',false);
		$('#databaseBackup').focus();return false;
	}else{
		$('#databaseBackup').prop('checked',true);
		$('#databaseBackup').focus();return false;
		}
});
$('#focus2').on('click',function(){
if($('#loginDetails').is(':checked')){
	$('#loginDetails').prop('checked',false);
	$('#loginDetails').focus();return false;
}else{
	$('#loginDetails').prop('checked',true);
	$('#loginDetails').focus();return false;
	}
});
</script>


</body>
</html>
</div>
		<div class="ikea_alert_message_box">
			<div class="ikea_limen_alert_title">LeverEdge Alert</div>
			<div class="ikea_limen_alert_content">
				<p id="ikea_limen_alert_content">Limen Alert Msg</p>
			</div>
		</div>
		<div id="databse-info-div">
			<div id="distributor_name">&nbsp;</div>
		</div>
		
		<!-- chat bot html starts here -->
		
		<div id="boticon"></div>
			<div id="overlay">
				<div id="confirm_1" align="center">
					<p id="question">Do you want to end this session?</p>
					<div align="center"><button id="yes_1" onclick="yes()">Confirm</button><button id="no_1" onclick="no()">Cancel</button></div>
				</div>
			</div>
			<div id="botsection">
				<div id="bothead">
				<div style="margin-left: 18px;padding-top: 10px;">
					<div style="float:left;font-family: Helvetica;font-size: 15px;color: rgb(11,77,129);font-weight: bold;width: 20%;">
						Hello!
					</div>
					<div style="float:right;width: 80%;">
						<!-- <span id="closeIcon" onclick="closeChat()"><b style="font-size: 17px;"> X </b></span>
						<span id="minimizeIcon" onclick="minimizeChat()"><b style="font-size: 17px; margin-top: -9px;"> _ </b></span>
						<img src= "https://bnlwestgunileveraf01045.blob.core.windows.net/ikea-ui-dev/call_icon.png" id="callIcon" onclick="helplineWIndow()">
						<img src= "https://bnlwestgunileveraf01045.blob.core.windows.net/ikea-ui-dev/call_icon.png" id="callIconAfter" onclick="myFunction()"> -->
						<img src= "/rsunify/resources/imgs/icons8-multiply-16.png" id="c-close" class="chat-img" onclick="closeChat()"/>
						<img src= "/rsunify/resources/imgs/icons8-subtract-16.png" id="c-mimimze" class="chat-img" onclick="minimizeChat()"/>
						<img src= "/rsunify/resources/imgs/icons8-phone-message-16-1.png" id="callIcon" onclick="helplineWIndow()" class="chat-img"/>
						<img src= "/rsunify/resources/imgs/icons8-phone-message-16-1.png" id="callIconAfter" onclick="myFunction()" class="chat-img"/>
						<img src= "https://bnlwestgunileveraf01045.blob.core.windows.net/ikea-ui-dev/home1-nobg.png" id="homeIcon" class="chat-img" onclick="refreshChat()">
						<img src= "https://bnlwestgunileveraf01045.blob.core.windows.net/ikea-ui-dev/home1-nobg.png" id="homeIconCall" class="chat-img" onclick="refreshChat()">
					</div>
				</div>
				<div style="clear:both;"></div>
				<div>
				<span id="botmsg" lang="en" style="white-space: nowrap;"><!-- <b>Hello!</b> <br>-->Facing any issues with LeverEDGE?<br>I am here to help!</span>
				</div>
				<div id="overlayHelpline">
					<div id="eachContact">
							<div style="display: inline-block;margin-left: 32px;margin-right: 5px;"><b style="font-size:15px;color:rgb(11,77,129);">For queries related to LeverEDGE, iSquare/HHT, CRS/Order Page, Sub Stockist, and SalesEDGE</b><br><br><span style="font-size:15px;"><b>Helpdesk Number:</b> 1800 572 2485<br><b>Working hours:</b> 9:00 AM-9:00 PM (Mon-Sat)<br><br><b>Choose from options 1 to 6 after selecting prefered language:</b><br>For Assistance in LeverEDGE please press <b>1</b>.<br>For Assistance in iSquare and HHT please press <b>2</b>.<br>For Assistance in CRS and Order Page please press <b>3</b>.<br>For Registering any feedback or complaints in Lever care please press <b>4</b>.<br>For Assistance in Sub Stockist please press <b>5</b>.<br>For Assistance in SalesEdge please press <b>6</b>.<br>To go back to Main Menu please press <b>0</b>.</span><br></div>
						</div>
					<div id="eachContact">
							<div style="display: inline-block;margin-left: 32px;margin-right: 5px;"><b style="font-size:15px;color:rgb(11,77,129);">For queries related to iCube</b><br><br><span style="font-size:15px;"><b>Helpdesk Number:</b> +918047103231<br><b>Working hours:</b> 9:00 AM-5:00 PM<br><b>Email ID:</b> iCube.Helpdesk@unilever.com</span><br></div>
						</div>
					<div id="eachContact">
							<div style="display: inline-block;margin-left: 32px;margin-right: 5px;"><b style="font-size:15px;color:rgb(11,77,129);">For queries related to Shikhar</b><br><br><span style="font-size:15px;"><b>Helpdesk Number:</b> 1800 123 2105<br><b>Working hours:</b> 9:00 AM-5:00 PM</span><br></div>
						</div>
					<!-- <div id="eachContact">
					<div style="display: inline-block;margin-left: 32px;margin-right: 5px;"><b style="font-size:15px;color:rgb(11,77,129);">For queries related to LeverEDGE, iSquare/HHT, CRS/Order Page, Sub Stockist, and SalesEDGE</b><br><br><span style="font-size:15px;"><b>Helpdesk Number:</b> 1800 572 2485<br><b>Working hours:</b> 9:00 AM-9:00 PM (Mon-Sat)<br><br><b>Choose from options 1 to 6 after selecting prefered language:</b><br>For Assistance in LeverEDGE please press <b>1</b>.<br>For Assistance in iSquare and HHT please press <b>2</b>.<br>For Assistance in CRS and Order Page please press <b>3</b>.<br>For Registering any feedback or complaints in Lever care please press <b>4</b>.<br>For Assistance in Sub Stockist please press <b>5</b>.<br>For Assistance in SalesEdge please press <b>6</b>.<br>To go back to Main Menu please press <b>0</b>.</span><br>
					</div>
					</div>
					
					<div id="eachContact">
					<div style="display: inline-block;margin-left: 32px;margin-right: 5px;"><b style="font-size:15px;color:rgb(11,77,129);">For queries related to iCube</b><br><br><span style="font-size:15px;"><b>Helpdesk Number:</b> +918047103231<br><b>Working hours:</b> 9:00 AM-5:00 PM<br><b>Email ID:</b> iCube.Helpdesk@unilever.com</span><br>
					</div>
					</div>
					
					<div id="eachContact">
					<div style="display: inline-block;margin-left: 32px;margin-right: 5px;"><b style="font-size:15px;color:rgb(11,77,129);">For queries related to Shikhar</b><br><br><span style="font-size:15px;"><b>Helpdesk Number:</b> 1800 123 2105<br><b>Working hours:</b> 9:00 AM-5:00 PM</span><br>
					</div>
					</div> -->
					
					<div id="eachContact">
					<div style="display: inline-block;margin-left: 32px;margin-right: 5px;height: 62px;">
					</div>
					</div>
					<button id="backtoChat" onclick="myFunction()">Back to Chat</button>
			    </div>
				<div></div>
				
			</div>
			<iframe width="76%" height="400px" src="https://ikeasupportbotprod.azurewebsites.net/botui/index?data=41A392|VEN"></iframe>
			</div>
		<!-- chat bot html ends here -->
</body>
	<script type="text/javascript"> 
	var iSamadhanEnabled=("false" == "true") ? true : false;
	var iSalesForceFlagEnabled=("true" == "true") ? true : false;
	var loggedInUserName_for_digi_pay = ("VEN"== "SA")? true : false;
	var localTimer;
	var import_flg_running = false;
	var auto_moc_close_running = false;
	var auto_qtm_export_running = false;
	var rsCode= "41A392";
	var isEinvoiceFlag = "false";
	$(function(){
		writeConsoleToServerLog("function(): " + document.cookie);
		var mainTabOpened = readCookie("maitabOpened");
		if(typeof(mainTabOpened) == 'undefined' || mainTabOpened === "Yes"){
			redirectUserToErrorPage("/rsunify/views/errorPages/ikeaSessionExpired.jsp");
    	} else {
    		checkLocalStorage();
    		localTimer = setInterval(checkLocalStorage, 2000);
    		setCookie("maitabOpened", "Yes");
    	}
		$(document).on("click contextmenu mousedown", function(){
			if($(".messager-window").is(":visible")){
				$(".messager-window").find(".l-btn:first").focus();
			}
		});
		resetMenuItemFocus();
		$.ajaxSetup({
            global: true,
            beforeSend: function (jqXHR, settings) {
                if(import_flg_running && settings['url'].indexOf("checkImportProc") == -1){
                	showDiaplyAlertMessages("Import Data Process Running not allowed to do any transaction!..", "error");
                	jqXHR.abort();
                	return false;
                }
                if(auto_moc_close_running && settings['url'].indexOf("checkImportProc") == -1){
                	$('#display-message').text('MOC Close Process Running not allowed to do any transaction!...').css({"color":"red", "text-align":"right"});
                	jqXHR.abort();
                	return false;
                }
                if(auto_qtm_export_running && settings['url'].indexOf("checkImportProc") == -1){
                	showDiaplyAlertMessages("Beat Export Process Running not allowed to do any transaction!...", "error");
                	jqXHR.abort();
                	return false;
                }
            }
        });
		impInterval = setTimeout(checkImportProcStatus, (60*1000));
		//$("#databse-info-div").show();
		getRsInformationReports();
		rsDLExpInfo();
		getPartyDLExpInfo();
		getAutoMocConfigValue();
		if(!iSalesForceFlagEnabled){
			$('#sfm').addClass('disabled', 'disabled'); 
		}
		
		getEinvoiceConfigValue();
		if(!loggedInUserName_for_digi_pay){
			$('#digi_pay_home_menu').addClass('disabled', 'disabled'); 
		}
		
		disableReportBasedOnLogin();//disable Beat Mapping utility Backup Report
		
	});
	function showDiaplyAlertMessages(message, msgType){
	     $("#display-message").text(message);
	 if(msgType === "info"){
	      $('#display-message').addClass("txt-black");
	      //$(".txt-cont-are").css({"color":"maroon", "text-align":"left"});
	 } else {
	      $('#display-message').removeClass("txt-black");
	      //$(".txt-cont-are").css({"color":"red", "text-align":"right"});
	     }
	}
	function resetMenuItemFocus(){
		$(document).on('click', ".menu-item", function(e){
			var rightArrow = $(this).children("div.menu-rightarrow");
			if(rightArrow.length == 0){
				$(this).removeClass("menu-active");
			}
		});
	}
	window.onunload = function (E) { 
		writeConsoleToServerLog("unload(): " + document.cookie + " , Force Logout: " + mainTablFlags.isCloseTriggered);
		setCookie("maitabOpened", "No");
		if(mainTablFlags.isCloseTriggered == 1 || checkBackupOrMocNotRunning()){
			//clearOptimusSession(true, 1);
			writeConsoleToServerLog("unload(): Clearing mocstatus flags...");
			setCookie("tabsOpened", JSON.stringify({}));
			setCookie("mocProcesStatus", "Completed");
			setCookie("processLastUpdatedTime", "0");
		}
		//forceLogoutSession();
	};
	function showBrowserErrorMessage(msgHTML){
		$("body").css("background-image", "none");
		$(".login-wrapper").hide().html(" ");
		$("body").html('<div id="browser-message"></div>');
		$('#browser-message').html(msgHTML);
		$('#browser-message').show();
	}
	function addScreeNameInLocalStorage(screenName){
		var sessionArray = {};
		var  tabsOpened = readCookie("tabsOpened");
		if(tabsOpened == undefined && tabsOpened == ""){
			//sessionArray = {"date":new Date(), "openedTabs":[]};
		} else {
			sessionArray = JSON.parse(tabsOpened);
			sessionArray['openedTabs'].push(screenName);
			setCookie("tabsOpened", JSON.stringify(sessionArray));
		}
	}
	function removeScreeNameFromLocalStorage(screenName){
		var  tabsOpened = readCookie("tabsOpened");
		if(tabsOpened != undefined && tabsOpened != ""){
			var sessionArray = JSON.parse(tabsOpened);
			var array = sessionArray['openedTabs'];
			var index = $.inArray(screenName, array);
			if(index >= 0){
				array.splice(index, 1);
				sessionArray['openedTabs'] = array;			
			}
			setCookie("tabsOpened", JSON.stringify(sessionArray));
		}
	}
	function forceLogoutSession(){
	//clearOptimusSession(true, 1);  
	$.ajax({
  		method : "POST",
  		url : "/rsunify/app/user/forceLogout",
  		async: false,
  		cache: false,
  		success : function(data) {
  			
  		}
      });
	}
	function checkLocalStorage(){
		writeConsoleToServerLog("checkLocalStorage(): " + document.cookie);
		//check import data flag is running or not
		var returnVal = false;
		var  tabsOpened = readCookie("tabsOpened");
		if(tabsOpened != undefined && tabsOpened != ""){
			var sessionArray = JSON.parse(tabsOpened);
			if($.inArray("Login", sessionArray['openedTabs']) == -1){
				redirectUserToErrorPage("/rsunify/views/errorPages/ikeaSessionExpired.jsp");
				returnVal = true;
			}
		} else {
			redirectUserToErrorPage("/rsunify");
			returnVal = true;
		}
		return returnVal;
	}
	function redirectUserToErrorPage(pageURL){
		writeConsoleToServerLog("redirectUserToErrorPage(): " + document.cookie);
		if(checkBackupOrMocNotRunning()){
			clearInterval(localTimer);
			window.name = "";
			mainTablFlags.isForeceLogout = 1;
			$(window).off("beforeunload");
			window.onbeforeunload = "";
			window.onunload = "";
			setCookie("maitabOpened", "No");
			setCookie("tabsOpened", JSON.stringify({}));
			//window.location.href = pageURL;
			setTimeout(function(){window.location.href = pageURL},500);
		}
	}
	function checkImportProcStatus(){
		$.ajax({
	  		method : "POST",
	  		url : "/rsunify/app/ikeaCommonUtilController/checkImportProc",
	  		cache: false,
	  		success : function(jsonResponse) {
	  			if(jsonResponse != undefined && jsonResponse['status'] != undefined){
	  				import_flg_running = jsonResponse['status'];
	  			}
	  			if(jsonResponse != undefined && jsonResponse['mocstatus'] != undefined){
	  				auto_moc_close_running = jsonResponse['mocstatus'];
	  			}
	  			if(jsonResponse != undefined && jsonResponse['qtmExportStatus'] != undefined){
	  				auto_qtm_export_running = jsonResponse['qtmExportStatus'];
	  			}
	  			clearTimeout(impInterval);
	  			impInterval = setTimeout(checkImportProcStatus, (60*1000));
	  		}, error : function(){
	  			clearTimeout(impInterval);
	  			impInterval = setTimeout(checkImportProcStatus, (60*1000)); 
	  		}
      	});
		
		//check optimus screen is closed or not
		/*if(opimus_win != undefined && opimus_win.closed){
			opimus_win = undefined;
			clearOptimusSession(true, 1);
		}*/
	}
	function checkBusinessSetupForTSI(){
		var isContinue = false; 
		$.ajax({
	  		method : "POST",
	  		url : "/rsunify/app/qocBusinessConfig/qocBsLoadInfo",
	  		async: false,
	  		cache: false,
	  		success : function(jsonResponse) {
	  			if(jsonResponse != undefined &&
	  					jsonResponse.rsuDBSettings === "" && jsonResponse.rsuSettings[0] === ""){
	  				loadBusinessSetuData();
	  				isContinue = false;
	  			} else
	  				isContinue = true;
	  		}, error : function(){
	  			isContinue = true;
	  		}
      	});
		if(isContinue){
			//here
			/* if(('false')=='true')
	    	{
				var url="/rsunify/app/"+"syncwithCentralUnify/loadSyncwithCentralUnify";
				validateSyncwithCentralUnify(url, "Sync with Central Unify");
	    	} */
		}
		return isContinue;
	}
	
	function loadBusinessSetuData(){
		//window.name = "Business Setup";
		$("#loadBusinessSummary").html("");
		$.ajax({
	  		method : "POST",
	  		url : "/rsunify/app/qocBusinessConfig/qocBcIndex?requestedFrom=ikeaHome",
	  		async: true,
	  		cache: false,
	  		success : function(data) {
	  			$("#loadBusinessSummary").html(data);
	  			$("#loadBusinessSummary").css("display", "table");
	  		}, error : function(){
	  			console.log("Error occured");
	  			reEnabaleTsiMenus();
	  		}
      	});
	}
	
	function reEnabaleTsiMenus(){
		if(!$("#rsu-dashboard-container").is(":visible") && ikea_dashboard_enabled_flag.flag == 1 && ikea_dashboard_enabled_flag.isTsi){
			initIkeaDashboard();
		}
		//window.name = "";
		/* if(('false')=='true')
       	{
			var url="/rsunify/app/"+"syncwithCentralUnify/loadSyncwithCentralUnify";
			validateSyncwithCentralUnify(url, "Sync with Central Unify");
       	} */
		$('.easyui-menubutton').each(function(){
        	if($(this).hasClass('tsi-disabled'))  
        		$(this).removeClass('disabled').removeClass("tsi-disabled");
       });
       	if(ikea_dashboard_enabled_flag.flag == 0){
       		$("#rsu-dashboard-menu-item").addClass("disabled");
    		$("#rsu-logtodo-menu-item").addClass("disabled");
    		$("#rsu-dashboard-edit-btn").addClass("disabled");
       	}
		
	}
	
	function checkTradeServiceCardOpened(){
		var flag=0;
		var  tabsOpened = readCookie("tabsOpened");
		if(tabsOpened != undefined && tabsOpened != ""){
			var sessionArray = JSON.parse(tabsOpened);
			var array = sessionArray['openedTabs'];
			var index = $.inArray("Trade Service Card", array);
			if(index >= 0){
				flag=1;	
			}
		}
		if(falg == 1){
			window.open("","Trade Service Card").focus();
			return false;
		}
	}
	function checkBackupOrMocNotRunning(){
		var isContinue = true;
		$.ajax({
	  		method : "POST",
	  		url : "/rsunify/app/ikeaCommonUtilController/validateMocOrBackupRunning",
	  		async: false,
	  		cache: false,
	  		data: "",
	  		success : function(jsonResponse) {
	  			if(jsonResponse == undefined || jsonResponse == "NOT_RUNNING" || $.trim(jsonResponse) == ""){
	  				isContinue = true;
	  			} else {
	  				//alert("MOC or Backup is in progress...");
	  				setCookie("maitabOpened", "Yes");
					setCookie("tabsOpened", JSON.stringify({"date":new Date(),"openedTabs":["Login",jsonResponse]}));
	  				isContinue = false;
	  			}
	  			//if moc process status is in progress donot logout
	  			if(isContinue)
	  			{
	  				var mocProcessStatus = readCookie("mocProcesStatus");
	  				var lastUpdatedTime = -1;
	  				//check last update time
	  				if(mocProcessStatus === "Completed"){
	  					lastUpdatedTime = Number(readCookie("processLastUpdatedTime"));
	  					lastUpdatedTime = isNaN(lastUpdatedTime) ? 0 : lastUpdatedTime;
	  					lastUpdatedTime = formatCurrentDateToMillis() - lastUpdatedTime;
	  					lastUpdatedTime = isNaN(lastUpdatedTime) ? 0 : lastUpdatedTime;
	  				}
	  				if(mocProcessStatus === "InProgress" || (lastUpdatedTime >= 0 && lastUpdatedTime <= (5*60*1000))){
	  					setCookie("maitabOpened", "Yes");
						setCookie("tabsOpened", JSON.stringify({"date":new Date(),"openedTabs":["Login"]}));
	  					isContinue = false;
	  				}
	  			}
	  		}, error : function(){
	  			isContinue = true;
	  		}
      	});
		return isContinue;
	}
	function downloadReportFileNewTab(contextPath, filePath){
		window.open(contextPath+"/app/reportsController/downloadReport?filePath="+filePath,"_blank");
	}

	$(document).on("keydown", ".messager-window", function(event){
		if(event.keyCode==13){
			$(".dialog-button .l-btn-focus").trigger('click');
		}
	});
	
	function writeConsoleToServerLog(message){
		if(mainTablFlags.debugEnabled == 0){
			return false;
		}
		$.ajax({
	  		method : "POST",
	  		url : "/rsunify/app/ikeaCommonUtilController/writeMessageToLog",
	  		async: true,
	  		cache: false,
	  		data: {"strMessage":message},
	  		success : function(jsonResponse) {
	  			
	  		}, error : function(){
	  			isContinue = true;
	  		}
      	});
	}
	
	function executeAutoUpdate(){
		var jsonMessage;
		$.ajax({
	  		method : "POST",
	  		url : "/rsunify/app/ikeaCommonUtilController/executeAutoUpdate",
	  		async: false,
	  		cache: false,
	  		success : function(jsonResponse) {
	  			jsonMessage = jsonResponse;
	  		}, error : function(){
	  			
	  		}
      	});
		if(jsonMessage == null || typeof(jsonMessage)=='undefined' || jsonMessage.status === "FAILED" || jsonMessage.status === "ERROR"){
			var errorMessage = "Update Exe not found!..<br />"; 
			errorMessage += "Please contact Branch Anchors or Help Desk for upgrading to the latest version.<br />";
			if(jsonMessage.status === "ERROR"){
				errorMessage = ""+jsonMessage.message+" user(s) are connected to the database. Please close LeverEDGE in all Systems and then click OK to Continue the Upgrade Process." +
				"<br/>Click on Cancel to terminate the Upgrade Process.";
				if(jsonMessage.isBackendProcess === "TRUE"){
					errorMessage = ""+jsonMessage.message+" is running Please check dashboard logs for status. "+
					"<br/> Please close LeverEDGE in all Systems and then click OK to Continue the Upgrade Process." +
					"<br/>Click on Cancel to terminate the Upgrade Process.";
				}
				var dpgDlg = $.messager.confirm({title: 'LeverEDGE', msg: errorMessage, width:'450px', height:'600px',
					buttons:[{
				        text: 'OK',
				        onClick: function(){
				        	dpgDlg.dialog('destroy');
				        	executeAutoUpdate();
				        }
				    },{
				        text: 'Cancel',
				        onClick: function(){
				        	dpgDlg.dialog('destroy');
				        }
					 }]
				});
			} else {
				showVersionErroAlert(errorMessage);
			}
		} else {
			logOutUSer();
		}
	}
	
	function executeRestorePatch(){
		var jsonMessage;
		$.ajax({
	  		method : "POST",
	  		url : "/rsunify/app/ikeaCommonUtilController/executeRestorePatch",
	  		async: false,
	  		cache: false,
	  		success : function(jsonResponse) {
	  			jsonMessage = jsonResponse;
	  		}, error : function(){
	  			
	  		}
      	});
		if(jsonMessage == null || typeof(jsonMessage)=='undefined' || jsonMessage.status === "FAILED"){
			var errorMessage = "Restore Patch Exe not found!..<br />"; 
			errorMessage += "Please contact Branch Anchors or Help Desk.<br />";
			if(jsonMessage.message == "PRE_VALIDATION_FAILED"){
				errorMessage = "Screens Are Opened. Close it Before Restore Database."
			}
			showVersionErroAlert(errorMessage);
		} else {
			logOutUSer();
		}
	}
	
	// export to tally financial validation
	function validateExportToTallyForFinancialYear(url, id, name) {
			$.ajax({
				async: false,
				url: "/rsunify/app/ikeaCommonUtilController/validateMOCFinancialCalendar",
				method: 'POST',
				cache: false,
				async: false,
				 success: function(data) {
					 if($.trim(data).length > 0){
						 dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: $.trim(data),width: "650px",
								buttons:[{
						        text: 'OK',
						        onClick: function(){
						           dlgMain.dialog('destroy');
						           //return false;
						        }
						    }],
						    onDestroy:function(){
						    	//return false;
						    }
						 }); 
					 }else{
						 displayScreenUrl( url, id, name );
						 //displayScreenUrl( 'exportToTally/index','exportToTally','Export To Tally');
					 }
				 },
				 error: function(e) {
				 }
			});
	}
	checkSystemFreeSpaceOnMocClosingDayForBackupProcess();
	function checkSystemFreeSpaceOnMocClosingDayForBackupProcess() {
		//check only on 20th
		if(moment().date() == 20) {
			$.ajax({
				async: false,
				url: "/rsunify/app/ikeaCommonUtilController/chkFreeSpaceMocClosingDay",
				method: 'POST',
				cache: false,
				 success: function(data) {
					 
					 if(data && data.status === 'NO'){
						 dlgMain = $.messager.confirm({title: 'LeverEDGE', msg: data.message,width: "650px",
								buttons:[{
						        text: 'OK',
						        onClick: function(){
						           dlgMain.dialog('destroy');
						        }
						    }],
						 }); 
					 }
				 },
				 error: function(e) {
				 }
			});
		}
	}
	var help_window_obj = null;
	function showLeverEdgeHelp(){
		//var ajaxURL = "/rsunify/app/ikeaCommonUtilController/showLeverEdgeHelp";
		//callAjaxAndLoadInformationFull(ajaxURL, {}, helpSuccessCallback, helpSuccessCallback, "JSON", true, "GET");
		if( help_window_obj != null ){
			help_window_obj.close();
		}
		help_window_obj = window.open( '/rsunify/views/doc/index.jsp', '_blank' );
	}
	function helpSuccessCallback(jsonMessage){
		if(jsonMessage == null || typeof(jsonMessage)=='undefined' || jsonMessage.status === "FAILED"){
			var errorMessage = "Help File not found!..[<b>"+jsonMessage['message']+"</b>]<br />"; 
			errorMessage += "Please contact Branch Anchors or Help Desk.<br />";
			showVersionErroAlert(errorMessage);
		} else {
			window.open(jsonMessage['message']+"?v=R22.3.1_20220329081806", "_blank");
		}
	}
	function runBatchFile(){
		var ajaxURL = "/rsunify/app/ikeaCommonUtilController/runBatchFile";
		callAjaxAndLoadInformationFull(ajaxURL, {}, runBatchFileCallback, runBatchFileCallback, "JSON", true, "POST");
	}
	function runBatchFileCallback(jsonMessage){
		if(jsonMessage == null || typeof(jsonMessage)=='undefined' || jsonMessage.status === "FAILED"){
				var errorMessage = "Batch File not found or User doens't have admin rights!..<br />"; 
				errorMessage += "Please contact Branch Anchors or Help Desk.<br />";
				showVersionErroAlert(errorMessage);
			} else {
				var dlgVersionChk = $.messager.alert({
                title: 'LeverEDGE',
                msg: 'Issue Reported Succesfully. [send2mail.leveredge@gmail.com]',
                icon: 'info',
                buttons: [{
                    text: 'OK',
                    onClick: function() {
                        dlgVersionChk.dialog("destroy");
                    }
                }],
                onDestroy: function() {
                    //logOutUSer();
                }
            });
		}
	}
	function displayLoadingImage_new(){
		if($("#ajax-loaded-id").length == 0){
			var loadHTML = "<div id='ajax-loaded-id' tabindex='-1'>";
			loadHTML += "<div class='popup-overlay'></div>";
			loadHTML += "<div class='ajax-loader-to-display' style='display: block;'></div>";
			$("body").append(loadHTML);
			// added by jegadish.manoharan to disable click event - when spinner is on
			$("#ajax-loaded-id").css({
			      opacity :1, 
			      filter: 'alpha(opacity=20)',
			      width: '100%',
			      height: '100%', 
			      'z-index': 999999,
			      top:0, 
			      left:0, 
			      position: 'fixed'  
			});
		}
	}

	function hideLoadingImage_new(){
		if($("#ajax-loaded-id").length > 0){
			$("#ajax-loaded-id").remove();
		}
	}
	
	function disable_moc_close_menu(){
		$(".moc-partial-close").attr("disabled", true).addClass('disabled');
	}
	
	function getRsInformationReports(){
	     var jsonObj = {"viewName" : "RS_INFORMATION"};
		 $.ajax({
		      method : "POST",
		      url : "/rsunify/app/reportsController/getReportScreenData.do?jasonParam="+JSON.stringify(jsonObj),
		      async: true,
		      success : function(data) {
		          $.each( data,function(key, card) {
		               if(card != undefined && card.length >= 2){
		                    //rsInfo.rsCode=(card[i][1]);
		                    //console.log("Agency Name is: " + card[1][2]);
		                    $("#distributor_name").text(card[1][1] + " - " + card[1][2] + " ("+card[1][9]+")");
		                    //rsInfo.rsAgencies=(card[0][2]);
		                    //rsInfo.dimAddress1=(card[i][3]);
		                    //rsInfo.dimAddress2=(card[i][4]);
		                    //rsInfo.dimAddress3=(card[i][5]);
		                    //rsInfo.dimState=(card[i][6]);
				            //rsInfo.tinNumber=(card[i][7]);
				            //rsInfo.pinCode=(card[i][8]);
		               }
		          });
		      }
		 });
	}
	function salesForceManagement(){
		$.ajax({
	  		method : "POST",
	  		url : "/rsunify/app/salesmanMaintenance/getSfmUrl",
	  		async: false,
	  		cache: false,
	  		success : function(data) {
	  			 if($.trim(data.url) != "" && $.trim(data.type) != "" && $.trim(data.key) != ""){
	  				showDiaplyAlertMessages("Welcome.!", "info");
	  				var url = data.url;
	  				var type = data.type;
	  				var key = data.key;
	  				var tocken = data.token;
	  				var finalURL = url+"i-team?type="+type+"&token="+tocken
	  				window.open(finalURL, '_blank');
	  			}else{
	  				showDiaplyAlertMessages("Errors in url parameters.", "error");
	  				return false;
	  			}
	  		},
			 error: function(e) {
				 showDiaplyAlertMessages("Errors in url parameters.", "error");
				 return false;
			 }
	      });
	}
	
	function open_url_in_new_window(target){
		
			$.ajax({
		  		method : "POST",
		  		url : "/rsunify//app/ikeaCommonUtilController/getdigipayurldata",
		  		async: false,
		  		cache: false,
		  		success : function(data) {
		  			 if($.trim(data.url) != ""){
		  				
		  				var url = data.url;
		  				window.open(url, '_blank');
		  			}else{
		  				showDiaplyAlertMessages("Errors in url parameters.", "error");
		  				return false;
		  			}
		  		},
				 error: function(e) {
					 showDiaplyAlertMessages("Errors in url parameters.", "error");
					 return false;
				 }
		      });
		
	}
	
	function getPartyDLExpInfo(){
		var partyDLExpinfo = {};
		var jsonObj = {"viewName" : "GET_PARTY_DL_EXP_INFO"};
	         $.ajax({
	          type: 'POST',
	          url : "/rsunify/app/reportsController/getReportScreenData.do?jasonParam="+JSON.stringify(jsonObj),
	          async: false,
				success : function(data) {
					$.each( data,function(key, card) {
						for(var i=1;i<card.length;i++){
							partyDLExpinfo=(card[i][1]);
						}
					});
					if(partyDLExpinfo != null && partyDLExpinfo !="" && partyDLExpinfo.length > 0){
						var partyDLExpinfoMsg = "Some of the Retailer Drug Licences have expired. Please refer Party Master Report to review & update."
						$('#ikea_homepage_bottom_message_1').text(partyDLExpinfoMsg);
					}
					
	         }
	      });
	}
	function rsDLExpInfo(){
		var rsInfojsonObj = {"viewName" : "GET_RS_DL_EXP_INFO"};
		var rsDLExpinfo = {};
        $.ajax({
	          type: 'POST',
	          url : "/rsunify/app/reportsController/getReportScreenData.do?jasonParam="+JSON.stringify(rsInfojsonObj),
	          async: false,
				success : function(data) {
					$.each( data,function(key, card) {
						for(var i=1;i<card.length;i++){
							rsDLExpinfo.dl20B=(card[i][1]);
							rsDLExpinfo.dl20BExpDate=(card[i][2]);
							rsDLExpinfo.dl21B=(card[i][3]);
							rsDLExpinfo.dl21BExpDate=(card[i][4]);
							rsDLExpinfo.isDlMandatory=(card[i][5]);
						}
					});
					if(rsDLExpinfo.isDlMandatory !=null && rsDLExpinfo.isDlMandatory !="" && rsDLExpinfo.isDlMandatory ==1){
						var now = new Date();
						var currentDate = moment(now).format('YYYY/MM/DD');
                        var dafalutDate = moment(now).format('YYYY-MM-DD');
                        
						var dl20BExp = moment(rsDLExpinfo.dl20BExpDate == '1900-01-01'?dafalutDate:rsDLExpinfo.dl20BExpDate,'YYYY/MM/DD');
						var dl21BExp = moment(rsDLExpinfo.dl21BExpDate == '1900-01-01'?dafalutDate:rsDLExpinfo.dl21BExpDate,'YYYY/MM/DD');
						
						var dl20BExpdays = dl20BExp.diff(currentDate, 'days');
						var dl21BExpdays = dl21BExp.diff(currentDate, 'days');
						
						var returnMsg = setMessage(dl20BExpdays, dl21BExpdays); 
						if(returnMsg !="" && returnMsg != undefined){
							$('#ikea_homepage_bottom_message').text(returnMsg+" Please do necessary action to avoid transaction block.");
						}
					}
	         }
	      });
	}
	
	function setMessage(dl20BExpdays, dl21BExpdays) {
		var returnMsg = "";
		if(dl20BExpdays <0 || dl21BExpdays <0){
			returnMsg = "Distributor Drug License (20 B)/(21 B) is expired";
		}else if(dl20BExpdays <=45 || dl21BExpdays <=45){
			returnMsg = "Distributor Drug License (20 B)/(21 B) is going to expiry";
		}
		return returnMsg;
	}
	
	function getEinvoiceConfigValue(){
		var jsonObj = {"viewName" : "GET_E_INVOICE_CONFIG_VALUE"};
		var configVal="";
	         $.ajax({
	          type: 'POST',
	          url : "/rsunify/app/reportsController/getReportScreenData.do?jasonParam="+JSON.stringify(jsonObj),
	          async: false,
				success : function(data) {
					$.each( data,function(key, card) {
						for(var i=1;i<card.length;i++){
							configVal=(card[i][1]);
						}
					});

				}
	      });
	         var now = new Date();
			 var currentDate = moment(now).format('DD/MM/YYYY');
             var configValueDate = configVal;
             var  returnVal = validateDateDetails(currentDate,configValueDate);
              if(returnVal != "GREATER" ){
            	  $('#e-invoice').attr("disabled", true).addClass('disabled');
            	  isEinvoiceFlag = false;
	         } else {
	        	 isEinvoiceFlag = true;
	         }
 	}
	
	function validateDateDetails(fromDate, toDate){
	     var returnVal = "INVALID";
	 var fromObject = parseStringToDate(fromDate);
	 var toObject = parseStringToDate(toDate);
	 if(fromObject != null && toObject != null){
	      if(fromObject.getTime() >= toObject.getTime()){
	          returnVal = "GREATER";
	      } else
	          returnVal = "VALID";
	 } else
	      returnVal = "INVALID"
	     return returnVal;
	}
	function parseStringToDate(value){
	     var valArray = value.split("/");
	     if(valArray.length >= 2){
	    	 var date = new Date(parseInt(valArray[2]), parseInt(valArray[1])-1, parseInt(valArray[0]));
	          return isNaN(date.getTime()) ? null: date;
	     } else
	          return null;
	}
	
	function generateReport() {

		var jsonObj = [];
		var jsonObjforheaders = [];
		var jsonObjfileInfi = [];

		jsonObjWhereClause = {
			
		};

		jsonObjfileInfi.push({
			'title' : "RSSM Beat Link PLG,RSSM Beat Link PLG" ,
			'reportfilename' : "RSSM Beat Link PLG",
			'viewpage' : "report/rssmBeatLink",
			'viewname' : "RSSM_BEAT_LINK_PLG",
			"querycount" : 1

		});
		$('#display-message').text("Report Generating....");
		$(':focus').blur();
		$.ajax({
			method : "POST",
			url : '/rsunify/app/reportsController/generatereport.do',
			data : {
				'jsonData' : JSON.stringify(jsonObj),//json object to store  to sql data
				'jsonObjforheaders' : JSON.stringify(jsonObjforheaders),//json object to store header lebel of report
				'jsonObjfileInfi' : JSON.stringify(jsonObjfileInfi),// json object to store report file name,title and view resolver
				'jsonObjWhereClause' : JSON.stringify(jsonObjWhereClause),//Where condition
				//'orderBy':'[Sr No]',

			},

			success : function(data) {
				$('#display-message').text("Report Generated Successfully...");
				if (data != undefined && $.trim(data) != "") {
					window.open("/rsunify/app/reportsController/downloadReport?filePath="+data,"_blank");
				}

				if (data == "false" || $.trim(data) == "") {
					$("#display-message").text("No Record found");
				}

			},
		});
	}
	
	var optimusEnabled = "0";
	
	function doOptimusSilentSync(){
		 $.ajax({
		        method: "GET",
		        url: "/rsunify/app/oauthuserValidation",
		        async: true,
		        success: function(data) {},
		        error: function(e) { return false; }
		    });
	}
	
	function getAutoMocConfigValue(){
		var jsonObj = {"viewName" : "GET_AUTO_MOC_CONFIG_VALUE"};
		var configVal="";
	         $.ajax({
	          type: 'POST',
	          url : "/rsunify/app/reportsController/getReportScreenData.do?jasonParam="+JSON.stringify(jsonObj),
	          async: false,
				success : function(data) {
					$.each( data,function(key, card) {
						for(var i=1;i<card.length;i++){
							configVal=(card[i][1]);
						}
					});

				}
	      });
              if(configVal !=null && configVal !="" && configVal == 1){
            	  //check current date is 20, 21, 22, 23
            	  var curDate = new Date().getDate();
            	  var curDay = new Date().getDay();
            	  if(((curDate == 19 && curDay == 6) || curDate >= 20) && curDate< 23){
            	  	$('#moccloseelaimgenerationscreen').removeAttr("disabled").removeClass('disabled');
            	  } else {
            		  $('#moccloseelaimgenerationscreen').attr("disabled", true).addClass('disabled');  
            	  }
	         }
 	}
	
	var OptimusScreeOpenName = "";
	var isOptimusLoadedInterval = null;
	
	//For screen openings from ikea to optimus
	function openOptimusScreenFromIkea(screenToOpen){
		if($("#optimus-central").length > 0){
			if(typeof opimus_win != "undefined" && !opimus_win.closed){
				globalDeliveryOptimusScreenFlag = true;
				optimusManualSyncProcessInitiation(screenToOpen);
			}else{
				optimusSyncAndRedirectToCenterUrl(screenToOpen);
				//clearInterval(isOptimusLoadedInterval);
				//isOptimusLoadedInterval = setInterval(optimusLoadedIntervalFnc, 3000);
			}
		} else {
			showVersionErroAlert("User doesn't have permission to access. Please contact Admin!..");
		}
	}
	
	function optimusLoadedIntervalFnc(){
		if( typeof opimus_win != "undefined" && typeof opimus_win.leocControllerObj != "undefined"  ){
			clearInterval(isOptimusLoadedInterval);
			opimus_win.leocControllerObj.switchContext(OptimusScreeOpenName);
		}
	}
	
	function afterSyncToOptimusFromDelivery(){
		
	    opimus_win.leocControllerObj.switchContext(OptimusScreeOpenName);
	   // setTimeout(function(){opimus_win.alert("Deliver opended here");},2000);
	}
	
	function disableReportBasedOnLogin(){
		if('false' == 'true' || "VEN" == "HD"){
    	  	$('#beat_mapping_utility_backUp_report').removeAttr("disabled").removeClass('disabled');
    	  } else {
    		  $('#beat_mapping_utility_backUp_report').attr("disabled", true).addClass('disabled');  
    	  }
	}
	
	/*chat bot script starts here*/
	if("true" == "true"){
		var close = false;
		$('#boticon').draggable({
		//	scroll: false, 
			containment: "window",
		    start: function(event, ui) {
		        $(this).addClass('noclick');
		    }
		});

		$('#boticon').click(function(event) {
		   // if ($(this).hasClass('noclick')) {
		  // //     $(this).removeClass('noclick');
		   // }
		   // else {
		    	myFunction();
		  //  }
		});
		function myFunction() {	
			$("#rsu-logtodo-menu-item").trigger("click");
			 document.getElementById("botsection").style.display = "block";
			  document.getElementById('boticon').style.display = "none";
			  document.getElementById("overlayHelpline").style.display = "none";
			  document.getElementById("overlay").style.display = "none";
			  document.getElementById("callIcon").style.display = "block";
			  document.getElementById("callIconAfter").style.display = "none";
			  document.getElementById("homeIconCall").style.display = "none";
			  document.getElementById("homeIcon").style.display = "block";
			  //console.log('inside myFunction '+close);
			 
			  		  
			  if(close){
				 //console.log('inside myFunctionif '+close);
				  //document.getElementById('botsection').append('div');
				  $(".bot-delete").remove();
		          document.getElementById('botsection').innerHTML += '<div id="bot" class="bot-delete" style="display: none;"></div>';
				  
				  window.WebChat.renderWebChat(
		            {
		               directLine: window.WebChat.createDirectLine({
		                  token: 'hm97epYqYoc.yfedIx4nGVcT4aw-bmfmWWnk52vZjxtTlCNrxM9y2zw'
		               }),
					   
		            },
		            document.getElementById('bot')
		          );
				  close = false;
				}
			 }
			 
			function minimizeChat() {
			  document.getElementById("botsection").style.display = "none";
			  document.getElementById('boticon').style.display = "block";
			  document.getElementById("overlay").style.display = "none";
			  document.getElementById("overlayHelpline").style.display = "none";
			}
			
			function helplineWIndow() {
			  document.getElementById("overlayHelpline").style.display = "block";
			  document.getElementById("overlay").style.display = "none";
			  document.getElementById("callIcon").style.display = "none";
			  document.getElementById("callIconAfter").style.display = "block";
			  document.getElementById("homeIcon").style.display = "none";
		   	  document.getElementById("homeIconCall").style.display = "block";
			}
			
			function closeChat() {
				document.getElementById("overlay").style.display = "block";
				document.getElementById("overlayHelpline").style.display = "none";
			}
			
			function refreshChat() {
			  document.getElementById("botsection").style.display = "block";
			  document.getElementById('boticon').style.display = "none";
			  document.getElementById("overlayHelpline").style.display = "none";
			  document.getElementById("overlay").style.display = "none";
			  document.getElementById("callIcon").style.display = "block";
			  document.getElementById("callIconAfter").style.display = "none";
			  document.getElementById("homeIconCall").style.display = "none";
			  document.getElementById("homeIcon").style.display = "block";
			  //console.log('inside myFunction '+close1);
			  document.getElementById('botsection').innerHTML += '<div id="bot" class="bot-delete" style="display: none;"></div>';
			}
			
			function yes(){
				document.getElementById("botsection").style.display = "none";
			  	document.getElementById('boticon').style.display = "block";
			  	document.getElementById("overlay").style.display = "none";
			   //location.reload();
			   close = true;
			}

			function no(){
				document.getElementById("overlay").style.display = "none";
				close = false;
			}
			
		(async function() {
				window.WebChat.renderWebChat(
				{
	               directLine: window.WebChat.createDirectLine({
	                  token: 'hm97epYqYoc.yfedIx4nGVcT4aw-bmfmWWnk52vZjxtTlCNrxM9y2zw'
	               }),
	            },
	            document.getElementById('bot')
			);
			}
		)().catch(err => console.error(err));
	}
	
	/*chat bot script end here*/
 </script>
	</html>
